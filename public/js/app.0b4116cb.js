(function(){"use strict";var t={9494:function(t,e,a){var o=a(9242),r=a(3396);const n={class:"container-fluid"};function s(t,e,a,o,s,i){const c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(c)])}var i=a(5658),c={name:"App",components:{},setup(){const{t:t}=(0,i.QT)();return{t:t}}},d=a(89);const u=(0,d.Z)(c,[["render",s]]);var m=u,l=a(250),f=a(2781),p=a(4161);const h=()=>fetch("http://",window.location.hostname,":3000/traducciones/getTraducciones").then((t=>t.json())).then((t=>t));a(2136),p.Z.defaults.baseURL="http://"+window.location.hostname+":3000",h().then((t=>{const e=t.reduce(((t,e)=>(e.languages.forEach((a=>{const o=Object.keys(a)[0],r=a[o];t[o]||(t[o]={}),t[o][e.key]=r})),t)),{});p.Z.get("traducciones/getIdioma").then((t=>{let a=t.data;const r=(0,i.o)({legacy:!1,locale:a.toLowerCase(),messages:e});(0,o.ri)(m).use(f.Z).use(l.Z).use(r).mount("#app")})).catch((t=>{const e=(0,i.o)({legacy:!1,locale:"es",messages:"null"});(0,o.ri)(m).use(f.Z).use(l.Z).use(e).mount("#app")}))})).catch((t=>{const e=(0,i.o)({legacy:!1,locale:"es",messages:"null"});(0,o.ri)(m).use(f.Z).use(l.Z).use(e).mount("#app")}))},250:function(t,e,a){a.d(e,{Z:function(){return b}});var o=a(2483),r=a(3396);const n=t=>((0,r.dD)("data-v-944bf33a"),t=t(),(0,r.Cn)(),t),s={class:"vh-100",style:{"background-color":"#1d1d1d"}},i=n((()=>(0,r._)("div",{class:"h-50"},[(0,r._)("br"),(0,r._)("br"),(0,r._)("br"),(0,r._)("br"),(0,r._)("br"),(0,r._)("br"),(0,r._)("br"),(0,r._)("br"),(0,r._)("br"),(0,r._)("br"),(0,r._)("div",{class:"pac-man"})],-1))),c=[i];function d(t,e,a,o,n,i){return(0,r.wg)(),(0,r.iD)("div",s,c)}var u=a(4834),m={name:"LoaderComponent",setup(){return setTimeout((function(){u.W.cargarConfiguracion(),u.W.recargarPromosCache(),u.W.cargarCestas(),u.W.cargarVentas(),u.W.cargarTeclado(),u.W.cargarTrabajadoresFichados(),u.W.cargarConfigurador(),u.W.iniciarToc()}),4e3),{}}},l=a(89);const f=(0,l.Z)(m,[["render",d],["__scopeId","data-v-944bf33a"]]);var p=f;const h=[{path:"/",name:"Loader",component:p},{path:"/installWizard",name:"Install Wizard",component:()=>a.e(144).then(a.bind(a,4144))},{path:"/tecnico",name:"Tecnico",component:()=>Promise.all([a.e(313),a.e(945)]).then(a.bind(a,945))},{path:"/abrirCaja",name:"Abrir caja",component:()=>Promise.all([a.e(313),a.e(320)]).then(a.bind(a,3320))},{path:"/main",name:"Main",component:()=>Promise.all([a.e(313),a.e(25)]).then(a.bind(a,25))},{path:"/cobro",name:"Cobro",component:()=>Promise.all([a.e(313),a.e(130)]).then(a.bind(a,9130))},{path:"/cestas",name:"Cestas",component:()=>Promise.all([a.e(313),a.e(81)]).then(a.bind(a,6081))},{path:"/menu",name:"Menu",component:()=>Promise.all([a.e(313),a.e(674)]).then(a.bind(a,674)),children:[{path:"caja",component:()=>Promise.all([a.e(313),a.e(764)]).then(a.bind(a,3764)),children:[{path:"cerrarCaja",component:()=>Promise.all([a.e(313),a.e(9)]).then(a.bind(a,7009))},{path:"tickets",component:()=>Promise.all([a.e(313),a.e(14)]).then(a.bind(a,3014))},{path:"entradaDinero",component:()=>Promise.all([a.e(313),a.e(352)]).then(a.bind(a,9352))},{path:"salidaDinero",component:()=>Promise.all([a.e(313),a.e(720)]).then(a.bind(a,5720))},{path:"verUltimoCierre",component:()=>Promise.all([a.e(313),a.e(424)]).then(a.bind(a,6424))}]},{path:"fichajes",component:()=>Promise.all([a.e(313),a.e(365)]).then(a.bind(a,9365))},{path:"pedidos",component:()=>a.e(52).then(a.bind(a,6052))},{path:"encargos",component:()=>Promise.all([a.e(313),a.e(207)]).then(a.bind(a,6207))}]}],g=(0,o.p7)({history:(0,o.PO)("/"),routes:h});var b=g},2136:function(t,e,a){a.r(e),a.d(e,{emitSocket:function(){return d},socket:function(){return c}});a(7658);var o=a(2066),r=a(2781),n=a(250),s=a(2492),i=a.n(s);const c=(0,o.io)("http://"+r.Z.state.TocGameURL+":5051");function d(t,e=null){c.connected&&c.emit(t,e)}c.on("cargarConfiguracion",(t=>{try{if(!t)throw Error("Error, parametros no es correcto");r.Z.dispatch("Configuracion/setParametros",t)}catch(e){i().fire("Oops...",e.message,"error")}})),c.on("cargarTrabajadores",(t=>{try{if(!t)throw Error("Error, arrayTrabajadores no es correcto");r.Z.dispatch("Trabajadores/setArrayTrabajadores",t)}catch(e){i().fire("Oops...",e.message,"error")}})),c.on("cargarCestas",(t=>{try{if(!t)throw Error("Error, arrayCestas no es correcto");r.Z.dispatch("Cestas/setArrayCestasAction",t)}catch(e){i().fire("Oops...",e.message,"error")}})),c.on("cargarVentas",(t=>{try{if(!t)throw Error("Error, arrayTickets no es correcto");r.Z.dispatch("Caja/setArrayVentas",t)}catch(e){i().fire("Oops...",e.message,"error")}})),c.on("cargarTeclado",(t=>{try{if(!t)throw Error("Error, teclado no es correcto");r.Z.dispatch("Teclado/setTeclado",t)}catch(e){i().fire("Oops...",e.message,"error")}})),c.on("disconnect",(()=>{c.sendBuffer=[]})),c.on("test",(t=>{})),c.on("resDatafono",(t=>{})),c.on("resConsultaPuntos",(t=>{0==t.error?i().fire({icon:"info",text:`Puntos del cliente: ${t.info}`}):i().fire("Oops...",t.mensaje,"error")})),c.on("consultaPaytef",(t=>{t?r.Z.dispatch("Datafono/setEstado","APROBADA"):(r.Z.dispatch("Datafono/setEstado","DENEGADA"),setTimeout((()=>{r.Z.dispatch("Datafono/setEstado","AGAIN")}),3e3))})),c.on("procesoPaytef",(t=>{t?r.Z.dispatch("Datafono/setProceso",t.proceso):r.Z.dispatch("Datafono/setProceso","")})),c.on("consultaPaytefRefund",(t=>{t.ok&&i().fire("OK","Devolución aceptada","success")})),c.on("resDatafono",(t=>{r.Z.dispatch("setEsperandoDatafono",!1),0==t.error?(r.Z.dispatch("Cestas/setIdAction",-1),r.Z.dispatch("setModoActual","NORMAL"),r.Z.dispatch("Clientes/resetClienteActivo"),r.Z.dispatch("Footer/resetMenuActivo"),n.Z.push({name:"Home",params:{tipoToast:"success",mensajeToast:"Ticket creado"}})):i().fire("Oops...",t.mensaje,"error")}))},4834:function(t,e,a){a.d(e,{W:function(){return m}});var o=a(7327),r=(a(7658),a(4161)),n=a(2492),s=a.n(n),i=a(250),c=a(2136);a(2781);const d="http://"+window.location.hostname+":3000/";class u{constructor(){(0,o.Z)(this,"cargarTrabajadoresFichados",(()=>(0,c.emitSocket)("cargarTrabajadores"))),(0,o.Z)(this,"cargarConfigurador",(()=>(0,c.emitSocket)("cargarConfigurador"))),(0,o.Z)(this,"cargarCestas",(()=>(0,c.emitSocket)("cargarCestas"))),(0,o.Z)(this,"cargarConfiguracion",(()=>(0,c.emitSocket)("cargarConfiguracion"))),(0,o.Z)(this,"recargarPromosCache",(()=>(0,c.emitSocket)("recargarPromociones"))),(0,o.Z)(this,"cargarVentas",(()=>(0,c.emitSocket)("cargarVentas"))),(0,o.Z)(this,"cargarTeclado",(()=>(0,c.emitSocket)("cargarTeclado")))}async todoInstalado(){try{return(await r.Z.get(d+"parametros/todoInstalado")).data}catch(t){return s().fire("Oops...",t.message,"error"),!1}}async hayFichados(){try{return(await r.Z.get(d+"trabajadores/hayFichados")).data}catch(t){return s().fire("Oops...",t.message,"error"),!1}}async cajaAbierta(){try{return(await r.Z.get(d+"caja/estadoCaja")).data}catch(t){return s().fire("Oops...",t.message,"error"),!1}}async getParametros(){try{return(await r.Z.post(d+"parametros/getParametros")).data}catch(t){return s().fire("Oops...",t.message,"error"),null}}async iniciarToc(){await this.todoInstalado()?await this.hayFichados()?await this.cajaAbierta()?i.Z.push("/main"):i.Z.push("/abrirCaja"):i.Z.push("/menu/fichajes"):i.Z.push("/installWizard")}}const m=new u},2781:function(t,e,a){a.d(e,{Z:function(){return v}});var o=a(65),r={namespaced:!0,state:{arrayTrabajadores:[],indexActivo:null},mutations:{setArrayTrabajadoresMutation(t,e){t.arrayTrabajadores=e},setIndexActivoMutation(t,e){t.indexActivo=e}},getters:{getArrayTrabajadores:t=>t.arrayTrabajadores,getIndexActivo:t=>t.trabajadorActivo,getTrabajadorActivo:t=>t.arrayTrabajadores[t.indexActivo]},actions:{setArrayTrabajadores({commit:t},e){t("setArrayTrabajadoresMutation",e)},setIndexActivo({commit:t},e){t("setIndexActivoMutation",e)}}},n=a(4161),s=a(2492),i=a.n(s),c={namespaced:!0,state:{arrayCestas:[],Descuento:0,indexItemActivo:null,cestaActiva:null,cestaActivaIndex:null,cestaBaseSeparado:null},mutations:{setArrayCestasMutation(t,e){t.arrayCestas=e},setDescuentoMutation(t,e){t.Descuento=e},setActivoMutation(t,e){t.indexItemActivo=e},setCestaActivaMutation(t,e){t.cestaActiva=e},setCestaActivaIndexMutation(t,e){t.cestaActivaIndex=e},setCestaBaseMutation(t,e){t.cestaBaseSeparado=e},deleteIndexMutation(t,{index:e,idCesta:a}){n.Z.post("cestas/borrarItemCesta",{idCesta:a,index:e}).then((e=>{if(!e.data)throw Error("No se ha podido eliminar el artículo de la cesta");t.indexItemActivo=null})).catch((t=>{i().fire("Oops...",t.message,"error")}))},deleteListaMutation(t,e){n.Z.post("cestas/borrarCesta",{idCesta:e}).then((t=>{if(!t.data)throw Error("No se ha podido borrar la lista")})).catch((t=>{i().fire("Oops...",t.message,"error")}))},async setClienteMutation(t,{index:e,idCliente:a,nombreCliente:o}){t.arrayCestas[e].idCliente=a,t.arrayCestas[e].nombreCliente=o,await d(t.arrayCestas[e])},async setModoMutation(t,{modo:e,index:a}){t.arrayCestas[a].modo=e,await d(t.arrayCestas[a])}},getters:{getArrayCestas:t=>t.arrayCestas,getCestaActiva:t=>t.cestaActiva,getCestaActivaIndex:t=>t.cestaActivaIndex,getItemActivo:t=>t.indexItemActivo,getCestaBaseActivo:t=>t.cestaBaseSeparado,getDescuento:t=>t.Descuento},actions:{setActivoAction({commit:t},e){t("setActivoMutation",e)},setArrayCestasAction({commit:t},e){t("setArrayCestasMutation",e)},setDescuentoAction({commit:t},e){t("setDescuentoMutation",e)},setCestaActivaAction({commit:t},e){t("setCestaActivaMutation",e)},setCestaActivaIndexAction({commit:t},e){t("setCestaActivaIndexMutation",e)},setCestaBaseAction({commit:t},e){t("setCestaBaseMutation",e)},deleteIndex({commit:t},{index:e,idCesta:a}){t("deleteIndexMutation",{index:e,idCesta:a})},deleteLista({commit:t},e){t("deleteListaMutation",e)},setClienteCesta({commit:t},e){t("setClienteMutation",e)},setModoCesta({commit:t},e){t("setModoMutation",e)}}};async function d(t){try{const e=await n.Z.post("cestas/updateCestaInverso",{cesta:t});if(!e.data)throw Error("No se ha podido actualizar la cesta en el servidor")}catch(e){i().fire("Oops...",e.message,"error")}}var u={namespaced:!0,state:{cajaAbierta:!1,arrayVentas:[]},mutations:{setArrayVentasMutation(t,e){t.arrayVentas=e}},getters:{},actions:{setArrayVentas({commit:t},e){t("setArrayVentasMutation",e)}}},m={namespaced:!0,state:{objTeclado:[],indexMenuActivo:0,indexSubmenuActivo:0},mutations:{setTecladoMutation(t,e){t.objTeclado=e},setIndexMenuActivoMutation(t,e){t.indexMenuActivo=e,t.indexSubmenuActivo=0},setIndexSubmenuActivoMutation(t,e){t.indexSubmenuActivo=e}},getters:{getTeclado:t=>t.objTeclado},actions:{setTeclado({commit:t},e){t("setTecladoMutation",e)},setIndexMenuActivo({commit:t},e){t("setIndexMenuActivoMutation",e)},setIndexSubmenuActivo({commit:t},e){t("setIndexSubmenuActivoMutation",e)}}},l=a(4834),f={namespaced:!0,state:{parametros:null},getters:{parametros:t=>t.parametros},mutations:{setParametrosMutation(t,e){t.parametros=e}},actions:{setParametros({commit:t},e){t("setParametrosMutation",e),l.W.cargarConfiguracion()}}};let p={waitingForCard:"ESPERANDO TARJETA",cardInserted:"TARJETA INSETADA",enterPIN:"ESPERANDO PIN",cardRemoved:"RETIRE TARJETA",amountConfirmation:"CONFIRME IMPORTE",finished:"FINALIZANDO PROCESO"};var h={namespaced:!0,state:{estado:"",procesoActual:"sin pagos pendientes..."},mutations:{setEstadoMutation(t,e){t.estado=e},setProcesoMutation(t,e){void 0==p[e]||"processing"==e?t.procesoActual="PROCESANDO... ":t.procesoActual=p[e]}},actions:{setEstado({commit:t},e){t("setEstadoMutation",e)},setProceso({commit:t},e){t("setProcesoMutation",e)}}},g={namespaced:!0,state:{vistaEspecial:!1},mutations:{setVistaClienteMutation(t,e){t.vistaEspecial=e},resetMutation(t){t.vistaEspecial=!1}},getters:{},actions:{setVistaCliente({commit:t},e){t("setVistaClienteMutation",e)},reset({commit:t}){t("resetMutation")}}},b={namespaced:!0,state:{unidades:1},mutations:{setUnidadesMutation(t,e){t.unidades=e}},getters:{getUnidades:t=>t.unidades},actions:{setUnidades({commit:t},e){t("setUnidadesMutation",e)}}},v=(0,o.MT)({state:{vistaEspecial:!1,modoActual:"NORMAL",TocGameURL:window.location.hostname},getters:{getModoActual:t=>t.modoActual,getTocGame:t=>t.TocGameURL},mutations:{setModoActualMutation(t,e){t.modoActual=e},setTocGameURLMutation(t,e){t.TocGameURL=e}},actions:{setModoActual({commit:t},e){t("setModoActualMutation",e)},setTocGameURL({commit:t},e){t("setTocGameURLMutation",e)}},modules:{Caja:u,Cestas:c,Trabajadores:r,Teclado:m,Configuracion:f,Datafono:h,EstadoDinamico:g,Unidades:b}})}},e={};function a(o){var r=e[o];if(void 0!==r)return r.exports;var n=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){var t=[];a.O=function(e,o,r,n){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],r=t[u][1],n=t[u][2];for(var i=!0,c=0;c<o.length;c++)(!1&n||s>=n)&&Object.keys(a.O).every((function(t){return a.O[t](o[c])}))?o.splice(c--,1):(i=!1,n<s&&(s=n));if(i){t.splice(u--,1);var d=r();void 0!==d&&(e=d)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[o,r,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,o){return a.f[o](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{9:"defa83d5",14:"ebf54897",25:"c9db958d",52:"40aaf705",81:"1911f23c",130:"6c0d615a",144:"028a5672",207:"d0f5d0f2",313:"3b563c16",320:"a2701bdd",352:"a81c2a4d",365:"47f0bcb0",424:"4bcda8c1",674:"c3facc4e",720:"8a01eb58",764:"3b79ec2f",945:"a0a8dbec"}[t]+".js"}}(),function(){a.miniCssF=function(t){return"css/"+t+"."+{9:"f69b6015",14:"19d7cac5",25:"3b5dc8c4",81:"019a9b87",130:"31878fb3",144:"85ddb002",207:"96b00d06",320:"19da2813",352:"a92e8ab5",365:"8d223952",674:"e3bb2494",720:"a1b9fc2c",764:"75650ab4",945:"96701f6f"}[t]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="toc-game-v4:";a.l=function(o,r,n,s){if(t[o])t[o].push(r);else{var i,c;if(void 0!==n)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var m=d[u];if(m.getAttribute("src")==o||m.getAttribute("data-webpack")==e+n){i=m;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",e+n),i.src=o),t[o]=[r];var l=function(e,a){i.onerror=i.onload=null,clearTimeout(f);var r=t[o];if(delete t[o],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(t){return t(a)})),e)return e(a)},f=setTimeout(l.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=l.bind(null,i.onerror),i.onload=l.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,o,r){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var s=function(a){if(n.onerror=n.onload=null,"load"===a.type)o();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,n.parentNode&&n.parentNode.removeChild(n),r(c)}};return n.onerror=n.onload=s,n.href=e,a?a.parentNode.insertBefore(n,a.nextSibling):document.head.appendChild(n),n},e=function(t,e){for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var r=a[o],n=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(n===t||n===e))return r}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){r=s[o],n=r.getAttribute("data-href");if(n===t||n===e)return r}},o=function(o){return new Promise((function(r,n){var s=a.miniCssF(o),i=a.p+s;if(e(s,i))return r();t(o,i,null,r,n)}))},r={143:0};a.f.miniCss=function(t,e){var a={9:1,14:1,25:1,81:1,130:1,144:1,207:1,320:1,352:1,365:1,674:1,720:1,764:1,945:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=o(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}}(),function(){var t={143:0};a.f.j=function(e,o){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)o.push(r[2]);else{var n=new Promise((function(a,o){r=t[e]=[a,o]}));o.push(r[2]=n);var s=a.p+a.u(e),i=new Error,c=function(o){if(a.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var n=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,r[1](i)}};a.l(s,c,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,n,s=o[0],i=o[1],c=o[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var u=c(a)}for(e&&e(o);d<s.length;d++)n=s[d],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},o=self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(9494)}));o=a.O(o)})();
//# sourceMappingURL=app.0b4116cb.js.map