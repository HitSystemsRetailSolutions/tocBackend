"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[230],{87185:function(t,a,e){e.d(a,{Z:function(){return v}});var o=e(73396);const n={class:"btn-group-vertical mt-1"},l={class:"btn-group"},d={class:"btn-group"},c={class:"btn-group"},u={class:"btn-group"},s={class:"btn-group"};function i(t,a,e,i,r,p){return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",l,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[0]||(a[0]=t=>i.addTecla("1"))}," 1 "),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[1]||(a[1]=t=>i.addTecla("2"))}," 2 "),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[2]||(a[2]=t=>i.addTecla("3"))}," 3 ")]),(0,o._)("div",d,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[3]||(a[3]=t=>i.addTecla("4"))}," 4 "),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[4]||(a[4]=t=>i.addTecla("5"))}," 5 "),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[5]||(a[5]=t=>i.addTecla("6"))}," 6 ")]),(0,o._)("div",c,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[6]||(a[6]=t=>i.addTecla("7"))}," 7 "),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[7]||(a[7]=t=>i.addTecla("8"))}," 8 "),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[8]||(a[8]=t=>i.addTecla("9"))}," 9 ")]),(0,o._)("div",u,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[9]||(a[9]=t=>i.deleteTecla())}," < "),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[10]||(a[10]=t=>i.addTecla("0"))}," 0 "),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[11]||(a[11]=t=>i.okValue(Number(i.cantidad)))}," OK ")]),(0,o._)("div",s,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonComa",onClick:a[12]||(a[12]=t=>i.addTecla("."))}," , ")])])}var r=e(44870),p={name:"NumpadComponent",setup(t,{expose:a}){const e=(0,r.iH)("0"),n=(0,o.f3)("okValue"),l=(0,r.iH)("5.5rem"),d=(0,r.iH)("5.5rem");function c(t){"."===t&&(e.value=e.value.replace(".","")),e.value+=t,"0"==e.value[0]&&(e.value=e.value.slice(1))}function u(){e.value=e.value.slice(0,-1),""===e.value&&(e.value="0")}function s(t){e.value=Number(t).toString()}return a({cantidad:e,setValor:s}),{okValue:n,cantidad:e,addTecla:c,deleteTecla:u,setValor:s,anchoTecla:l,altoTecla:d}}},b=e(40089);const m=(0,b.Z)(p,[["render",i],["__scopeId","data-v-0545dbcb"]]);var v=m},10230:function(t,a,e){e.r(a),e.d(a,{default:function(){return x}});var o=e(73396),n=e(87139),l=e(49242);const d={class:"col-md-4 colJuntitas espacios2"},c={class:"input-group input-group-lg"},u={value:"Entrega Diària",selected:""},s={value:"COMPRAS"},i={value:"OTROS"},r={key:0,class:"input-group input-group-lg"},p={class:"col-md-5 colJuntitas"},b={class:"col-12 d-flex justify-content-between"},m={class:"col-5"},v={class:"col-4"},_={class:"col-3"},y={class:"w-100"},f={class:"concepto"},C={class:"col-md-3 m-auto"};function w(t,a,e,w,g,T){const k=(0,o.up)("MDBCardHeader"),D=(0,o.up)("MDBCardBody"),N=(0,o.up)("MDBBtn"),B=(0,o.up)("MDBCardFooter"),z=(0,o.up)("MDBCard"),S=(0,o.up)("MDBTable"),h=(0,o.up)("NumpadComponent");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",d,[(0,o.Wm)(z,{text:"center",class:"sizeSalida m-auto mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.$t("salida_de_dinero","Salida de dinero")),1)])),_:1}),w.numpadRef&&w.numpadRef.cantidad?((0,o.wg)(),(0,o.j4)(D,{key:0},{default:(0,o.w5)((()=>[(0,o._)("div",c,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>w.numpadRef.cantidad=t),type:"text",class:"form-control",placeholder:"Introduce la cantidad",disabled:""},null,512),[[l.nr,w.numpadRef.cantidad]])]),(0,o.wy)((0,o._)("select",{class:"form-select form-select-lg mb-3 mt-2","aria-label":".form-select-lg example","onUpdate:modelValue":a[1]||(a[1]=t=>w.concepto=t)},[(0,o._)("option",u,(0,n.zw)(t.$t("entrega_diaria","ENTREGA DIARIA")),1),(0,o._)("option",s,(0,n.zw)(t.$t("compras","COMPRAS")),1),(0,o._)("option",i,(0,n.zw)(t.$t("otros","OTROS")),1)],512),[[l.bM,w.concepto]]),"OTROS"===w.concepto?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>w.otrosConcepto=t),type:"text",class:"form-control",placeholder:"Introduce el concepto"},null,512),[[l.nr,w.otrosConcepto]])])):(0,o.kq)("",!0)])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(B,{class:"text-muted text-end"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{color:"success",size:"lg",onClick:a[3]||(a[3]=t=>w.confirmarSalida())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.$t("confirmar_salida","Confirmar salida")),1)])),_:1})])),_:1})])),_:1})]),(0,o._)("div",p,[(0,o.Wm)(z,{class:"sizeCardListaSalida m-auto mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{style:{"text-align":"center"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.$t("listado_de_salidas","Listado de salidas")),1)])),_:1}),(0,o.Wm)(D,{class:"sizeCardBody"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{class:"sizeCardBodyListaSalida"},{default:(0,o.w5)((()=>[(0,o._)("thead",null,[(0,o._)("tr",b,[(0,o._)("th",m,(0,n.zw)(t.$t("hora","Hora")),1),(0,o._)("th",v,(0,n.zw)(t.$t("concepto","Concepto")),1),(0,o._)("th",_,(0,n.zw)(t.$t("total","Total")),1)])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.listaSalidas,((t,a)=>((0,o.wg)(),(0,o.iD)("tr",y,[(0,o._)("td",null,(0,n.zw)(w.getTiempo(t._id)),1),(0,o._)("td",f,(0,n.zw)(t.concepto),1),(0,o._)("td",null,(0,n.zw)(t.valor?.toFixed(2))+" €",1)])))),256))])])),_:1})])),_:1})])),_:1})]),(0,o._)("div",C,[(0,o.Wm)(h,{ref:"numpadRef"},null,512)])],64)}var g=e(44161),T=e(74313),k=e(42492),D=e.n(k),N=e(44870),B=e(20065),z=e(87185),S=e(36797),h=e.n(S),M={name:"SalidaComponent",components:{MDBCard:T.Yl,MDBCardHeader:T.uX,MDBCardBody:T.H7,NumpadComponent:z.Z,MDBBtn:T.$v,MDBCardFooter:T.Rw,MDBTable:T.re},setup(){const t=(0,B.oR)(),a=(0,o.Fl)((()=>t.state.Trabajadores.arrayTrabajadores)),e=(0,o.Fl)((()=>t.state.Trabajadores.indexActivo)),n=(0,o.Fl)((()=>a.value&&null!=e.value&&void 0!=e.value&&a.value[e.value]?a.value[e.value]:null)),l=(0,N.iH)(null),d=(0,N.iH)(""),c=(0,N.iH)("Entrega Diària"),u=(0,N.iH)([]);function s(t){const a=new Date(t);return h()(a).format("HH:mm:ss DD/MM/YYYY")}async function i(){let t;Number(l.value.cantidad)>=200&&(t=await D().fire({title:"¿Estás seguro?",text:"Se va a realizar una salida de dinero superior a 200€",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})),Number(l.value.cantidad)>=200&&!t.isConfirmed||g.Z.post("movimientos/nuevoMovimiento",{cantidad:Number(l.value.cantidad),concepto:"OTROS"===c.value?d.value:c.value,idTrabajador:n.value._id,tipo:"SALIDA"}).then((t=>{if(!t.data)throw Error("No se ha podido realizar la salida de dinero");l.value.setValor("0"),l.value.cantidad="0",D().fire("Perfecto","Salida de dinero realizada correctamente","success"),r()})).catch((t=>{D().fire("Oops...",t.message,"error")}))}function r(){g.Z.get("movimientos/getSalidasIntervalo").then((t=>{void 0!=t.data&&null!=t.data&&(u.value=t.data)})).catch((t=>{D().fire("Error al mostrar lista")}))}return(0,o.bv)((()=>{r()})),(0,o.JJ)("okValue",i),{confirmarSalida:i,numpadRef:l,concepto:c,otrosConcepto:d,listaSalidas:u,getTiempo:s}}},R=e(40089);const H=(0,R.Z)(M,[["render",w],["__scopeId","data-v-b84d1ca6"]]);var x=H}}]);
//# sourceMappingURL=230.a15a85b7.js.map