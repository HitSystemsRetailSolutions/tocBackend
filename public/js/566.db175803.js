"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[566],{566:function(a,t,e){e.r(t),e.d(t,{default:function(){return ta}});var i=e(3396),s=e(7139);const o={class:"row justify-content-center mt-4"},c={class:"col-7"},l={class:"card"},n=(0,i._)("div",{class:"card-header"},[(0,i._)("h4",null,"Ãšltimo cierre de caja")],-1),d={class:"card-body"},r={class:"row row-2"},v={class:"col-6"},m=(0,i._)("h6",{class:"text-center"},"Detalle",-1),u={class:"card"},_={class:"card-body"},f={class:"text-muted"},w={class:"row row-2"},p=(0,i._)("div",{class:"col-4"},"Resp:",-1),g={class:"col-8 text-start"},h=(0,i._)("div",{class:"col-4"},"Inici:",-1),x={class:"col-8 text-start"},C=(0,i._)("div",{class:"col-4"},"Final:",-1),D={class:"col-8 text-start"},b=(0,i._)("div",{class:"col-6 mb-2 mt-4"},"Calaix fet:",-1),H={class:"col-4 mb-2 mt-4 text-start"},z=(0,i._)("div",{class:"col-6 mt-2"},"Descuadre:",-1),T={class:"col-4 mt-2 text-start"},j=(0,i._)("div",{class:"col-6 mt-2"},"Clients atessos:",-1),F={class:"col-4 mt-2 text-start"},M=(0,i._)("div",{class:"col-6 mt-2"},"Rescaudat:",-1),Z={class:"col-4 mt-2 text-start"},y=(0,i._)("div",{class:"col-6 mt-2"},"Total 3G:",-1),k={class:"col-4 mt-2 text-start"},I=(0,i._)("div",{class:"col-6 mt-2"},"Canvi inicial:",-1),B={class:"col-4 mt-2 text-start"},U=(0,i._)("div",{class:"col-6 mt-2"},"Canvi final:",-1),G={class:"col-4 mt-2 text-start"},Y={class:"col-6 overflow-scroll"},R=(0,i._)("h6",{class:"text-center"},"Moviments de Caixa",-1),V={class:"card-body"},A={class:"row row-2 text-muted"},E=(0,i._)("div",{class:"col-4"},"Cantidad:",-1),K={class:"col-6 text-start"},W=(0,i._)("div",{class:"col-4"},"Fecha:",-1),$={class:"col-6 text-start"},q=(0,i._)("div",{class:"col-4"},"Concepto:",-1),J={class:"col-6 text-start"},L={class:"card-footer text-center"};function N(a,t,e,N,O,P){const Q=(0,i.up)("MDBBtn");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",c,[(0,i._)("div",l,[n,(0,i._)("div",d,[(0,i._)("div",r,[(0,i._)("div",v,[m,(0,i._)("div",u,[(0,i._)("div",_,[(0,i._)("div",f,[(0,i._)("div",w,[p,(0,i._)("div",g,(0,s.zw)(N.name),1),h,(0,i._)("div",x,(0,s.zw)(N.inicioTime),1),C,(0,i._)("div",D,(0,s.zw)(N.finalTime),1),b,(0,i._)("div",H,(0,s.zw)(N.calaixFetZ),1),z,(0,i._)("div",T,(0,s.zw)(N.descuadre),1),j,(0,i._)("div",F,(0,s.zw)(N.nClientes),1),M,(0,i._)("div",Z,(0,s.zw)(N.recaudado),1),y,(0,i._)("div",k,(0,s.zw)(N.totalDatafono3G),1),I,(0,i._)("div",B,(0,s.zw)(N.cambioInicial),1),U,(0,i._)("div",G,(0,s.zw)(N.cambioFinal),1)])])])])]),(0,i._)("div",Y,[R,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(N.moviments,((a,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"card mb-2",key:t},[(0,i._)("div",V,[(0,i._)("div",A,[E,(0,i._)("div",K,(0,s.zw)(a.valor),1),W,(0,i._)("div",$,(0,s.zw)(a.fecha),1),q,(0,i._)("div",J,(0,s.zw)(a.concepto),1)])])])))),128))])])]),(0,i._)("div",L,[(0,i.Wm)(Q,{color:"primary",class:"w-50",size:"lg",onClick:t[0]||(t[0]=a=>N.imprimirUltimoCierre())},{default:(0,i.w5)((()=>[(0,i.Uk)("Volver a imprimir cierre")])),_:1})])])])])}e(7658);var O=e(4313),P=e(70),Q=e(4870),S={name:"VerUltimoCierreComponent",components:{MDBBtn:O.$v},setup(){const a=(0,Q.iH)(""),t=(0,Q.iH)(0),e=(0,Q.iH)(0),s=(0,Q.iH)(0),o=(0,Q.iH)(0),c=(0,Q.iH)(0),l=(0,Q.iH)(0),n=(0,Q.iH)([]),d=(0,Q.iH)(0),r=(0,Q.iH)(0),v=(0,Q.iH)(0),m=(0,Q.iH)(0),u=(0,Q.iH)(0),_=(0,Q.iH)("");function f(){P.Z.post("/caja/getDatosUltimoCierre").then((a=>{P.Z.post("/trabajadores/getTrabajadorByID",{id:a.data.info[0].idDependienta}).then((t=>{a.data.info[0].idDependienta=t.data.trabajador.nombre,P.Z.post("/caja/getDatosMoviments",{fechaInicio:a.data.info[0].inicioTime,fechaFinal:a.data.info[0].finalTime}).then((t=>{a.data.info[0].movimientos=t.data.info,P.Z.post("/impresora/imprimirCaja",{caja:a.data.info[0]}).then((a=>{console.log(a)}))}))}))}))}return(0,i.bv)((()=>{P.Z.get("caja/getUltimoCierre").then((i=>{P.Z.post("trabajadores/getTrabajadorById",{id:i.data.idDependientaCierre}).then((t=>{a.value=t.data.nombre}));const m=new Date(i.data.inicioTime),u=new Date(i.data.finalTime);t.value=m.getDate()+"-"+m.getMonth()+"-"+m.getFullYear()+"  "+m.getHours()+":"+m.getMinutes(),e.value=u.getDate()+"-"+u.getMonth()+"-"+u.getFullYear()+"  "+u.getHours()+":"+u.getMinutes(),s.value=i.data.calaixFetZ,c.value=i.data.totalDatafono3G,o.value=i.data.descuadre,l.value=i.data.nClientes,v.value=i.data.recaudado,d.value=i.data.totalApertura,r.value=i.data.totalCierre,P.Z.post("movimientos/getMovimientosIntervalo",{inicio:i.data.inicioTime,final:i.data.finalTime}).then((a=>{a.data&&a.data.forEach((a=>{const t=new Date(a._id),e=t.getDate()+"-"+t.getMonth()+"-"+t.getFullYear()+"  "+t.getHours()+":"+t.getMinutes();n.value.push({fecha:e,concepto:a.concepto,valor:a.valor})}))}))}))})),{name:a,inicioTime:t,finalTime:e,calaixFetZ:s,totalDatafono3G:c,descuadre:o,recaudado:v,nClientes:l,cambioInicial:d,cambioFinal:r,moviments:n,concepto:_,valor:u,fecha:m,imprimirUltimoCierre:f}}},X=e(89);const aa=(0,X.Z)(S,[["render",N]]);var ta=aa}}]);
//# sourceMappingURL=566.db175803.js.map