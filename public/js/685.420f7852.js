"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[685],{55685:function(a,t,e){e.r(t),e.d(t,{default:function(){return Da}});var i=e(73396),o=e(87139);const c={class:"row justify-content-center mt-4"},l={class:"col-7"},s={class:"card",style:{"word-wrap":"normal !important"}},d={class:"card-header flexDiv"},r={class:"card-body"},n={class:"row row-2"},m={class:"col-6 overflow-scroll"},v={class:"text-center"},u={class:"card"},_={class:"card-body"},w={class:"text-muted"},p={class:"row row-2"},g={class:"col-4"},D={class:"col-8 text-start"},z={class:"col-4"},x={class:"col-8 text-start"},f={class:"col-4"},b={class:"col-8 text-start"},H={key:0,class:"col-6 mb-2 mt-2"},C={key:1,class:"col-4 mb-2 mt-2 text-start"},h={class:"col-6 mt-2"},T={class:"col-4 mt-2 text-start"},$={class:"col-6 mt-2"},k={class:"col-4 mt-2 text-start"},F={class:"col-6 mt-2"},y={class:"col-4 mt-2 text-start"},A={key:2,class:"col-6 mt-2"},M={key:3,class:"col-4 mt-2 text-start"},E={class:"col-6 mt-2"},j={class:"col-4 mt-2 text-start"},I={class:"col-6 mt-2"},U={class:"col-4 mt-2 text-start"},Z={class:"col-6 mt-2"},G={class:"col-4 mt-2 text-start"},P={class:"col-6 mt-2"},R={class:"col-4 mt-2 text-start"},q={class:"col-6 mt-2"},B={class:"col-4 mt-2 text-start"},N={class:"col-6 mt-2"},S={class:"col-4 mt-2 text-start"},Y={class:"col-6 mt-2"},L={class:"col-4 mt-2 text-start"},O={class:"col-6 mt-2"},K={class:"col-4 mt-2 text-start"},V={class:"col-6 mt-2"},W={class:"col-4 mt-2 text-start"},J={class:"col-6 overflow-scroll"},Q={class:"text-center"},X={key:0,class:"card-body"},aa={class:"row row-2 text-muted"},ta={class:"col-5"},ea={key:0,class:"col-5 text-start"},ia={key:1,class:"col-5 text-start"},oa={key:2,class:"col-5"},ca={class:"col-5"},la={class:"col-5 text-start"},sa={class:"col-5"},da={key:3,class:"col-5 text-start"},ra={key:4,class:"col-5 text-start"},na={key:5,class:"col-5 text-start"};function ma(a,t,e,ma,va,ua){const _a=(0,i.up)("MDBIcon");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",l,[(0,i._)("div",s,[(0,i._)("div",d,[(0,i._)("h4",null,(0,o.zw)(a.$t("ultimo_cierre_de_caja","Último cierre de caja")),1),(0,i.Uk)("    "),(0,i.Wm)(_a,{style:{"font-size":"1.5rem"},color:"secondary",icon:"print",onClick:t[0]||(t[0]=a=>ma.imprimirUltimoCierre())})]),(0,i._)("div",r,[(0,i._)("div",n,[(0,i._)("div",m,[(0,i._)("h6",v,(0,o.zw)(a.$t("detalle","Detalle")),1),(0,i._)("div",u,[(0,i._)("div",_,[(0,i._)("div",w,[(0,i._)("div",p,[(0,i._)("div",g,(0,o.zw)(a.$t("resp","Resp"))+":",1),(0,i._)("div",D,(0,o.zw)(ma.name),1),(0,i._)("div",z,(0,o.zw)(a.$t("inicio","Inicio"))+":",1),(0,i._)("div",x,(0,o.zw)(ma.inicioTime),1),(0,i._)("div",f,(0,o.zw)(a.$t("final","Final"))+":",1),(0,i._)("div",b,(0,o.zw)(ma.finalTime),1),ma.MostraTotalAcumulat?((0,i.wg)(),(0,i.iD)("div",H,(0,o.zw)(a.$t("cajon_hecho","Cajón hecho"))+": ",1)):(0,i.kq)("",!0),ma.MostraTotalAcumulat?((0,i.wg)(),(0,i.iD)("div",C,(0,o.zw)(ma.calaixFetZ.toFixed(2)),1)):(0,i.kq)("",!0),(0,i._)("div",h,(0,o.zw)(a.$t("descuadre","Descuadre"))+": ",1),(0,i._)("div",T,(0,o.zw)(ma.descuadre.toFixed(2)),1),(0,i._)("div",$,(0,o.zw)(a.$t("clientes_atendidos","Clientes atendidos (Caja)"))+": ",1),(0,i._)("div",k,(0,o.zw)(ma.nClientes),1),(0,i._)("div",F,(0,o.zw)(a.$t("clientes_atendidos","Clientes atendidos (Mesas)"))+": ",1),(0,i._)("div",y,(0,o.zw)(ma.nClientesMesas),1),ma.MostraTotalAcumulat?((0,i.wg)(),(0,i.iD)("div",A,(0,o.zw)(a.$t("recaudado","Recaudado"))+": ",1)):(0,i.kq)("",!0),ma.MostraTotalAcumulat?((0,i.wg)(),(0,i.iD)("div",M,(0,o.zw)(ma.recaudado.toFixed(2)),1)):(0,i.kq)("",!0),(0,i._)("div",E,(0,o.zw)(a.$t("total_3g","Total 3G"))+": ",1),(0,i._)("div",j,(0,o.zw)(ma.totalDatafono3G.toFixed(2)),1),(0,i._)("div",I,(0,o.zw)(a.$t("total_3g","Total PayTef"))+": ",1),(0,i._)("div",U,(0,o.zw)(ma.totalDatafonoPaytef.toFixed(2)),1),(0,i._)("div",Z,(0,o.zw)(a.$t("total_deudas","Total deudas"))+": ",1),(0,i._)("div",G,(0,o.zw)(ma.deudas.toFixed(2)),1),(0,i._)("div",P,(0,o.zw)(a.$t("cambio_inicial","Cambio inicial"))+": ",1),(0,i._)("div",R,(0,o.zw)(ma.cambioInicial.toFixed(2)),1),(0,i._)("div",q,(0,o.zw)(a.$t("cambio_final","Cambio final"))+": ",1),(0,i._)("div",B,(0,o.zw)(ma.cambioFinal.toFixed(2)),1),(0,i._)("div",N,(0,o.zw)(a.$t("cambio_emergencia_inicial","Cambio emergecia inicial"))+": ",1),(0,i._)("div",S,(0,o.zw)(ma.cambioEmergenciaApertura.toFixed(2)),1),(0,i._)("div",Y,(0,o.zw)(a.$t("cambio_emergencia_final","Cambio emergecia final"))+": ",1),(0,i._)("div",L,(0,o.zw)(ma.cambioEmergenciaCierre.toFixed(2)),1),(0,i._)("div",O,(0,o.zw)(a.$t("total_honei","Total Honei"))+": ",1),(0,i._)("div",K,(0,o.zw)(ma.totalHonei?.toFixed(2)||0),1),(0,i._)("div",V,(0,o.zw)(a.$t("propinas","Propinas"))+": ",1),(0,i._)("div",W,(0,o.zw)(ma.propinas?.toFixed(2)||0),1)])])])])]),(0,i._)("div",J,[(0,i._)("h6",Q,(0,o.zw)(a.$t("movimientos_de_cajon","Movimientos de cajón")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(ma.moviments,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"card mb-2",key:e},["Salida"==t.concepto||"Entrega Diària"==t.concepto||"Entrada"==t.concepto||"DEUDA"==t.concepto?((0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("div",aa,[(0,i._)("div",ta,(0,o.zw)(a.$t("cantidad","Cantidad"))+":",1),"SALIDA"==t.tipo?((0,i.wg)(),(0,i.iD)("div",ea," -"+(0,o.zw)(t.valor.toFixed(2)),1)):"ENTRADA_DINERO"==t.tipo?((0,i.wg)(),(0,i.iD)("div",ia," +"+(0,o.zw)(t.valor.toFixed(2)),1)):((0,i.wg)(),(0,i.iD)("div",oa,(0,o.zw)(t.valor.toFixed(2)),1)),(0,i._)("div",ca,(0,o.zw)(a.$t("fecha","Fecha"))+":",1),(0,i._)("div",la,(0,o.zw)(t.fecha),1),(0,i._)("div",sa,(0,o.zw)(a.$t("concepto","Concepto"))+":",1),"SALIDA"==t.tipo&&"DEUDA"==t.concepto?((0,i.wg)(),(0,i.iD)("div",da,(0,o.zw)(a.$t("deuda_pendiente","Deuda pendiente")),1)):"ENTRADA_DINERO"==t.tipo&&"DEUDA"==t.concepto?((0,i.wg)(),(0,i.iD)("div",ra,(0,o.zw)(a.$t("deuda_pagada","Deuda pagada")),1)):((0,i.wg)(),(0,i.iD)("div",na,(0,o.zw)(t.concepto),1))])])):(0,i.kq)("",!0)])))),128))])])])])])])}e(57658);var va=e(74313),ua=e(44161),_a=e(44870),wa={name:"VerUltimoCierreComponent",components:{MDBBtn:va.$v,MDBIcon:va.vm},setup(){const a=(0,_a.iH)(""),t=(0,_a.iH)(0),e=(0,_a.iH)(0),o=(0,_a.iH)(0),c=(0,_a.iH)(0),l=(0,_a.iH)(0),s=(0,_a.iH)(0),d=(0,_a.iH)(0),r=(0,_a.iH)(0),n=(0,_a.iH)(0),m=(0,_a.iH)(0),v=(0,_a.iH)([]),u=(0,_a.iH)(0),_=(0,_a.iH)(0),w=(0,_a.iH)(0),p=(0,_a.iH)(0),g=(0,_a.iH)(0),D=(0,_a.iH)(0),z=(0,_a.iH)(0),x=(0,_a.iH)(""),f=(0,_a.iH)(0),b=(0,_a.iH)(0),H=(0,_a.iH)(0);function C(){ua.Z.post("caja/imprimirUltimoCierre")}return(0,i.bv)((()=>{ua.Z.get("caja/getUltimoCierre").then((i=>{ua.Z.post("trabajadores/getTrabajadorById",{idTrabajador:i.data.idDependientaCierre}).then((t=>{a.value=t.data.nombre}));const D=new Date(i.data.inicioTime),z=new Date(i.data.finalTime);t.value=D.getDate()+"-"+(D.getMonth()+1)+"-"+D.getFullYear()+"  "+D.getHours()+":"+D.getMinutes(),e.value=z.getDate()+"-"+(z.getMonth()+1)+"-"+z.getFullYear()+"  "+z.getHours()+":"+z.getMinutes(),o.value=i.data.calaixFetZ,l.value=i.data.totalDatafono3G,s.value=i.data.cantidadPaytef,d.value=i.data.totalTicketDatafono3G,c.value=i.data.descuadre,n.value=i.data.nClientes,m.value=i.data.nClientesMesas||0,g.value=i.data.recaudado,u.value=i.data.totalApertura,_.value=i.data.totalCierre,w.value=i.data?.cambioEmergenciaApertura||0,p.value=i.data?.cambioEmergenciaCierre||0,f.value=i?.data?.totalHonei,b.value=i?.data?.propina||0,r.value=i.data?.totalDeudas?i.data?.totalDeudas:0,ua.Z.post("movimientos/getMovimientosIntervalo",{inicio:i.data.inicioTime,final:i.data.finalTime}).then((a=>{a.data&&a.data.forEach((a=>{const t=new Date(a._id),e=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()+"  "+t.getHours()+":"+t.getMinutes();v.value.push({fecha:e,concepto:a.concepto,valor:a.valor,tipo:a.tipo})}))}))})),ua.Z.post("parametros/getParametros").then((a=>{void 0!=a.data?.params?.MostraTotalAcumulat?"Si"==a.data?.params?.MostraTotalAcumulat&&(H.value=!0):H.value=!1}))})),{name:a,inicioTime:t,finalTime:e,calaixFetZ:o,totalDatafono3G:l,descuadre:c,recaudado:g,nClientes:n,nClientesMesas:m,cambioInicial:u,cambioFinal:_,cambioEmergenciaApertura:w,cambioEmergenciaCierre:p,moviments:v,totalDatafonoPaytef:s,concepto:x,valor:z,fecha:D,imprimirUltimoCierre:C,totalTicketDatafono3G:d,totalHonei:f,propinas:b,deudas:r,MostraTotalAcumulat:H}}},pa=e(40089);const ga=(0,pa.Z)(wa,[["render",ma],["__scopeId","data-v-563c765e"]]);var Da=ga}}]);
//# sourceMappingURL=685.420f7852.js.map