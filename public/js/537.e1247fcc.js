"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[537],{86619:function(t,a,e){e.d(a,{Z:function(){return f}});var n=e(73396),o=e(87139);const l={class:"btn-group"},d={class:"btn-group"},u={class:"btn-group"},c={class:"btn-group"},s={class:"btn-group"};function r(t,a,e,r,i,p){return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["btn-group-vertical mt-1",{disabled:e.disabled}])},[(0,n._)("div",l,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[0]||(a[0]=t=>r.addTecla("1"))}," 1 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[1]||(a[1]=t=>r.addTecla("2"))}," 2 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[2]||(a[2]=t=>r.addTecla("3"))}," 3 ")]),(0,n._)("div",d,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[3]||(a[3]=t=>r.addTecla("4"))}," 4 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[4]||(a[4]=t=>r.addTecla("5"))}," 5 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[5]||(a[5]=t=>r.addTecla("6"))}," 6 ")]),(0,n._)("div",u,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[6]||(a[6]=t=>r.addTecla("7"))}," 7 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[7]||(a[7]=t=>r.addTecla("8"))}," 8 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[8]||(a[8]=t=>r.addTecla("9"))}," 9 ")]),(0,n._)("div",c,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[9]||(a[9]=t=>r.deleteTecla())}," < "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[10]||(a[10]=t=>r.addTecla("0"))}," 0 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[11]||(a[11]=t=>r.okValue(Number(r.cantidad)))}," OK ")]),(0,n._)("div",s,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonComa",onClick:a[12]||(a[12]=t=>r.addTecla("."))}," , ")])],2)}e(42492);var i=e(32066),p=e(66592),b=e(44870);const m=(0,i.io)("http://"+p.Z.state.TocGameURL+":5051");var v={props:{skipBalanza:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},name:"NumpadComponent",setup(t,{expose:a}){const e=(0,b.iH)("0"),o=(0,n.f3)("okValue"),l=(0,b.iH)("5.5rem"),d=(0,b.iH)("5.5rem");(0,n.Fl)((()=>p.Z.state.Weight.lastWeight));function u(t){"."===t&&(e.value=e.value.replace(".","")),e.value+=t,"0"==e.value[0]&&(e.value=e.value.slice(1))}function c(){e.value=e.value.slice(0,-1),""===e.value&&(e.value="0")}function s(t){e.value=Number(t).toString()}return m.on("setBalanzaValue",(a=>{a&&!t.skipBalanza&&s(a)})),a({cantidad:e,setValor:s}),(0,n.bv)((async()=>{t.skipBalanza||s((await(0,n.Fl)((()=>p.Z.state.Weight.lastWeight))).value)})),{okValue:o,cantidad:e,addTecla:u,deleteTecla:c,setValor:s,anchoTecla:l,altoTecla:d}}},_=e(40089);const y=(0,_.Z)(v,[["render",r],["__scopeId","data-v-ae1efb7e"]]);var f=y},15537:function(t,a,e){e.r(a),e.d(a,{default:function(){return M}});var n=e(73396),o=e(87139),l=e(49242);const d={class:"col-md-4 colJuntitas"},u={class:"input-group input-group-lg"},c={class:"input-group input-group-lg mt-2"},s={class:"col-md-5 colJuntitas"},r={class:"col-12 d-flex justify-content-between"},i={class:"col-5"},p={class:"col-4"},b={class:"col-3"},m={class:"w-100"},v={class:"concepto"},_={class:"col-md-3 m-auto"};function y(t,a,e,y,f,C){const w=(0,n.up)("MDBCardHeader"),g=(0,n.up)("MDBCardBody"),k=(0,n.up)("MDBBtn"),T=(0,n.up)("MDBCardFooter"),B=(0,n.up)("MDBCard"),h=(0,n.up)("MDBTable"),D=(0,n.up)("NumpadComponent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",d,[(0,n.Wm)(B,{text:"center",class:"sizeSalida m-auto mt-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.$t("entrada_de_dinero","Entrada de dinero")),1)])),_:1}),y.numpadRef&&y.numpadRef.cantidad?((0,n.wg)(),(0,n.j4)(g,{key:0},{default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>y.numpadRef.cantidad=t),type:"text",class:"form-control",placeholder:"Introduce la cantidad",disabled:""},null,512),[[l.nr,y.numpadRef.cantidad]])]),(0,n._)("div",c,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>y.concepto=t),type:"text",class:"form-control",placeholder:"Concepto"},null,512),[[l.nr,y.concepto]])])])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(T,{class:"text-muted text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{color:"success",size:"lg",onClick:a[2]||(a[2]=t=>y.confirmarEntrada())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.$t("confirmar_entrada","Confirmar entrada")),1)])),_:1})])),_:1})])),_:1})]),(0,n._)("div",s,[(0,n.Wm)(B,{class:"sizeCardListaEntrada m-auto mt-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{style:{"text-align":"center"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.$t("listado_de_entradas","Listado de entradas")),1)])),_:1}),(0,n.Wm)(g,{class:"sizeCardBody"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:"sizeCardBodyListaEntrada"},{default:(0,n.w5)((()=>[(0,n._)("thead",null,[(0,n._)("tr",r,[(0,n._)("th",i,(0,o.zw)(t.$t("hora","Hora")),1),(0,n._)("th",p,(0,o.zw)(t.$t("concepto","Concepto")),1),(0,n._)("th",b,(0,o.zw)(t.$t("total","Total")),1)])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.listaEntradas,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",m,[(0,n._)("td",null,(0,o.zw)(y.getTiempo(t._id)),1),(0,n._)("td",v,(0,o.zw)(t.concepto),1),(0,n._)("td",null,(0,o.zw)(t.valor?.toFixed(2))+" â‚¬",1)])))),256))])])),_:1})])),_:1})])),_:1})]),(0,n._)("div",_,[(0,n.Wm)(D,{ref:"numpadRef"},null,512)])],64)}var f=e(91076),C=e(74313),w=e(42492),g=e.n(w),k=e(44870),T=e(20065),B=e(86619),h=e(36797),D=e.n(h),N={name:"EntradaComponent",components:{MDBCard:C.Yl,MDBCardHeader:C.uX,MDBCardBody:C.H7,NumpadComponent:B.Z,MDBBtn:C.$v,MDBCardFooter:C.Rw,MDBTable:C.re},setup(){const t=(0,T.oR)(),a=(0,n.Fl)((()=>t.state.Trabajadores.arrayTrabajadores)),e=(0,n.Fl)((()=>t.state.Trabajadores.indexActivo)),o=(0,n.Fl)((()=>a.value&&null!=e.value&&void 0!=e.value&&a.value[e.value]?a.value[e.value]:null)),l=(0,k.iH)(null),d=(0,k.iH)(""),u=(0,k.iH)([]);function c(t){const a=new Date(t);return D()(a).format("HH:mm:ss DD/MM/YYYY")}function s(){""==d.value&&(d.value="Entrada"),f.Z.post("movimientos/nuevoMovimiento",{cantidad:Number(l.value.cantidad),concepto:d.value,idTrabajador:o.value._id,tipo:"ENTRADA_DINERO"}).then((t=>{if(!t.data)throw Error("No se ha podido realizar la entrada de dinero");l.value.setValor("0"),g().fire("Perfecto","Entrada de dinero realizada correctamente","success"),r()})).catch((t=>{g().fire("Oops...",t.message,"error")}))}function r(){f.Z.get("movimientos/getEntradasIntervalo").then((t=>{void 0!=t.data&&null!=t.data&&(u.value=t.data.reverse())})).catch((t=>{g().fire("Oops...","Error al mostrar lista","error")}))}return(0,n.bv)((()=>{r()})),(0,n.JJ)("okValue",s),{confirmarEntrada:s,numpadRef:l,concepto:d,listaEntradas:u,getEntradas:r,getTiempo:c}}},z=e(40089);const E=(0,z.Z)(N,[["render",y],["__scopeId","data-v-4184d2db"]]);var M=E}}]);
//# sourceMappingURL=537.e1247fcc.js.map