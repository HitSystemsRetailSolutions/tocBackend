(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34eee0f2"],{"308b":function(t,a,e){"use strict";e.r(a);var c=e("7a23"),n=function(t){return Object(c["A"])("data-v-a91500a6"),t=t(),Object(c["y"])(),t},s={class:"row"},r={class:"col-md-6 ms-3 mt-3"},o={class:"row ms-3"},i={class:"card cardWidth"},d={class:"card-body",style:{"text-align":"center"}},l=n((function(){return Object(c["h"])("span",null,[Object(c["h"])("i",{class:"bi bi-fingerprint"})],-1)})),b={class:"card cardWidth"},u={class:"card-body",style:{"text-align":"center"}},h=n((function(){return Object(c["h"])("span",null,[Object(c["h"])("i",{class:"bi bi-cup-straw"})],-1)})),j={class:"card cardWidth"},f={class:"card-body",style:{"text-align":"center"}},O=n((function(){return Object(c["h"])("span",null,[Object(c["h"])("i",{class:"bi bi-file-earmark-lock"})],-1)})),p={class:"card cardWidth"},m={class:"card-body",style:{"text-align":"center"}},v=n((function(){return Object(c["h"])("span",null,[Object(c["h"])("i",{class:"bi bi-power"})],-1)})),y={class:"row ms-3"},g={class:"card cardWidth"},w={class:"card-body",style:{"text-align":"center"}},C=n((function(){return Object(c["h"])("span",null,[Object(c["h"])("i",{class:"bi bi-door-open"})],-1)})),x={class:"modal fade",id:"modalFichajes","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},k={class:"modal-dialog",style:{"max-width":"700px"}},T={class:"modal-content"},A=n((function(){return Object(c["h"])("div",{class:"modal-header"},[Object(c["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Fichaje"),Object(c["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),P={class:"modal-body"},I={class:"row"},M=n((function(){return Object(c["h"])("div",{class:"row mt-2"},null,-1)})),N={class:"row mt-2"},R={class:"table",style:{height:"400px"}},_={class:"table table-striped"},E=n((function(){return Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",{scope:"col"},"Nombre"),Object(c["h"])("th",{scope:"col"},"Fichar/Desfichar"),Object(c["h"])("th",{scope:"col"},"Descanso")])],-1)})),F={key:0},S=["onClick"],q={key:1},B=n((function(){return Object(c["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-success"},"Fichada/o",-1)})),D=[B],z={key:2},L=["onClick"],U={key:3},W=n((function(){return Object(c["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-warning ms-2"},"Fin Descanso",-1)})),J=[W],V={class:"modal-footer"},H={class:"modal fade",id:"modalPassword",tabindex:"-1"},G={class:"modal-dialog",style:{"max-width":"700px"}},K={class:"modal-content"},Q=n((function(){return Object(c["h"])("div",{class:"modal-header"},[Object(c["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Ingresa la contraseña"),Object(c["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),X={class:"modal-body"},Y={class:"row"},Z={class:"col"},$={class:"mb-3"},tt=n((function(){return Object(c["h"])("label",{class:"form-label"},"Contraseña",-1)})),at=n((function(){return Object(c["h"])("div",{class:"modal-footer"},[Object(c["h"])("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Cerrar"),Object(c["h"])("button",{type:"submit",class:"btn btn-success","data-bs-dismiss":"modal"},"Confirmar")],-1)}));function et(t,a,e,n,B,W){return Object(c["x"])(),Object(c["g"])(c["a"],null,[Object(c["h"])("div",s,[Object(c["h"])("div",r,[Object(c["h"])("div",o,[Object(c["h"])("div",i,[Object(c["h"])("div",d,[l,Object(c["h"])("a",{href:"#",class:"btn btn-primary",onClick:a[0]||(a[0]=function(t){return n.abrirModal()})},"Fichaje")])]),Object(c["h"])("div",b,[Object(c["h"])("div",u,[h,Object(c["h"])("button",{onClick:a[1]||(a[1]=function(t){return n.consumoPersonal()}),class:"btn btn-primary"},"Consumo personal")])]),Object(c["h"])("div",j,[Object(c["h"])("div",f,[O,Object(c["h"])("button",{onClick:a[2]||(a[2]=function(t){return n.abrirModalPassword()}),class:"btn btn-primary"},"Menú responsable")])]),Object(c["h"])("div",p,[Object(c["h"])("div",m,[v,Object(c["h"])("button",{onClick:a[3]||(a[3]=function(t){return n.apagarEquipo()}),class:"btn btn-danger"},"Apagar")])])]),Object(c["h"])("div",y,[Object(c["h"])("div",g,[Object(c["h"])("div",w,[C,Object(c["h"])("button",{onClick:a[4]||(a[4]=function(t){return n.desfichar()}),class:"btn btn-primary"},"DesFichar")])])])])]),Object(c["h"])("div",x,[Object(c["h"])("div",k,[Object(c["h"])("div",T,[A,Object(c["h"])("div",P,[Object(c["h"])("div",I,[Object(c["R"])(Object(c["h"])("input",{"onUpdate:modelValue":a[5]||(a[5]=function(t){return n.inputBusqueda=t}),class:"form-control",style:{width:"350px",height:"50px","font-size":"20px"},type:"text",placeholder:"Introduce tu nombre"},null,512),[[c["N"],n.inputBusqueda]]),Object(c["h"])("button",{type:"button",style:{width:"100px"},class:"btn btn-primary ms-2",onClick:a[6]||(a[6]=function(t){return n.buscar()})},"Buscar"),Object(c["h"])("button",{type:"button",style:{width:"200px"},class:"btn btn-warning ms-2",onClick:a[7]||(a[7]=function(t){return n.actualizarLista()})},"Actualizar lista"),M,Object(c["h"])("div",N,[Object(c["h"])("div",R,[Object(c["h"])("table",_,[E,Object(c["h"])("tbody",null,[(Object(c["x"])(!0),Object(c["g"])(c["a"],null,Object(c["D"])(n.arrayTrabajadores,(function(t,a){return Object(c["x"])(),Object(c["g"])("tr",{key:a},[Object(c["h"])("td",null,Object(c["I"])(t.nombre),1),!1===t.fichado||void 0==t.fichado?(Object(c["x"])(),Object(c["g"])("td",F,[Object(c["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-primary btn_fc",onClick:function(e){return n.fichar(t,a)}},"FICHAR",8,S)])):(Object(c["x"])(),Object(c["g"])("td",q,D)),!1===t.descanso||void 0==t.descanso?(Object(c["x"])(),Object(c["g"])("td",z,[Object(c["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-primary btn_fc",onClick:function(e){return n.fichar(t,a)}},"DESCANSO",8,L)])):(Object(c["x"])(),Object(c["g"])("td",U,J))])})),128))])])])])])]),Object(c["h"])("div",V,[Object(c["h"])("button",{type:"button",class:"btn btn-danger btn-lg","data-bs-dismiss":"modal",onClick:a[8]||(a[8]=function(t){return n.goTo("/")})},"Confirmar")])])])]),Object(c["h"])("div",H,[Object(c["h"])("div",G,[Object(c["h"])("div",K,[Object(c["h"])("form",{onSubmit:a[10]||(a[10]=Object(c["S"])((function(t){return n.goToMenuResponsable()}),["prevent"]))},[Q,Object(c["h"])("div",X,[Object(c["h"])("div",Y,[Object(c["h"])("div",Z,[Object(c["h"])("div",$,[tt,Object(c["R"])(Object(c["h"])("input",{type:"password",minlength:"3",maxlength:"20",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=function(t){return n.password=t})},null,512),[[c["N"],n.password]])])])])]),at],32)])])])],64)}var ct=e("1da1"),nt=(e("96cf"),e("7b17")),st=e("bc3a"),rt=e.n(st),ot=e("5502"),it=e("a18c"),dt=e("0180"),lt=e("f06f"),bt=e("10c4"),ut={name:"Dependientas",setup:function(){var t=Object(ot["b"])(),a=Object(c["C"])("SIN_TURNO"),e="Santy",n=156,s=Object(c["C"])(!1),r=null,o=null,i=Object(c["C"])([]),d=Object(c["C"])(""),l=Object(dt["b"])(),b=Object(c["C"])([]),u=Object(c["C"])("");function h(){console.log("El selected es: ",a.value)}function j(){return f.apply(this,arguments)}function f(){return f=Object(ct["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bt(u.value);case 2:a=t.sent,"4cd914fef37199909adb4c0ba5e31439429995c4"==a?it["a"].push("/menuResponsable"):l.error("Contraseña incorrecta");case 4:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function O(){r.show(),s.value&&console.log("silema")}function p(){o.show()}function m(){r.hide()}function v(){rt.a.post("trabajadores/buscar",{busqueda:d.value}).then((function(t){i.value=t.data}))["catch"]((function(t){console.log(t)}))}function y(e,c){rt.a.post("trabajadores/fichar",{idTrabajador:e.idTrabajador,idPlan:a.value}).then((function(n){n.data.error?(l.error(n.data.mensaje),i.value[c].fichado=!1):(t.dispatch("Cesta/setIdAction",e.idTrabajador),i.value[c].fichado=!0,a.value="SIN_TURNO")}))["catch"]((function(t){console.log(t)}))}function g(e,c){rt.a.post("trabajadores/descanso",{idTrabajador:e.idTrabajador,idPlan:a.value}).then((function(n){n.data.error?(l.error(n.data.mensaje),i.value[c].fichado=!1):(t.dispatch("Cesta/setIdAction",e.idTrabajador),i.value[c].fichado=!0,a.value="SIN_TURNO")}))["catch"]((function(t){console.log(t)}))}function w(t,a){y(t,a)}function C(){rt.a.post("trabajadores/actualizarTrabajadores").then((function(t){0==t.data.error?l.success("Trabajadores actualizados"):l.error(t.data.mensaje)}))}function x(){rt.a.post("trabajadores/desfichar",{idTrabajador:t.state.Trabajadores.trabajadorActivo}).then((function(a){a.data.error?l.error("Error al desfichar"):(t.dispatch("CestasActivas/deleteCestaActivaAction",t.state.Trabajadores.trabajadorActivo),rt.a.post("cestas/getCestaDiferente",{id_cesta:t.state.Trabajadores.trabajadorActivo}).then((function(a){t.dispatch("Cesta/setIdAction",a.data._id),rt.a.post("trabajadores/setActivo",{id:a.data._id}).then((function(t){t.data.error&&l.error(t.data.mensaje)})),it["a"].push("/")}))["catch"]((function(t){l.error(t.message)})))}))["catch"]((function(t){l.error(t.message)}))}function k(){t.dispatch("setModoActual","CONSUMO PERSONAL"),t.dispatch("Footer/setMenuActivo",1),it["a"].push("/")}function T(t){it["a"].push(t)}function A(){rt.a.get("apagarEquipo")["catch"]((function(t){l.error(t.message)}))}return Object(c["v"])((function(){r=new nt["a"](document.getElementById("modalFichajes"),{keyboard:!1}),o=new nt["a"](document.getElementById("modalPassword"),{keyboard:!1}),"fac_tena"==lt["a"].getParametros().database.toLowerCase()&&(s.value=!0),rt.a.get("turnos/getPlanes").then((function(t){0==t.data.error?b.value=t.data.info:l.error(t.data.mensaje)}))["catch"]((function(t){console.log(t),l.error("Error frontend catch: axios turnos/getPlanes")}))})),{mostrarTurnos:s,goTo:T,goToMenuResponsable:j,abrirModalPassword:p,password:u,test:h,arrayPlanes:b,idPlanificacion:a,actualizarLista:C,consumoPersonal:k,fichar:w,desfichar:x,inputBusqueda:d,arrayTrabajadores:i,buscar:v,cerrarModal:m,abrirModal:O,apagarEquipo:A,nombre:e,id:n,descanso:g}},watch:{inputBusqueda:function(){this.inputBusqueda.length>=3&&this.buscar()}}},ht=(e("d8f5"),e("d959")),jt=e.n(ht);const ft=jt()(ut,[["render",et],["__scopeId","data-v-a91500a6"]]);a["default"]=ft},d8f5:function(t,a,e){"use strict";e("e0d4")},e0d4:function(t,a,e){}}]);
//# sourceMappingURL=chunk-34eee0f2.60ca745e.js.map