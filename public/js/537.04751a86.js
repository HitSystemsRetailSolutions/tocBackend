"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[537],{74897:function(t,a,n){n.d(a,{Z:function(){return v}});var e=n(73396);const o={class:"btn-group-vertical mt-1"},l={class:"btn-group"},d={class:"btn-group"},u={class:"btn-group"},c={class:"btn-group"},r={class:"btn-group"};function s(t,a,n,s,i,p){return(0,e.wg)(),(0,e.iD)("div",o,[(0,e._)("div",l,[(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[0]||(a[0]=t=>s.addTecla("1"))}," 1 "),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[1]||(a[1]=t=>s.addTecla("2"))}," 2 "),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[2]||(a[2]=t=>s.addTecla("3"))}," 3 ")]),(0,e._)("div",d,[(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[3]||(a[3]=t=>s.addTecla("4"))}," 4 "),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[4]||(a[4]=t=>s.addTecla("5"))}," 5 "),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[5]||(a[5]=t=>s.addTecla("6"))}," 6 ")]),(0,e._)("div",u,[(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[6]||(a[6]=t=>s.addTecla("7"))}," 7 "),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[7]||(a[7]=t=>s.addTecla("8"))}," 8 "),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[8]||(a[8]=t=>s.addTecla("9"))}," 9 ")]),(0,e._)("div",c,[(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[9]||(a[9]=t=>s.deleteTecla())}," < "),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[10]||(a[10]=t=>s.addTecla("0"))}," 0 "),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[11]||(a[11]=t=>s.okValue(Number(s.cantidad)))}," OK ")]),(0,e._)("div",r,[(0,e._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonComa",onClick:a[12]||(a[12]=t=>s.addTecla("."))}," , ")])])}n(42492);var i=n(44870),p={name:"NumpadComponent",setup(t,{expose:a}){const n=(0,i.iH)("0"),o=(0,e.f3)("okValue"),l=(0,i.iH)("5.5rem"),d=(0,i.iH)("5.5rem");function u(t){"."===t&&(n.value=n.value.replace(".","")),n.value+=t,"0"==n.value[0]&&(n.value=n.value.slice(1))}function c(){n.value=n.value.slice(0,-1),""===n.value&&(n.value="0")}function r(t){n.value=Number(t).toString()}return a({cantidad:n,setValor:r}),{okValue:o,cantidad:n,addTecla:u,deleteTecla:c,setValor:r,anchoTecla:l,altoTecla:d}}},b=n(40089);const m=(0,b.Z)(p,[["render",s],["__scopeId","data-v-7b76f10b"]]);var v=m},15537:function(t,a,n){n.r(a),n.d(a,{default:function(){return M}});var e=n(73396),o=n(87139),l=n(49242);const d={class:"col-md-4 colJuntitas"},u={class:"input-group input-group-lg"},c={class:"input-group input-group-lg mt-2"},r={class:"col-md-5 colJuntitas"},s={class:"col-12 d-flex justify-content-between"},i={class:"col-5"},p={class:"col-4"},b={class:"col-3"},m={class:"w-100"},v={class:"concepto"},_={class:"col-md-3 m-auto"};function y(t,a,n,y,f,C){const w=(0,e.up)("MDBCardHeader"),g=(0,e.up)("MDBCardBody"),k=(0,e.up)("MDBBtn"),T=(0,e.up)("MDBCardFooter"),D=(0,e.up)("MDBCard"),N=(0,e.up)("MDBTable"),B=(0,e.up)("NumpadComponent");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",d,[(0,e.Wm)(D,{text:"center",class:"sizeSalida m-auto mt-2"},{default:(0,e.w5)((()=>[(0,e.Wm)(w,null,{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(t.$t("entrada_de_dinero","Entrada de dinero")),1)])),_:1}),y.numpadRef&&y.numpadRef.cantidad?((0,e.wg)(),(0,e.j4)(g,{key:0},{default:(0,e.w5)((()=>[(0,e._)("div",u,[(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>y.numpadRef.cantidad=t),type:"text",class:"form-control",placeholder:"Introduce la cantidad",disabled:""},null,512),[[l.nr,y.numpadRef.cantidad]])]),(0,e._)("div",c,[(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>y.concepto=t),type:"text",class:"form-control",placeholder:"Concepto"},null,512),[[l.nr,y.concepto]])])])),_:1})):(0,e.kq)("",!0),(0,e.Wm)(T,{class:"text-muted text-end"},{default:(0,e.w5)((()=>[(0,e.Wm)(k,{color:"success",size:"lg",onClick:a[2]||(a[2]=t=>y.confirmarEntrada())},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(t.$t("confirmar_entrada","Confirmar entrada")),1)])),_:1})])),_:1})])),_:1})]),(0,e._)("div",r,[(0,e.Wm)(D,{class:"sizeCardListaEntrada m-auto mt-2"},{default:(0,e.w5)((()=>[(0,e.Wm)(w,{style:{"text-align":"center"}},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(t.$t("listado_de_entradas","Listado de entradas")),1)])),_:1}),(0,e.Wm)(g,{class:"sizeCardBody"},{default:(0,e.w5)((()=>[(0,e.Wm)(N,{class:"sizeCardBodyListaEntrada"},{default:(0,e.w5)((()=>[(0,e._)("thead",null,[(0,e._)("tr",s,[(0,e._)("th",i,(0,o.zw)(t.$t("hora","Hora")),1),(0,e._)("th",p,(0,o.zw)(t.$t("concepto","Concepto")),1),(0,e._)("th",b,(0,o.zw)(t.$t("total","Total")),1)])]),(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(y.listaEntradas,((t,a)=>((0,e.wg)(),(0,e.iD)("tr",m,[(0,e._)("td",null,(0,o.zw)(y.getTiempo(t._id)),1),(0,e._)("td",v,(0,o.zw)(t.concepto),1),(0,e._)("td",null,(0,o.zw)(t.valor?.toFixed(2))+" â‚¬",1)])))),256))])])),_:1})])),_:1})])),_:1})]),(0,e._)("div",_,[(0,e.Wm)(B,{ref:"numpadRef"},null,512)])],64)}var f=n(44161),C=n(74313),w=n(42492),g=n.n(w),k=n(44870),T=n(20065),D=n(74897),N=n(36797),B=n.n(N),h={name:"EntradaComponent",components:{MDBCard:C.Yl,MDBCardHeader:C.uX,MDBCardBody:C.H7,NumpadComponent:D.Z,MDBBtn:C.$v,MDBCardFooter:C.Rw,MDBTable:C.re},setup(){const t=(0,T.oR)(),a=(0,e.Fl)((()=>t.state.Trabajadores.arrayTrabajadores)),n=(0,e.Fl)((()=>t.state.Trabajadores.indexActivo)),o=(0,e.Fl)((()=>a.value&&null!=n.value&&void 0!=n.value&&a.value[n.value]?a.value[n.value]:null)),l=(0,k.iH)(null),d=(0,k.iH)(""),u=(0,k.iH)([]);function c(t){const a=new Date(t);return B()(a).format("HH:mm:ss DD/MM/YYYY")}function r(){""==d.value&&(d.value="Entrada"),f.Z.post("movimientos/nuevoMovimiento",{cantidad:Number(l.value.cantidad),concepto:d.value,idTrabajador:o.value._id,tipo:"ENTRADA_DINERO"}).then((t=>{if(!t.data)throw Error("No se ha podido realizar la entrada de dinero");l.value.setValor("0"),g().fire("Perfecto","Entrada de dinero realizada correctamente","success"),s()})).catch((t=>{g().fire("Oops...",t.message,"error")}))}function s(){f.Z.get("movimientos/getEntradasIntervalo").then((t=>{void 0!=t.data&&null!=t.data&&(u.value=t.data.reverse())})).catch((t=>{g().fire("Oops...","Error al mostrar lista","error")}))}return(0,e.bv)((()=>{s()})),(0,e.JJ)("okValue",r),{confirmarEntrada:r,numpadRef:l,concepto:d,listaEntradas:u,getEntradas:s,getTiempo:c}}},z=n(40089);const E=(0,z.Z)(h,[["render",y],["__scopeId","data-v-4184d2db"]]);var M=E}}]);
//# sourceMappingURL=537.04751a86.js.map