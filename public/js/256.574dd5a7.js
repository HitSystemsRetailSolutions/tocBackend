"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[256],{9256:function(a,l,e){e.r(l),e.d(l,{default:function(){return L}});var o=e(3396),i=e(7139);const r=a=>((0,o.dD)("data-v-5d603b09"),a=a(),(0,o.Cn)(),a),s={class:"container-fluid"},n=r((()=>(0,o._)("div",{class:"row"},[(0,o._)("h2",null,"ABRIR CAJA")],-1))),t={class:"row p-2",style:{"text-align":"center"}},d=r((()=>(0,o._)("img",{src:"/img/1cts.png",width:"84",height:"84"},null,-1))),v=r((()=>(0,o._)("img",{src:"/img/2cts.png",width:"84",height:"84"},null,-1))),c=r((()=>(0,o._)("img",{src:"/img/5cts.png",width:"84",height:"84"},null,-1))),u=r((()=>(0,o._)("img",{src:"/img/10cts.png",width:"84",height:"84"},null,-1))),_=r((()=>(0,o._)("img",{src:"/img/20cts.png",width:"84",height:"84"},null,-1))),m=r((()=>(0,o._)("img",{src:"/img/50cts.png",width:"84",height:"84"},null,-1))),g=r((()=>(0,o._)("img",{src:"/img/uneuro.png",width:"84",height:"84"},null,-1))),w=r((()=>(0,o._)("img",{src:"/img/doseuros.png",width:"84",height:"84"},null,-1))),f={class:"row mx-auto mt-4"},C=["width"],z=r((()=>(0,o._)("br",null,null,-1))),b=["width"],h=r((()=>(0,o._)("br",null,null,-1))),p=["width"],y=r((()=>(0,o._)("br",null,null,-1))),k=["width"],D=r((()=>(0,o._)("br",null,null,-1))),A=["width"],B=r((()=>(0,o._)("br",null,null,-1))),$=["width"],N=r((()=>(0,o._)("br",null,null,-1))),S=["width"],j=r((()=>(0,o._)("br",null,null,-1))),x={class:"row mx-auto mt-5"},M={class:"text-center"},T={class:"position-absolute bottom-0 start-0 mb-4 ms-2"},U={class:"row"},V={class:"col"},Z={class:"col"};function H(a,l,e,r,H,R){const W=(0,o.up)("MDBBtn"),O=(0,o.up)("MDBModalBody"),E=(0,o.up)("MDBModal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",s,[n,(0,o._)("div",t,[(0,o._)("div",{class:"col",onClick:l[0]||(l[0]=a=>r.setActivo(0))},[d,(0,o._)("label",{class:(0,i.C_)({infoDineros:0==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[0].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",onClick:l[1]||(l[1]=a=>r.setActivo(1))},[v,(0,o._)("label",{class:(0,i.C_)({infoDineros:1==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[1].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",onClick:l[2]||(l[2]=a=>r.setActivo(2))},[c,(0,o._)("label",{class:(0,i.C_)({infoDineros:2==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[2].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",onClick:l[3]||(l[3]=a=>r.setActivo(3))},[u,(0,o._)("label",{class:(0,i.C_)({infoDineros:3==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[3].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",onClick:l[4]||(l[4]=a=>r.setActivo(4))},[_,(0,o._)("label",{class:(0,i.C_)({infoDineros:4==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[4].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",onClick:l[5]||(l[5]=a=>r.setActivo(5))},[m,(0,o._)("label",{class:(0,i.C_)({infoDineros:5==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[5].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",onClick:l[6]||(l[6]=a=>r.setActivo(6))},[g,(0,o._)("label",{class:(0,i.C_)({infoDineros:6==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[6].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",onClick:l[7]||(l[7]=a=>r.setActivo(7))},[w,(0,o._)("label",{class:(0,i.C_)({infoDineros:7==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[7].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)])]),(0,o._)("div",f,[(0,o._)("div",{class:"col",style:{"text-align":"center"},onClick:l[8]||(l[8]=a=>r.setActivo(8))},[(0,o._)("img",{src:"/img/5euros.png",width:r.sizeBilletes},null,8,C),(0,o.Uk)(),z,(0,o._)("label",{class:(0,i.C_)({infoDineros:8==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[8].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",style:{"text-align":"center"},onClick:l[9]||(l[9]=a=>r.setActivo(9))},[(0,o._)("img",{src:"/img/10euros.png",width:r.sizeBilletes},null,8,b),h,(0,o._)("label",{class:(0,i.C_)({infoDineros:9==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[9].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",style:{"text-align":"center"},onClick:l[10]||(l[10]=a=>r.setActivo(10))},[(0,o._)("img",{src:"/img/20euros.png",width:r.sizeBilletes},null,8,p),y,(0,o._)("label",{class:(0,i.C_)({infoDineros:10==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[10].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",style:{"text-align":"center"},onClick:l[11]||(l[11]=a=>r.setActivo(11))},[(0,o._)("img",{src:"/img/50euros.png",width:r.sizeBilletes},null,8,k),D,(0,o._)("label",{class:(0,i.C_)({infoDineros:11==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[11].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",style:{"text-align":"center"},onClick:l[12]||(l[12]=a=>r.setActivo(12))},[(0,o._)("img",{src:"/img/100euros.png",width:r.sizeBilletes},null,8,A),B,(0,o._)("label",{class:(0,i.C_)({infoDineros:12==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[12].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",style:{"text-align":"center"},onClick:l[13]||(l[13]=a=>r.setActivo(13))},[(0,o._)("img",{src:"/img/200euros.png",width:r.sizeBilletes},null,8,$),N,(0,o._)("label",{class:(0,i.C_)({infoDineros:13==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[13].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)]),(0,o._)("div",{class:"col",style:{"text-align":"center"},onClick:l[14]||(l[14]=a=>r.setActivo(14))},[(0,o._)("img",{src:"/img/500euros.png",width:r.sizeBilletes},null,8,S),j,(0,o._)("label",{class:(0,i.C_)({infoDineros:14==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[14].valor)+" "+(0,i.zw)(a.$t("unidades","unidades")),3)])]),(0,o._)("div",x,[(0,o._)("div",M,[(0,o._)("a",{class:"boton",onClick:l[15]||(l[15]=a=>r.addNumero(0))},"0"),(0,o._)("a",{class:"boton",onClick:l[16]||(l[16]=a=>r.addNumero(1))},"1"),(0,o._)("a",{class:"boton",onClick:l[17]||(l[17]=a=>r.addNumero(2))},"2"),(0,o._)("a",{class:"boton",onClick:l[18]||(l[18]=a=>r.addNumero(3))},"3"),(0,o._)("a",{class:"boton",onClick:l[19]||(l[19]=a=>r.addNumero(4))},"4"),(0,o._)("a",{class:"boton",onClick:l[20]||(l[20]=a=>r.addNumero(5))},"5"),(0,o._)("a",{class:"boton",onClick:l[21]||(l[21]=a=>r.addNumero(6))},"6"),(0,o._)("a",{class:"boton",onClick:l[22]||(l[22]=a=>r.addNumero(7))},"7"),(0,o._)("a",{class:"boton",onClick:l[23]||(l[23]=a=>r.addNumero(8))},"8"),(0,o._)("a",{class:"boton",onClick:l[24]||(l[24]=a=>r.addNumero(9))},"9"),(0,o._)("a",{class:"boton",onClick:l[25]||(l[25]=a=>r.borrarNumero())},"<")])]),(0,o._)("div",T,[(0,o.Wm)(W,{color:"primary",style:{"font-size":"27px"},size:"lg",onClick:l[26]||(l[26]=a=>r.abrirModalConfirmacion())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(a.$t("abrir_con","ABRIR CON"))+" "+(0,i.zw)(r.getTotal.toFixed(2))+" € ",1)])),_:1}),(0,o.Wm)(W,{color:"warning",style:{"font-size":"27px"},size:"lg",onClick:l[27]||(l[27]=a=>r.volver())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(a.$t("volver","VOLVER")),1)])),_:1})])]),(0,o.Wm)(E,{id:"modalConfirmacionApertura",tabindex:"-1",labelledby:"tituloModalConfirmacionApertura",modelValue:r.modalConfirmacionApertura,"onUpdate:modelValue":l[30]||(l[30]=a=>r.modalConfirmacionApertura=a),centered:"",staticBackdrop:""},{default:(0,o.w5)((()=>[(0,o.Wm)(O,null,{default:(0,o.w5)((()=>[(0,o._)("div",U,[(0,o._)("div",V,[(0,o.Wm)(W,{color:"danger",class:"w-100",size:"lg",onClick:l[28]||(l[28]=a=>r.modalConfirmacionApertura=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(a.$t("cancelar","Cancelar")),1)])),_:1})]),(0,o._)("div",Z,[(0,o.Wm)(W,{color:"success",size:"lg",class:"w-100",onClick:l[29]||(l[29]=a=>r.abrirCaja())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(a.$t("confirmar","Confirmar")),1)])),_:1})])])])),_:1})])),_:1},8,["modelValue"])],64)}e(7658);var R=e(4870),W=e(4161),O=e(250),E=e(2492),F=e.n(E),I=e(4313),Y=e(65),G={name:"AbrirCajaView",components:{MDBModal:I.j3,MDBModalBody:I.Yz,MDBBtn:I.$v},setup(){const a=(0,Y.oR)(),l=(0,R.iH)(!1),e=(0,R.iH)(null),i=(0,o.Fl)((()=>69)),r=(0,R.iH)([{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""}]),s=(0,R.iH)(0),n=0,t="160",d=(0,R.iH)(0),v=(0,o.Fl)((()=>{let a=0;return a+=.01*r.value[0].valor,a+=.02*r.value[1].valor,a+=.05*r.value[2].valor,a+=.1*r.value[3].valor,a+=.2*r.value[4].valor,a+=.5*r.value[5].valor,a+=1*r.value[6].valor,a+=2*r.value[7].valor,a+=5*r.value[8].valor,a+=10*r.value[9].valor,a+=20*r.value[10].valor,a+=50*r.value[11].valor,a+=100*r.value[12].valor,a+=200*r.value[13].valor,a+=500*r.value[14].valor,a})),c=(0,o.Fl)((()=>{const a=[{_id:"0.01",valor:.01*r.value[0].valor,unidades:r.value[0].valor},{_id:"0.02",valor:.02*r.value[1].valor,unidades:r.value[1].valor},{_id:"0.05",valor:.05*r.value[2].valor,unidades:r.value[2].valor},{_id:"0.10",valor:.1*r.value[3].valor,unidades:r.value[3].valor},{_id:"0.20",valor:.2*r.value[4].valor,unidades:r.value[4].valor},{_id:"0.50",valor:.5*r.value[5].valor,unidades:r.value[5].valor},{_id:"1",valor:1*r.value[6].valor,unidades:r.value[6].valor},{_id:"2",valor:2*r.value[7].valor,unidades:r.value[7].valor},{_id:"5",valor:5*r.value[8].valor,unidades:r.value[8].valor},{_id:"10",valor:10*r.value[9].valor,unidades:r.value[9].valor},{_id:"20",valor:20*r.value[10].valor,unidades:r.value[10].valor},{_id:"50",valor:50*r.value[11].valor,unidades:r.value[11].valor},{_id:"100",valor:100*r.value[12].valor,unidades:r.value[12].valor},{_id:"200",valor:200*r.value[13].valor,unidades:r.value[13].valor},{_id:"500",valor:500*r.value[14].valor,unidades:r.value[14].valor}];return a}));function u(a){s.value=a}function _(){O.Z.push("/menu/caja")}function m(a){r.value[s.value].valor=Number(r.value[s.value].valor.toString()+a)}function g(){r.value=[{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""}],d.value=0}function w(a,l,e){const o=new Date;o.setTime(o.getTime()+24*e*60*60*1e3);let i="expires="+o.toUTCString();document.cookie=a+"="+l+";"+i+";path=/"}async function f(){try{W.Z.post("parametros/setTipoVisor",{tipo:"MQTT"});const l=(await W.Z.post("/caja/abrirCaja",{total:v.value,detalle:c.value,idDependienta:a.getters["Trabajadores/getTrabajadorActivo"]._id})).data;if(!l)throw Error("No se ha podido abrir la caja");b(),F().fire("¡Todo OK!","Caja abierta correctamente","success"),w("datosCierre","",7),O.Z.push("/main")}catch(l){F().fire("Error",l.message,"error")}}function C(){r.value[s.value].valor=Number(r.value[s.value].valor.toString().slice(0,-1))}function z(){l.value=!0}function b(){l.value=!1}return(0,o.bv)((()=>{if(W.Z.get("caja/getMonedasUltimoCierre").then((a=>{if(a.data&&a.data)for(let l=0;l<a.data.array.length;l++)r.value[l].valor=a.data.array[l];else F().fire("Oops...","No se ha podido cargar la información (backend)","warning")})).catch((a=>{F().fire("Error","No se ha podido cargar la información del último cierre (petición)","error")})),void 0==a.getters["Trabajadores/getTrabajadorActivo"]?._id)return O.Z.push("/menu/fichajes")})),{lolaso:i,ejemplo:e,volver:_,infoDinero:r,activo:s,totalClearOne:n,sizeBilletes:t,setActivo:u,addNumero:m,resetTodo:g,borrarNumero:C,getTotal:v,cantidad3G:d,abrirCaja:f,abrirModalConfirmacion:z,cerrarModalConfirmacion:b,modalConfirmacionApertura:l}}},J=e(89);const K=(0,J.Z)(G,[["render",H],["__scopeId","data-v-5d603b09"]]);var L=K}}]);
//# sourceMappingURL=256.574dd5a7.js.map