"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[268],{4268:function(a,e,t){t.r(e),t.d(e,{default:function(){return L}});var s=t(3396),l=t(7139);const r={key:0,class:"row mt-2 overflow-auto sizeGeneral"},o={key:0},i={key:1},n={key:0,style:{"font-size":"1.2rem"}},d={class:"overflow-auto text-truncate listaCesta"},u={class:"list-group"},c={class:"d-inline-block text-truncate",style:{"max-width":"12rem"}},v={class:"ms-1",style:{"vertical-align":"top"}},m={class:"trabajadores"},b={key:1,class:"row sizeGeneral m-0 mt-1"},p={key:2,class:"position-absolute bottom-0 start-0"};function M(a,e,t,M,C,w){const f=(0,s.up)("MDBCardTitle"),y=(0,s.up)("MDBCardText"),g=(0,s.up)("MDBBtn"),k=(0,s.up)("MDBCardBody"),_=(0,s.up)("MDBBadge"),h=(0,s.up)("MDBCard"),D=(0,s.up)("MesasComponent"),B=(0,s.up)("CobroSeparadoMesas");return(0,s.wg)(),(0,s.iD)(s.HY,null,[!M.vistaMesas&&M.arrayTrabajadores&&M.arrayCestas&&null!=M.indexActivoTrabajador&&void 0!=M.indexActivoTrabajador?((0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.totalRows,((a,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"row",key:e},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,((a,t)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t},[4*e+t+1<=M.arrayCestas.length&&(null!=M.arrayCestas[4*e+t].indexMesa||M.arrayCestas[4*e+t].trabajador===M.arrayTrabajadores[M.indexActivoTrabajador]._id)||"DEVOLUCION"==M.arrayCestas[4*e+t]?.modo?((0,s.wg)(),(0,s.j4)(h,{key:0,onClick:a=>M.seleccionar(M.arrayCestas[4*e+t]),class:(0,l.C_)(["cesta mb-3 ms-2 me-1",{cestaActiva:M.arrayCestas[4*e+t]._id===M.idCestaSeleccionada}]),size:"lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(M.arrayCestas[4*e+t].modo)+" ",1),null===M.arrayCestas[4*e+t].indexMesa?((0,s.wg)(),(0,s.iD)("a",o,[(0,s.Uk)(" de "),(0,s._)("i",null,(0,l.zw)(M.getNombreByID(M.arrayCestas[4*e+t].trabajador)),1)])):(0,s.kq)("",!0),M.arrayMesas[4*e+t]&&null!=M.arrayCestas[4*e+t].indexMesa?((0,s.wg)(),(0,s.iD)("span",i,"Mesa: "+(0,l.zw)(M.arrayMesas[M.arrayCestas[4*e+t].indexMesa].nombre),1)):(0,s.kq)("",!0)])),_:2},1024),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>["VENTA"===M.arrayCestas[4*e+t].modo?((0,s.wg)(),(0,s.iD)("span",n,"Total: "+(0,l.zw)(M.getTotal(M.arrayCestas[4*e+t]).toFixed(2))+" €",1)):(0,s.kq)("",!0),(0,s._)("div",d,[(0,s._)("ul",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.arrayCestas[4*e+t].lista,((a,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:"list-group-item"},[(0,s._)("span",c,(0,l.zw)(a.nombre),1),(0,s._)("span",v,"x"+(0,l.zw)(a.unidades),1)])))),128))])])])),_:2},1024),M.arrayMesas[4*e+t]&&null!=M.arrayCestas[4*e+t].indexMesa&&(M.arrayCestas[4*e+t].lista.length>1||M.arrayCestas[4*e+t].lista[0]?.unidades>1)?((0,s.wg)(),(0,s.j4)(g,{key:0,onClick:a=>M.PagarSeparado(M.arrayCestas[4*e+t],4*e+t),style:{"font-size":"16px"},color:"secondary d-inline-block"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Pagar por separado ")])),_:2},1032,["onClick"])):(0,s.kq)("",!0)])),_:2},1024),(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.arrayCestas[4*e+t].trabajadores,((a,e)=>((0,s.wg)(),(0,s.j4)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{color:"info",class:"text-dark",pill:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(M.arrayTrabajadoresID[a]),1)])),_:2},1024)])),_:2},1024)))),256))])])),_:2},1032,["onClick","class"])):(0,s.kq)("",!0)],64)))),64))])))),128))])):(0,s.kq)("",!0),M.vistaMesas?((0,s.wg)(),(0,s.iD)("div",b,[(0,s.Wm)(D)])):(0,s.kq)("",!0),M.vistaMesas?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("button",{onClick:e[0]||(e[0]=a=>M.volver()),class:"btn btn-warning ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("volver","VOLVER")),1),M.vistaMesas||!0!==M.SiMesas?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=a=>M.switchMesas()),class:"btn btn-primary ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("vista_mesas","VISTA MESAS")),1)),(0,s._)("button",{onClick:e[2]||(e[2]=a=>M.nuevaCesta()),class:"btn btn-success ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("crear_cesta","CREAR CESTA")),1),(0,s._)("button",{onClick:e[3]||(e[3]=a=>M.borrarCesta()),class:"btn btn-danger ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("borrar_cesta","BORRAR CESTA")),1)])),(0,s.Wm)(B,{ref:"CobroSeparadoRef"},null,512)],64)}var C=t(4870),w=t(65),f=t(4313),y=t(250),g=t(4161),k=t(2492),_=t.n(k);const h=["onClick"],D={class:"nombreMesa"},B={class:"position-relative footer"},x={class:"position-absolute bottom-0 start-0"},z={class:"position-absolute bottom-0 end-0"};function A(a,e,t,r,o,i){const n=(0,s.up)("MDBInput"),d=(0,s.up)("MDBModalBody"),u=(0,s.up)("MDBBtn"),c=(0,s.up)("MDBModalFooter"),v=(0,s.up)("MDBModal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[r.arrayMesas.length>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(5,((a,e)=>(0,s._)("div",{class:"row p-0",key:e},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,((a,t)=>(0,s._)("div",{class:(0,l.C_)(["mesa ms-3",[0===t?"ms-5":"",t+10*e===r.indexMesaActiva?"border border-4 border-dark":"",r.arrayMesas[t+10*e].nombre?"habilitada":"deshabilitada"]]),key:t,onClick:a=>r.setIndexActivo(t+10*e)},[(0,s._)("span",D,(0,l.zw)(r.arrayMesas[t+10*e].nombre),1)],10,h))),64))]))),64)):(0,s.kq)("",!0),(0,s._)("div",B,[(0,s._)("div",x,[(0,s._)("button",{onClick:e[0]||(e[0]=a=>r.volver()),class:"btn btn-warning ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("volver","Volver")),1),(0,s._)("button",{onClick:e[1]||(e[1]=a=>r.switchMesas()),class:"btn btn-primary ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("vista_cestas","Vista cestas")),1)]),(0,s._)("div",z,[r.arrayMesas&&null!=r.indexMesaActiva&&void 0!=r.indexMesaActiva&&r.arrayMesas[r.indexMesaActiva]&&r.arrayMesas[r.indexMesaActiva].nombre?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[2]||(e[2]=a=>r.desactivarMesa()),class:"btn btn-danger ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("eliminar_cesta","Eliminar cesta")),1)):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[3]||(e[3]=a=>r.activarMesa()),class:"btn btn-success ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("activar_cesta","Activar cesta")),1)),r.arrayMesas&&null!=r.indexMesaActiva&&void 0!=r.indexMesaActiva&&r.arrayMesas[r.indexMesaActiva]&&r.arrayMesas[r.indexMesaActiva].nombre?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[4]||(e[4]=a=>r.modalNombreMesa=!0),class:"btn btn-info ms-2",style:{"font-size":"27px"}},(0,l.zw)(a.$t("cambiar_nombre","Cambiar nombre")),1)):(0,s.kq)("",!0)])]),(0,s.Wm)(v,{id:"modalNombreMesa",tabindex:"-1",modelValue:r.modalNombreMesa,"onUpdate:modelValue":e[8]||(e[8]=a=>r.modalNombreMesa=a)},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{label:"Introduce el nombre de la mesa",size:"lg",modelValue:r.inputNombre,"onUpdate:modelValue":e[5]||(e[5]=a=>r.inputNombre=a)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:"secondary",size:"lg",onClick:e[6]||(e[6]=a=>r.modalNombreMesa=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(a.$t("cerrar","Cerrar")),1)])),_:1}),(0,s.Wm)(u,{color:"primary",size:"lg",onClick:e[7]||(e[7]=a=>r.cambiarNombre())},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(a.$t("guardar_cambios","Guardar cambios")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var T={name:"MesasComponent",components:{MDBModal:f.j3,MDBModalBody:f.Yz,MDBModalFooter:f.ab,MDBBtn:f.$v,MDBInput:f.u2},setup(){const a=(0,C.iH)([]),e=(0,C.iH)(0),t=(0,C.iH)(null),l=(0,C.iH)("");function r(a){e.value=a}async function o(e){try{const t=(await g.Z.post("cestas/onlyCrearCestaParaMesa",{indexMesa:e})).data;if(!t)throw Error("No se ha podido crear la cesta para la nueva mesa");a.value[e].idCesta=t,u()}catch(t){_().fire("Oops...",t.message,"error")}}function i(){a.value&&null!=e.value&&void 0!=e.value&&a.value[e.value]&&(a.value[e.value]={nombre:"Mesa "+(e.value+1)},o(e.value))}function n(){a.value&&null!=e.value&&void 0!=e.value&&a.value[e.value]&&(g.Z.post("cestas/fulminarCesta",{idCesta:a.value[e.value].idCesta}).then((a=>{if(!a.data)throw Error("No se ha podido eliminar la cesta de la mesa")})).catch((a=>{_().fire("Oops...",a.message,"error")})),a.value[e.value]={nombre:null,idCesta:null},u())}function d(){a.value&&null!=e.value&&void 0!=e.value&&a.value[e.value]&&(a.value[e.value].nombre=l.value,t.value=!1,u())}function u(){g.Z.post("mesas/guardarCambios",{arrayMesas:a.value}).then((a=>{if(!a.data)throw Error("No se han podido guardar los cambios")})).catch((a=>{_().fire("Oops...",a.message,"error")}))}const c=(0,s.f3)("volver"),v=(0,s.f3)("switchMesas");return(0,s.bv)((()=>{g.Z.get("mesas/getMesas").then((e=>{if(!e.data||50!==e.data.length)throw Error("Error al obtener la configuración de mesas");a.value=e.data})).catch((a=>{_().fire("Oops...",a.message,"error")}))})),{arrayMesas:a,indexMesaActiva:e,setIndexActivo:r,volver:c,switchMesas:v,activarMesa:i,desactivarMesa:n,cambiarNombre:d,modalNombreMesa:t,inputNombre:l}}},j=t(89);const H=(0,j.Z)(T,[["render",A],["__scopeId","data-v-2d57ee1a"]]);var S=H;const E=a=>((0,s.dD)("data-v-2056b3d4"),a=a(),(0,s.Cn)(),a),I={class:"row"},F=["onClick"],N=E((()=>(0,s._)("br",null,null,-1))),P={class:"row"},Z={key:0,class:"table-responsive divCesta reverso"},O={class:"table colorFuente"},U={class:"tableBody"},V=["onClick"],W={class:"d-inline-block text-truncate",style:{"max-width":"21rem","min-width":"21rem"}};function $(a,e,t,r,o,i){const n=(0,s.up)("MDBModalTitle"),d=(0,s.up)("MDBModalHeader"),u=(0,s.up)("MDBBtn"),c=(0,s.up)("MDBModalBody"),v=(0,s.up)("MDBModalFooter"),m=(0,s.up)("MDBModal");return(0,s.wg)(),(0,s.j4)(m,{id:"modalCobroSeparado",tabindex:"-1",labelledby:"staticBackdropLabel",modelValue:r.modalCobroSeparado,"onUpdate:modelValue":e[3]||(e[3]=a=>r.modalCobroSeparado=a),staticBackdrop:"",size:"lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{id:"staticBackdropLabel"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Selecciona los articulos a pagar "+(0,l.zw)(r.totalPrice.toFixed(2))+" € ",1)])),_:1})])),_:1}),(0,s.Wm)(c,{class:"modal-body"},{default:(0,s.w5)((()=>[(0,s._)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.arrayArticulosMesa,((a,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"col mb-3"},[(0,s._)("button",{class:"btn w-100 h-100 colorIvan1 btnSuplemento",onClick:t=>r.addArticulo(a,e)},[(0,s.Uk)((0,l.zw)(a.nombre)+" ",1),N,(0,s.Uk)(" "+(0,l.zw)((a.subtotal/a.unidades).toFixed(2))+" € ",1)],8,F)])))),128))]),(0,s._)("div",P,[r.articulosAPagar?((0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("table",O,[(0,s._)("tbody",U,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.articulosAPagar,((a,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:(0,l.C_)(["itemCesta",{seleccionado:r.itemSeleccionado===e}]),onClick:a=>r.setIndex(e)},[(0,s._)("td",null,[(0,s._)("span",W,(0,l.zw)(a.nombre),1)]),(0,s._)("td",null,(0,l.zw)((a.subtotal/a.unidades).toFixed(2))+" €",1)],10,V)))),128))])])])):(0,s.kq)("",!0),r.deleteBtn?((0,s.wg)(),(0,s.j4)(u,{key:1,onClick:e[0]||(e[0]=a=>r.delArticulo()),color:"danger",size:"lg"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(a.$t("eliminar","Eliminar")),1)])),_:1})):(0,s.kq)("",!0)])])),_:1}),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:"secondary",onClick:e[1]||(e[1]=a=>r.modalCobroSeparado=!1),size:"lg"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(a.$t("cancelar","Cancelar")),1)])),_:1}),(0,s.Wm)(u,{color:"success",size:"lg",onClick:e[2]||(e[2]=a=>r.Pago())},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(a.$t("Pagar","Pagar")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])}t(7658);var q=t(2483),Y={name:"modalCobroSeparadoComponent",components:{MDBModal:f.j3,MDBModalHeader:f.ol,MDBModalTitle:f.wo,MDBModalBody:f.Yz,MDBModalFooter:f.ab,MDBBtn:f.$v},setup(a,{expose:e}){const t=(0,C.iH)(!1),l=(0,C.iH)(null),r=(0,C.iH)([]);let o=(0,s.Fl)((()=>n.state.Cestas.arrayCestas));const i=(0,C.iH)([]),n=(0,w.oR)(),d=(0,q.tv)(),u=(0,s.Fl)((()=>n.state.Trabajadores.indexActivo)),c=(0,s.Fl)((()=>n.state.Trabajadores.arrayTrabajadores)),v=(0,s.Fl)((()=>n.state.Trabajadores.indexActivo)),m=(0,s.Fl)((()=>c.value&&void 0!=u.value&&null!=u.value&&c.value[u.value]?c.value[u.value]:null)),b=(0,C.iH)([]);let p=0;const M=(0,C.iH)(!1),f=(0,C.iH)(0);async function y(a){i.value.push(a)}async function k(a){for(let e=0;e<a.lista.length;e++)for(let t=0;t<a.lista[e].unidades;t++)y(a.lista[e])}async function h(a,e){i.value.splice(e,1),f.value+=a.subtotal/a.unidades,r.value.push(a)}async function D(){let a=l.value;i.value.push(r.value[a]),f.value-=r.value[a].subtotal/r.value[a].unidades,r.value.splice(a,1),M.value=!1,l.value=-1}function B(a){l.value==a?(l.value=-1,M.value=!1):(l.value=a,M.value=!0)}async function x(a,e){b.value=a,p=a._id,r.value=[],i.value=[],t.value=!0,f.value=0,M.value=!1,k(a)}async function z(){let a,e=b;n.dispatch("Cestas/setCestaBaseAction",e.value._id),e.value.lista=r.value;for(let t=0;t<e.value.lista.length;t++)e.value.lista[t].subtotal=e.value.lista[t].subtotal/e.value.lista[t].unidades,e.value.lista[t].unidades=1;g.Z.post("cestas/PagarPorSeparado",{articulos:e.value.lista}).then((async e=>{e.data&&await g.Z.post("cestas/cambiarCestaTrabajador",{idCesta:e.data,idTrabajador:c.value[v.value]._id}).then((async t=>{if(o=(0,s.Fl)((()=>n.state.Cestas.arrayCestas)),a=await(0,s.Fl)((()=>{if(o.value)for(let a=0;a<o.value.length;a++)if(o.value[a]._id==e.data)return o.value[a]})),"PAGO SEPARADO"===a.value.modo)if(a.value.idCliente&&""!=a.value.idCliente){const e=(await g.Z.post("clientes/getClienteById",{idCliente:a.value.idCliente})).data;!0===e?.albaran&&!0===e?.noPagaEnTienda?g.Z.post("tickets/crearTicket",{total:f.value,idCesta:a.value._id,idTrabajador:m.value._id,tipo:"DEUDA",tkrsData:null}).then((a=>{if(!a.data)throw Error("No se ha podido registrar la venta en modo deuda");_().fire({icon:"success",title:"Venta modo deuda registrada correctamente",showConfirmButton:!1,timer:2e3})})).catch((a=>{_().fire("Oops...",a.message,"error")})):(await g.Z.post("impresora/despedida",{precioTotal:f.value.toFixed(2)}),await d.push("/cobro").then((()=>{})))}else await g.Z.post("impresora/despedida",{precioTotal:f.value.toFixed(2)}),await d.push("/cobro").then((()=>{}))}))})),await g.Z.post("cestas/borrarUnicoItemCesta",{idCesta:e.value._id,articulos:r.value}).then((a=>{if(!a.data)throw Error("No se ha podido eliminar el artículo de la cesta")})).catch((a=>{_().fire("Oops...",a.message,"error")}))}return e({abrirModal:x}),{articulosAPagar:r,arrayArticulosMesa:i,modalCobroSeparado:t,itemSeleccionado:l,setIndex:B,deleteBtn:M,addArticulo:h,delArticulo:D,totalPrice:f,Pago:z}}};const R=(0,j.Z)(Y,[["render",$],["__scopeId","data-v-2056b3d4"]]);var K=R,G={name:"CestasView",components:{MDBCard:f.Yl,MDBCardBody:f.H7,MDBCardTitle:f.QM,MDBCardText:f.Pp,MDBBadge:f.m_,MDBBtn:f.$v,MesasComponent:S,CobroSeparadoMesas:K},setup(){const a=(0,w.oR)(),e=(0,C.iH)(!1),t=(0,C.iH)(null);(0,s.Fl)((()=>a.state.Configuracion.parametros));let l=(0,s.Fl)((()=>a.state.Cestas.arrayCestas));const r=(0,C.iH)([]),o=(0,C.iH)({}),i=(0,s.Fl)((()=>a.state.Trabajadores.arrayTrabajadores)),n=(0,s.Fl)((()=>a.state.Trabajadores.indexActivo)),d=(0,C.iH)(null),u=(0,C.iH)(!1);function c(){e.value?(D(),e.value=!1):e.value=!0}function v(){y.Z.back()}function m(a,e){i.value&&void 0!=n.value&&null!=n.value&&i.value[n.value]&&null!=a.indexMesa&&t.value.abrirModal(a,e)}function b(a){let e="undefined";for(let t=0;t<i.value.length;t++)i.value[t].idTrabajador==a&&(e=i.value[t].nombre);return e}function p(a){return a.detalleIva.importe1+a.detalleIva.importe2+a.detalleIva.importe3+a.detalleIva.importe4+a.detalleIva.importe5}const M=(0,s.Fl)((()=>{const a=l.value.length;let e=Math.trunc(a/4);return a%4>0&&(e+=1),e}));function f(){void 0!=n.value&&null!=n.value&&i.value&&g.Z.post("cestas/crearCesta",{idTrabajador:i.value[n.value]._id}).then((a=>{if(!a.data)throw Error("No se ha podido crear una nueva cesta, ¡Comprueba que no tengas una ya!")})).catch((a=>{_().fire("Oops...",a.message,"error")}))}function k(){if(d.value){for(let a=0;a<l.value.length;a++)if(l.value[a]._id===d.value&&null!=l.value[a].indexMesa&&void 0!=l.value[a].indexMesa)return _().fire("Oops...","No puedes eliminar una cesta de tipo MESA","error"),!1;g.Z.post("cestas/fulminarCesta",{idCesta:d.value}).then((a=>{if(!a.data)throw Error("No se ha podido borrar la cesta")})).catch((a=>{_().fire("Oops...",a.message,"error")}))}}function h(a){i.value&&void 0!=n.value&&null!=n.value&&i.value[n.value]?(d.value=a._id,g.Z.post("cestas/cambiarCestaTrabajador",{idCesta:a._id,idTrabajador:i.value[n.value]._id})):_().fire("Oops...","Error, no se ha podido seleccionar la cesta para el trabajador","error")}function D(){g.Z.get("mesas/getMesas").then((a=>{if(!a.data||50!==a.data.length)throw Error("Error al obtener la configuración de mesas");r.value=a.data})).catch((a=>{_().fire("Oops...",a.message,"error")}))}return(0,s.JJ)("volver",v),(0,s.JJ)("switchMesas",c),(0,s.bv)((()=>{if(i.value.forEach((a=>{let e=a.idTrabajador,t=a.nombre;o.value[e]=t})),null==n.value)return _().fire("Oops...","Debes fichar para usar las cestas","error");d.value=i.value[n.value].idCesta,D(),g.Z.post("parametros/getParametros").then((a=>{void 0!=a.data?.params?.mesas?"Si"==a.data?.params?.mesas&&(u.value=!0):u.value=!1}))})),{vistaMesas:e,switchMesas:c,PagarSeparado:m,arrayCestas:l,arrayTrabajadores:i,indexActivoTrabajador:n,volver:v,getTotal:p,seleccionar:h,totalRows:M,nuevaCesta:f,borrarCesta:k,arrayMesas:r,idCestaSeleccionada:d,SiMesas:u,arrayTrabajadoresID:o,CobroSeparadoRef:t,getNombreByID:b}}};const J=(0,j.Z)(G,[["render",M],["__scopeId","data-v-908eb4e2"]]);var L=J}}]);
//# sourceMappingURL=268.730b0a28.js.map