"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[381],{9741:function(a,o,r){r.d(o,{Z:function(){return d}});var e=r(3396);const s={class:"input-group position-absolute bottom-0 start-0"};function l(a,o,r,l,t,i){return(0,e.wg)(),(0,e.iD)("div",s,[(0,e._)("button",{onClick:o[0]||(o[0]=a=>l.volver()),class:"btn btn-warning ms-2",style:{"font-size":"27px"}}," VOLVER ")])}var t=r(8686),i={name:"VolverComponent",setup(){function a(){t.Z.back()}return{volver:a}}},c=r(89);const n=(0,c.Z)(i,[["render",l]]);var d=n},9381:function(a,o,r){r.r(o),r.d(o,{default:function(){return pa}});var e=r(3396);const s={class:"w-50 mx-auto"},l=(0,e._)("div",{class:"row mt-2"},null,-1),t={class:"row mt-2"},i={class:"row mt-2"},c={class:"row mt-2"},n={class:"row mt-2"},d={class:"row mt-2"},u={class:"row mt-2"},m={class:"row mt-2"},p={class:"row mt-2"},f={class:"row mt-2"},v={class:"row mt-2"},h={class:"row mt-2"};function w(a,o,r,w,g,b){const _=(0,e.up)("MDBBtn"),k=(0,e.up)("VolverComponent"),B=(0,e.up)("ModalConfigurador"),M=(0,e.up)("ModalImpresoraComponent"),y=(0,e.up)("ModalDatafonoComponent");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",s,[l,(0,e._)("div",t,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100",onClick:o[0]||(o[0]=a=>w.descargarClientesFinales())},{default:(0,e.w5)((()=>[(0,e.Uk)("Descargar clientes finales")])),_:1})]),(0,e._)("div",i,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100",onClick:o[1]||(o[1]=a=>w.descargarTarifasEspeciales())},{default:(0,e.w5)((()=>[(0,e.Uk)("Descargar tarifas especiales")])),_:1})]),(0,e._)("div",c,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100",onClick:o[2]||(o[2]=a=>w.actualizarParametros())},{default:(0,e.w5)((()=>[(0,e.Uk)("Actualizar parámetros tienda")])),_:1})]),(0,e._)("div",n,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100",onClick:o[3]||(o[3]=a=>w.actualizarTrabajadores())},{default:(0,e.w5)((()=>[(0,e.Uk)("Actualizar trabajadores")])),_:1})]),(0,e._)("div",d,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100",onClick:o[4]||(o[4]=a=>w.actualizarTeclados())},{default:(0,e.w5)((()=>[(0,e.Uk)("Actualizar teclado")])),_:1})]),(0,e._)("div",u,[w.modalImpresoraRef?((0,e.wg)(),(0,e.j4)(_,{key:0,color:"primary",size:"lg",class:"w-100",onClick:o[5]||(o[5]=a=>w.modalImpresoraRef.abrirModal())},{default:(0,e.w5)((()=>[(0,e.Uk)("Config. VID y PID impresora, Visor")])),_:1})):(0,e.kq)("",!0)]),(0,e._)("div",m,[w.modalDatafonoRef?((0,e.wg)(),(0,e.j4)(_,{key:0,color:"primary",size:"lg",class:"w-100",onClick:o[6]||(o[6]=a=>w.modalDatafonoRef.abrirModal())},{default:(0,e.w5)((()=>[(0,e.Uk)("Config. IP Paytef")])),_:1})):(0,e.kq)("",!0)]),(0,e._)("div",p,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100",onClick:o[7]||(o[7]=a=>w.imprimirTest())},{default:(0,e.w5)((()=>[(0,e.Uk)("Imprimir test")])),_:1})]),(0,e._)("div",f,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100",onClick:o[8]||(o[8]=a=>w.cambiarPrecio())},{default:(0,e.w5)((()=>[(0,e.Uk)("Editar productos")])),_:1})]),(0,e._)("div",v,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100"},{default:(0,e.w5)((()=>[(0,e.Uk)("Listado de ventas")])),_:1})]),(0,e._)("div",h,[(0,e.Wm)(_,{color:"primary",size:"lg",class:"w-100",onClick:o[9]||(o[9]=a=>w.goToDoctor())},{default:(0,e.w5)((()=>[(0,e.Uk)("Toc Doctor")])),_:1})])]),(0,e.Wm)(k),(0,e.Wm)(B,{ref:"modalConfiguradorRef"},null,512),(0,e.Wm)(M,{ref:"modalImpresoraRef"},null,512),(0,e.Wm)(y,{ref:"modalDatafonoRef"},null,512)],64)}var g=r(9741),b=r(4313),_=r(2492),k=r.n(_),B=r(70),M=r(9242);const y={class:"row"},D={key:0,class:"row mt-2"},C={class:"input-group mb-3"},z=(0,e._)("span",{class:"input-group-text",id:"basic-addon1"},"VID",-1),S={class:"input-group mb-3"},E=(0,e._)("span",{class:"input-group-text",id:"basic-addon1"},"PID",-1),U={class:"row mt-2"},x={class:"d-inline-block text-end"};function I(a,o,r,s,l,t){const i=(0,e.up)("MDBSelect"),c=(0,e.up)("MDBBtn"),n=(0,e.up)("MDBModalBody"),d=(0,e.up)("MDBModal");return(0,e.wg)(),(0,e.j4)(d,{id:"modalImpresora",tabindex:"-1",labelledby:"tituloModalImpresora",modelValue:s.modalImpresora,"onUpdate:modelValue":o[5]||(o[5]=a=>s.modalImpresora=a),staticBackdrop:"",size:"xl"},{default:(0,e.w5)((()=>[(0,e.Wm)(n,null,{default:(0,e.w5)((()=>[(0,e._)("div",y,[(0,e.Wm)(i,{options:s.opciones,"onUpdate:options":o[0]||(o[0]=a=>s.opciones=a),size:"lg",label:"Tipo impresora"},null,8,["options"])]),"USB"===s.selected?((0,e.wg)(),(0,e.iD)("div",D,[(0,e._)("div",C,[z,(0,e.wy)((0,e._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":o[1]||(o[1]=a=>s.vid=a),placeholder:"0x04B8"},null,512),[[M.nr,s.vid]])]),(0,e._)("div",S,[E,(0,e.wy)((0,e._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":o[2]||(o[2]=a=>s.pid=a),placeholder:"0x0202"},null,512),[[M.nr,s.pid]])])])):(0,e.kq)("",!0),(0,e._)("div",U,[(0,e._)("div",x,[(0,e.Wm)(c,{color:"primary",size:"lg",onClick:o[3]||(o[3]=a=>s.guardar())},{default:(0,e.w5)((()=>[(0,e.Uk)("Guardar")])),_:1}),(0,e.Wm)(c,{color:"danger",size:"lg",class:"mt-2",onClick:o[4]||(o[4]=a=>s.modalImpresora=!1)},{default:(0,e.w5)((()=>[(0,e.Uk)("Cancelar")])),_:1})])])])),_:1})])),_:1},8,["modelValue"])}var T=r(4870),P={name:"ModalImpresoraComponent",components:{MDBModal:b.j3,MDBModalBody:b.Yz,MDBBtn:b.$v,MDBSelect:b.R3},setup(a,{expose:o}){const r=(0,T.iH)(!1),s=(0,T.iH)(""),l=(0,T.iH)(""),t=(0,T.iH)([{text:"USB",value:"USB",selected:!0},{text:"SERIE",value:"SERIE"},{text:"MQTT",value:"MQTT"}]),i=(0,e.Fl)((()=>{if(t.value)for(let a=0;a<t.value.length;a++)if(!0===t.value[a]?.selected)return t.value[a].value;return"USB"}));function c(){r.value=!0}async function n(){try{switch(i.value){case"USB":if(""==s.value||""==l.value)throw Error("El tipo USB necesita los valores VID y PID");{const a=await B.Z.post("parametros/setVidAndPid",{vid:s.value,pid:l.value});if(!a.data)throw Error("Error al guardar los parámetros de la impresora USB");k().fire("OK","Datos de la impresora USB guardados correctamente","success"),r.value=!1}break;default:if("SERIE"!==i.value&&"MQTT"!==i.value)throw Error("Tipo de impresora desconocido");{const a=await B.Z.post("parametros/setTipoImpresora",{tipo:i.value});if(!a.data)throw Error("No se ha podido guardar el tipo de impresora");k().fire("OK","Datos de la impresora USB guardados correctamente","success"),r.value=!1}}}catch(a){k().fire("Oops...",a.message,"error")}}return o({abrirModal:c}),{modalImpresora:r,opciones:t,selected:i,vid:s,pid:l,guardar:n}}},V=r(89);const N=(0,V.Z)(P,[["render",I]]);var W=N;const Z=a=>((0,e.dD)("data-v-ddec7e3a"),a=a(),(0,e.Cn)(),a),O={class:"row"},Y={class:"col"},H={class:"form-check form-switch"},R=Z((()=>(0,e._)("label",{class:"form-check-label ms-4 texto"},"Prohibir buscar artículos",-1))),A={class:"form-check form-switch mt-3"},j=Z((()=>(0,e._)("label",{class:"form-check-label ms-4 texto"},"Prohibir suplementos",-1))),K={class:"col"},$={class:"form-check form-switch"},F=Z((()=>(0,e._)("label",{class:"form-check-label ms-4 texto"},"Prohibir entradas de dinero",-1))),q={class:"form-check form-switch mt-3"},L=Z((()=>(0,e._)("label",{class:"form-check-label ms-4 texto"},"Utilizar mesas",-1))),Q={class:"row mt-2"},G={class:"d-inline-block text-end"};function X(a,o,r,s,l,t){const i=(0,e.up)("MDBBtn"),c=(0,e.up)("MDBModalBody"),n=(0,e.up)("MDBModal");return(0,e.wg)(),(0,e.j4)(n,{id:"modalConfigurador",tabindex:"-1",labelledby:"tituloModalConfigurador",modelValue:s.modalConfigurador,"onUpdate:modelValue":o[5]||(o[5]=a=>s.modalConfigurador=a),staticBackdrop:"",size:"xl"},{default:(0,e.w5)((()=>[(0,e.Wm)(c,null,{default:(0,e.w5)((()=>[(0,e._)("div",O,[(0,e._)("div",Y,[(0,e._)("div",H,[(0,e.wy)((0,e._)("input",{class:"form-check-input",style:{transform:"scale(1.8)"},type:"checkbox",role:"switch","onUpdate:modelValue":o[0]||(o[0]=a=>s.prohibirBuscarArticulos=a)},null,512),[[M.e8,s.prohibirBuscarArticulos]]),R]),(0,e._)("div",A,[(0,e.wy)((0,e._)("input",{class:"form-check-input",style:{transform:"scale(1.8)"},type:"checkbox",role:"switch","onUpdate:modelValue":o[1]||(o[1]=a=>s.prohibirSuplementos=a)},null,512),[[M.e8,s.prohibirSuplementos]]),j])]),(0,e._)("div",K,[(0,e._)("div",$,[(0,e.wy)((0,e._)("input",{class:"form-check-input",style:{transform:"scale(1.8)"},type:"checkbox",role:"switch","onUpdate:modelValue":o[2]||(o[2]=a=>s.prohibirEntradas=a)},null,512),[[M.e8,s.prohibirEntradas]]),F]),(0,e._)("div",q,[(0,e.wy)((0,e._)("input",{class:"form-check-input",style:{transform:"scale(1.8)"},type:"checkbox",role:"switch","onUpdate:modelValue":o[3]||(o[3]=a=>s.mesas=a)},null,512),[[M.e8,s.mesas]]),L])])]),(0,e._)("div",Q,[(0,e._)("div",G,[(0,e.Wm)(i,{color:"danger",size:"lg",class:"mt-2",onClick:o[4]||(o[4]=a=>s.modalConfigurador=!1)},{default:(0,e.w5)((()=>[(0,e.Uk)("Cerrar")])),_:1})])])])),_:1})])),_:1},8,["modelValue"])}var J={name:"ConfiguradorComponent",components:{MDBModal:b.j3,MDBModalBody:b.Yz,MDBBtn:b.$v},setup(a,{expose:o}){const r=(0,T.iH)(!1),s=(0,T.iH)(!1),l=(0,T.iH)(!1),t=(0,T.iH)(!1),i=(0,T.iH)(!0);function c(){r.value=!0}return o({abrirModal:c}),(0,e.bv)((()=>{B.Z.post("parametros/getParametros").then((a=>{if(!a.data)throw Error("No se han podido obtener los parámetros");s.value="Si"===a.data.params.prohibirBuscarArticulos,l.value="Si"===a.data.params.prohibirEntradas,t.value="Si"===a.data.params.prohibirSuplementos,i.value="Si"===a.data.params.mesas})).catch((a=>{k().fire("Oops...",a.message,"error")})).finally((()=>{(0,e.YP)(s,((a,o)=>{B.Z.post("parametros/setPropiedad",{parametros:{prohibirBuscarArticulos:a?"Si":"No",mesas:i.value?"Si":"No",prohibirEntradas:l.value?"Si":"No",prohibirSuplementos:t.value?"Si":"No"}}).then((o=>{if(!o.data)throw Error("No se ha podido actualizar el estado de prohibirBuscarArticulo");(0,e.Y3)((()=>{s.value=a}))})).catch((a=>{(0,e.Y3)((()=>{s.value=o})),k().fire("Oops...",a.message,"error")}))})),(0,e.YP)(l,((a,o)=>{B.Z.post("parametros/setPropiedad",{parametros:{prohibirBuscarArticulos:s.value?"Si":"No",mesas:i.value?"Si":"No",prohibirEntradas:a?"Si":"No",prohibirSuplementos:t.value?"Si":"No"}}).then((o=>{if(!o.data)throw Error("No se ha podido actualizar el estado de prohibirEntradas");(0,e.Y3)((()=>{l.value=a}))})).catch((a=>{(0,e.Y3)((()=>{l.value=o})),k().fire("Oops...",a.message,"error")}))})),(0,e.YP)(t,((a,o)=>{B.Z.post("parametros/setPropiedad",{parametros:{prohibirBuscarArticulos:s.value?"Si":"No",mesas:i.value?"Si":"No",prohibirEntradas:l.value?"Si":"No",prohibirSuplementos:a?"Si":"No"}}).then((o=>{if(!o.data)throw Error("No se ha podido actualizar el estado de prohibirSuplementos");(0,e.Y3)((()=>{t.value=a}))})).catch((a=>{(0,e.Y3)((()=>{t.value=o})),k().fire("Oops...",a.message,"error")}))})),(0,e.YP)(i,((a,o)=>{B.Z.post("parametros/setPropiedad",{parametros:{prohibirBuscarArticulos:s.value?"Si":"No",mesas:a?"Si":"No",prohibirEntradas:l.value?"Si":"No",prohibirSuplementos:t.value?"Si":"No"}}).then((o=>{if(!o.data)throw Error("No se ha podido actualizar el estado de mesas");(0,e.Y3)((()=>{i.value=a}))})).catch((a=>{(0,e.Y3)((()=>{i.value=o})),k().fire("Oops...",a.message,"error")}))}))}))})),{modalConfigurador:r,prohibirBuscarArticulos:s,prohibirEntradas:l,prohibirSuplementos:t,mesas:i}}};const aa=(0,V.Z)(J,[["render",X],["__scopeId","data-v-ddec7e3a"]]);var oa=aa;const ra={class:"row mt-2"},ea={class:"input-group mb-3"},sa=(0,e._)("span",{class:"input-group-text",id:"basic-addon1"},"IP",-1),la={class:"row mt-2"},ta={class:"d-inline-block text-end"};function ia(a,o,r,s,l,t){const i=(0,e.up)("MDBBtn"),c=(0,e.up)("MDBModalBody"),n=(0,e.up)("MDBModal");return(0,e.wg)(),(0,e.j4)(n,{id:"modalDatafono",tabindex:"-1",labelledby:"tituloModalDatafono",modelValue:s.modalDatafono,"onUpdate:modelValue":o[3]||(o[3]=a=>s.modalDatafono=a),staticBackdrop:"",size:"xl"},{default:(0,e.w5)((()=>[(0,e.Wm)(c,null,{default:(0,e.w5)((()=>[(0,e._)("div",ra,[(0,e._)("div",ea,[sa,(0,e.wy)((0,e._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":o[0]||(o[0]=a=>s.ip=a),placeholder:"192.168.X.X"},null,512),[[M.nr,s.ip]])])]),(0,e._)("div",la,[(0,e._)("div",ta,[(0,e.Wm)(i,{color:"primary",size:"lg",onClick:o[1]||(o[1]=a=>s.guardar())},{default:(0,e.w5)((()=>[(0,e.Uk)("Guardar")])),_:1}),(0,e.Wm)(i,{color:"danger",size:"lg",class:"mt-2",onClick:o[2]||(o[2]=a=>s.modalDatafono=!1)},{default:(0,e.w5)((()=>[(0,e.Uk)("Cancelar")])),_:1})])])])),_:1})])),_:1},8,["modelValue"])}var ca={name:"ModalDatafonoComponent",components:{MDBModal:b.j3,MDBModalBody:b.Yz,MDBBtn:b.$v},setup(a,{expose:o}){const r=(0,T.iH)(!1),e=(0,T.iH)("");function s(){r.value=!0}async function l(){try{if(""==e.value)throw Error("Error al guardar la IP del datafono.");{const a=await B.Z.post("parametros/setIpPaytef",{ip:e.value});if(!a.data)throw Error("Error al guardar la IP del datafono.");k().fire("OK","La ip del datafono ha sido modificada correctamente","success"),r.value=!1}}catch(a){k().fire("Oops...",a.message,"error")}}return o({abrirModal:s}),{modalDatafono:r,ip:e,guardar:l}}};const na=(0,V.Z)(ca,[["render",ia]]);var da=na,ua={name:"TecnicoView",components:{VolverComponent:g.Z,ModalConfigurador:oa,ModalImpresoraComponent:W,ModalDatafonoComponent:da,MDBBtn:b.$v},setup(){const a=(0,T.iH)(null),o=(0,T.iH)(null);function r(){o.value&&o.value.abrirModal()}const e=(0,T.iH)(null);function s(){B.Z.post("clientes/descargarClientesFinales").then((a=>{if(!a.data)throw Error("No se han podido descargar los clientes finales");k().fire("OK","Clientes finales actualizados correctamente","success")})).catch((a=>{k().fire("Oops...",a.message,"error")}))}function l(){console.log("descargarTicketInfo")}function t(){B.Z.get("tarifas/descargarTarifas").then((a=>{if(!a.data)throw Error("No se han podido descargar las tarifas especiales");k().fire("OK","Tarifas especiales descargadas correctamente","success")})).catch((a=>{k().fire("Oops...",a.message,"error")}))}function i(){console.log("actualizarTrabajadores")}function c(){B.Z.post("teclado/actualizarTeclado").then((a=>{if(!a.data)throw Error("No se ha podido actualizar el teclado");k().fire("OK","Teclado actualizado correctamente","success"),document.location.href=`http://${window.location.hostname}:3000`})).catch((a=>{k().fire("Oops...",a.message,"error")}))}function n(){console.log("imprimirTest")}function d(){console.log("cambiarPrecio")}function u(){B.Z.get("parametros/actualizarParametros").then((a=>{if(!a.data)throw Error("No se han podido actualizar los parámetros");k().fire("OK","Parámetros actualizados correctamente","success"),document.location.href=`http://${window.location.hostname}:3000`})).catch((a=>{k().fire("Oops...",a.message,"error")}))}function m(){console.log("goToDoctor")}return{abrirConfigurador:r,descargarClientesFinales:s,descargarTarifasEspeciales:t,descargarTicketInfo:l,actualizarTrabajadores:i,actualizarTeclados:c,imprimirTest:n,cambiarPrecio:d,actualizarParametros:u,goToDoctor:m,modalImpresoraRef:a,modalDatafonoRef:e,modalConfiguradorRef:o}}};const ma=(0,V.Z)(ua,[["render",w]]);var pa=ma}}]);
//# sourceMappingURL=381.7f26651d.js.map