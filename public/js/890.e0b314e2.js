"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[890],{11890:function(a,e,o){o.r(e),o.d(e,{default:function(){return oa}});var t=o(73396),l=o(87139),n=o(49242);const r=a=>((0,t.dD)("data-v-94dfad52"),a=a(),(0,t.Cn)(),a),s=r((()=>(0,t._)("div",{class:"row mt-1"},[(0,t._)("h1",{class:"titulo text-center",style:{"font-weight":"bold"}}," ¡No se han encontrado datos en este TPV! ")],-1))),i={key:0},d=r((()=>(0,t._)("br",null,null,-1))),c=r((()=>(0,t._)("br",null,null,-1))),u={key:0},p=r((()=>(0,t._)("label",{class:"subtitulo"},[(0,t.Uk)(" Hemos intentado cargar los datos de este TPV, pero no ha sido posible. "),(0,t._)("p",{style:{"font-size":"1.7rem"}}," Si cree que ha sido un error, puede reintentarlo pulsando el botón: ")],-1))),m={class:"botonesDiv"},f={style:{"text-align":"center","margin-top":"5%"}},g={key:0,class:"QRloadingDiv"},v=r((()=>(0,t._)("img",{src:"img/loadingNew.gif",style:{display:"block",margin:"auto",width:"350px"},alt:"Esperando respuesta del servidor"},null,-1))),w=r((()=>(0,t._)("span",{class:"telegramTxt"},"Configure el TPV mediante telegram.",-1))),_=[v,w],k={key:1,class:"QRloadingDiv"},h=r((()=>(0,t._)("h1",{class:"titulo text-center",style:{"font-weight":"bold"}}," ¿Esta seguro que desea instalar la siguiente licencia? ",-1))),b={class:"passLicTitle"},D=r((()=>(0,t._)("div",{class:"passLic"},[(0,t._)("span",null,"Este cambio es irreversible y todos los datos serán eliminados.")],-1))),y={key:2,class:"QRloadingDiv"},W=r((()=>(0,t._)("div",{class:"row"},[(0,t._)("img",{src:"img/loadingNew.gif",style:{display:"block",margin:"auto",width:"300px"},alt:"Esperando respuesta del servidor"}),(0,t._)("div",{class:"passLic"},[(0,t._)("span",null,"Estamos instalando este equipo, por favor, mantengase a la espera.")])],-1))),I={class:"animate-flicker"},B={key:3,class:"QRloadingDiv"},R={class:"passLic"},V={key:0},Q={key:1},M={class:""},P={class:"form-label"},S={class:"form-label"},U=r((()=>(0,t._)("option",{value:"3G"},"3G",-1))),z=r((()=>(0,t._)("option",{value:"PAYTEF"},"PAYTEF",-1))),T=[U,z],C={style:{"font-size":"20px","font-weight":"bold"}},H={class:"row"},E={style:{"font-size":"20px","font-weight":"bold",color:"green"}},N=r((()=>(0,t._)("div",{class:"row"},[(0,t._)("img",{src:"img/loadingNew.gif",style:{display:"block",margin:"auto",width:"300px"},alt:"Esperando respuesta del servidor"})],-1))),x=r((()=>(0,t._)("hr",null,null,-1))),O=r((()=>(0,t._)("hr",null,null,-1)));function A(a,e,o,r,v,w){const U=(0,t.up)("MDBIcon"),z=(0,t.up)("MDBPopover"),A=(0,t.up)("MDBBtn"),q=(0,t.up)("MDBModalTitle"),Z=(0,t.up)("MDBModalHeader"),$=(0,t.up)("MDBStepperHead"),j=(0,t.up)("MDBStepperStep"),L=(0,t.up)("MDBStepper"),F=(0,t.up)("qrcode-vue"),G=(0,t.up)("MDBModalFooter"),K=(0,t.up)("MDBProgressBar"),Y=(0,t.up)("MDBProgress"),J=(0,t.up)("MDBModalBody"),X=(0,t.up)("MDBModal"),aa=(0,t.up)("MDBInput");return(0,t.wg)(),(0,t.iD)(t.HY,null,[s,(0,t.Wm)(z,{modelValue:r.popOverInfo,"onUpdate:modelValue":e[1]||(e[1]=a=>r.popOverInfo=a),direction:"top",style:{position:"absolute",bottom:"4rem",left:"3.5rem","font-size":"1.5rem"}},{reference:(0,t.w5)((()=>[(0,t.Wm)(U,{class:"infoBtn",color:"secondary",fas:"",icon:"info-circle",onClick:e[0]||(e[0]=a=>r.popOverInfo=!r.popOverInfo)})])),body:(0,t.w5)((()=>[(0,t._)("span",null,[(0,t.Wm)(U,{icon:"code-branch"}),(0,t.Uk)("  Versión  "),(0,t.Wm)(U,{icon:"angle-right"}),(0,t.Uk)("  "),(0,t._)("label",{style:(0,l.j5)("BK Error"!=r.tocVersion?"color:green;":"color:red;")},["BK Error"!=r.tocVersion?((0,t.wg)(),(0,t.iD)("label",i,[(0,t.Wm)(U,{icon:"BK Error"==r.tocVersion?"exclamation-triangle":"check"},null,8,["icon"]),(0,t.Uk)(" ")])):(0,t.kq)("",!0),(0,t.Uk)((0,l.zw)(r.tocVersion),1)],4)]),d,(0,t._)("span",null,[(0,t.Wm)(U,{icon:"globe"}),(0,t.Uk)("  Internet "),(0,t.Wm)(U,{icon:"angle-right"}),(0,t.Uk)("  "),(0,t._)("label",{style:(0,l.j5)(!0===r.haveInternet?"color:green;":"color:red;")},[(0,t.Wm)(U,{icon:r.haveInternet?"wifi":"exclamation-triangle"},null,8,["icon"]),(0,t.Uk)(" "+(0,l.zw)(r.haveInternet?"En línea":"Sin conexión"),1)],4)]),c,(0,t._)("span",null,[(0,t.Wm)(U,{icon:"qrcode"}),(0,t.Uk)("  Cod. QR "),(0,t.Wm)(U,{icon:"angle-right"}),(0,t.Uk)("  "),(0,t._)("label",{style:(0,l.j5)("NOINFO"!=r.QRinfo?"color:green;":"color:red;")},["NOINFO"==r.QRinfo?((0,t.wg)(),(0,t.iD)("label",u,[(0,t.Wm)(U,{icon:"NOINFO"==r.QRinfo?"exclamation-triangle":"check"},null,8,["icon"]),(0,t.Uk)(" ")])):(0,t.kq)("",!0),(0,t.Uk)((0,l.zw)("NOINFO"==r.QRinfo?"VPN no instalada":"Activo"),1)],4)])])),_:1},8,["modelValue"]),p,(0,t._)("div",m,[(0,t.Wm)(A,{onClick:e[2]||(e[2]=a=>r.irAVentas()),class:"botones",color:"warning"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(a.$t("reintentar","Reintentar")),1)])),_:1})]),(0,t.Wm)(U,{class:"QRbtn",onClick:e[3]||(e[3]=a=>{r.QRmodal=!0,r.startQR()}),icon:"qrcode"}),(0,t.Wm)(U,{class:"ajustesBtn",onClick:e[4]||(e[4]=a=>r.contrasenyaAdmin=!0),icon:"tools"}),(0,t.Wm)(X,{id:"QRmodal",tabindex:"-1",labelledby:"QRmodal",modelValue:r.QRmodal,"onUpdate:modelValue":e[9]||(e[9]=a=>r.QRmodal=a),staticBackdrop:!0,size:"xl"},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(a.$t("insalador_qr","Instalador por QR")),1)])),_:1})])),_:1}),(0,t.Wm)(J,null,{default:(0,t.w5)((()=>[(0,t.Wm)(L,{ref:"btnStepper",disableStepperHeadClick:"true"},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{active:""},{default:(0,t.w5)((()=>[(0,t.Wm)($,{icon:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)("Leer QR    "),(0,t.Wm)(U,{icon:"qrcode"})])),_:1})])),_:1}),(0,t.Wm)(j,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,{icon:"2"},{default:(0,t.w5)((()=>[(0,t.Uk)("Seleccionar tienda   "),(0,t.Wm)(U,{icon:"hand-pointer"})])),_:1})])),_:1}),(0,t.Wm)(j,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,{icon:"3"},{default:(0,t.w5)((()=>[(0,t.Uk)("Confirmar   "),(0,t.Wm)(U,{icon:"check-double"})])),_:1})])),_:1}),(0,t.Wm)(j,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,{icon:"4"},{default:(0,t.w5)((()=>[(0,t.Uk)("Instalar   "),(0,t.Wm)(U,{icon:"download"})])),_:1})])),_:1}),(0,t.Wm)(j,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,{icon:"5"},{default:(0,t.w5)((()=>[(0,t.Uk)("Finalizar   "),(0,t.Wm)(U,{icon:"flag"})])),_:1})])),_:1})])),_:1},512),(0,t._)("div",f,[0===r.QRstatus[0]?((0,t.wg)(),(0,t.j4)(F,{key:0,background:"rgb(0 0 0 / 0%)",value:r.QRinfo,size:"300",level:"H"},null,8,["value"])):(0,t.kq)("",!0)]),1===r.QRstatus[0]?((0,t.wg)(),(0,t.iD)("div",g,_)):(0,t.kq)("",!0),2===r.QRstatus[0]?((0,t.wg)(),(0,t.iD)("div",k,[h,(0,t._)("span",b,(0,l.zw)(r.QRstatus[2]),1),D,(0,t.Wm)(G,{style:{"justify-content":"space-between"}},{default:(0,t.w5)((()=>[(0,t.Wm)(A,{color:"danger",size:"lg",onClick:e[5]||(e[5]=a=>{r.btnStepper?.changeStep(0),r.startQR()})},{default:(0,t.w5)((()=>[(0,t.Uk)("Rechazar")])),_:1}),(0,t.Wm)(A,{color:"success",size:"lg",onClick:e[6]||(e[6]=a=>{r.loadingBar=10,r.btnStepper?.changeStep(4),r.QRstatus[0]=3,r.installQR()})},{default:(0,t.w5)((()=>[(0,t.Uk)("Aceptar")])),_:1})])),_:1})])):(0,t.kq)("",!0),3===r.QRstatus[0]?((0,t.wg)(),(0,t.iD)("div",y,[W,(0,t._)("div",null,[(0,t._)("span",I,(0,l.zw)(`${r.QRinstallerStatus[r.QRinstallerStatusI]} [${r.QRinstallerStatusI+1}/${r.QRinstallerStatus.length}]    |    ${r.QRseconds} segundos transcurridos...`),1),(0,t.Wm)(Y,{height:20},{default:(0,t.w5)((()=>[(0,t.Wm)(K,{value:r.loadingBar},{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(r.loadingBar)+"% ",1)])),_:1},8,["value"])])),_:1})])])):(0,t.kq)("",!0),4===r.QRstatus[0]?((0,t.wg)(),(0,t.iD)("div",B,[-1==r.QRinstallerStatusI?((0,t.wg)(),(0,t.j4)(U,{key:0,style:{zoom:"6",color:"red"},fas:"",icon:"times"})):(0,t.kq)("",!0),3==r.QRinstallerStatusI?((0,t.wg)(),(0,t.j4)(U,{key:1,style:{zoom:"6",color:"green"},fas:"",icon:"flag-checkered"})):(0,t.kq)("",!0),(0,t._)("div",R,[-1==r.QRinstallerStatusI?((0,t.wg)(),(0,t.iD)("span",V,"La descarga ha fallado, reintentalo mas tarde...")):(0,t.kq)("",!0),3==r.QRinstallerStatusI?((0,t.wg)(),(0,t.iD)("span",Q,"¡Descarga completada!")):(0,t.kq)("",!0)]),(0,t.Wm)(G,null,{default:(0,t.w5)((()=>[-1==r.QRinstallerStatusI?((0,t.wg)(),(0,t.j4)(A,{key:0,color:"danger",size:"lg",onClick:e[7]||(e[7]=a=>{r.btnStepper?.changeStep(0),r.startQR()})},{default:(0,t.w5)((()=>[(0,t.Uk)("Reintentar")])),_:1})):(0,t.kq)("",!0),3==r.QRinstallerStatusI?((0,t.wg)(),(0,t.j4)(A,{key:1,color:"success",size:"lg",onClick:e[8]||(e[8]=a=>r.irAVentas())},{default:(0,t.w5)((()=>[(0,t.Uk)("Abrir Terminal")])),_:1})):(0,t.kq)("",!0)])),_:1})])):(0,t.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(X,{id:"contrasenyaAdmin",tabindex:"-1",labelledby:"contrasenyaAdmin",modelValue:r.contrasenyaAdmin,"onUpdate:modelValue":e[13]||(e[13]=a=>r.contrasenyaAdmin=a),size:"lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Acceso al instalador manual ")])),_:1})])),_:1}),(0,t.Wm)(J,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(aa,{modelValue:r.contrasenaIntroducida,"onUpdate:modelValue":e[10]||(e[10]=a=>r.contrasenaIntroducida=a),type:"password",placeholder:"Contraseña de administrador"},null,8,["modelValue"])])])),_:1}),(0,t.Wm)(G,null,{default:(0,t.w5)((()=>[(0,t.Wm)(A,{color:"danger",size:"lg",onClick:e[11]||(e[11]=a=>{r.contrasenyaAdmin=!1,r.contrasenaIntroducida=""})},{default:(0,t.w5)((()=>[(0,t.Uk)("Salir")])),_:1}),(0,t.Wm)(A,{color:"success",size:"lg",onClick:e[12]||(e[12]=a=>r.checkPassword())},{default:(0,t.w5)((()=>[(0,t.Uk)("Acceder")])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(X,{id:"abrirInstalador",tabindex:"-1",labelledby:"abrirInstalador",modelValue:r.abrirInstalador,"onUpdate:modelValue":e[19]||(e[19]=a=>r.abrirInstalador=a),staticBackdrop:!0,size:"xl"},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(a.$t("instalador_de_licencia","Instalador de licencia")),1)])),_:1})])),_:1}),(0,t.Wm)(J,null,{default:(0,t.w5)((()=>[(0,t._)("div",M,[(0,t.Wm)(U,{class:"infoBtn",color:"secondary",fas:"",icon:"info-circle",onClick:e[14]||(e[14]=a=>r.infoTPVmodal=!0)}),(0,t._)("label",P,"Nº "+(0,l.zw)(a.$t("licencia","licencia")),1),(0,t.Wm)(aa,{modelValue:r.licencia,"onUpdate:modelValue":e[15]||(e[15]=a=>r.licencia=a),type:"number"},null,8,["modelValue"]),(0,t._)("label",S,(0,l.zw)(a.$t("tipo_datafono","Tipo datáfono")),1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":e[16]||(e[16]=a=>r.tipoDatafono=a),class:"form-select"},T,512),[[n.bM,r.tipoDatafono]])]),(0,t._)("p",C,(0,l.zw)(a.$t("atencion","¡Atención!"))+" "+(0,l.zw)(a.$t("si_ya_habian_datos","si ya habían datos"))+" "+(0,l.zw)(a.$t("en_este_TPV","en este TPV"))+", "+(0,l.zw)(a.$t("instalar_la_licencia","instalar la licencia"))+" "+(0,l.zw)(a.$t("eliminara_los_datos_antiguos","eliminará los datos antiguos")),1)])),_:1}),(0,t.Wm)(G,null,{default:(0,t.w5)((()=>[(0,t.Wm)(A,{color:"secondary",class:"botonesInstalador",onClick:e[17]||(e[17]=a=>r.confirmarXIP())},{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(a.$t("descargar_xip","Descargar por IP")),1)])),_:1}),(0,t.Wm)(A,{color:"success",class:"botonesInstalador",onClick:e[18]||(e[18]=a=>r.confirmar())},{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(a.$t("confirmar","Confirmar")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(X,{id:"descargarTPV",tabindex:"-1",labelledby:"descargarTPV",modelValue:r.descargarTPV,"onUpdate:modelValue":e[20]||(e[20]=a=>r.descargarTPV=a),staticBackdrop:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(J,null,{default:(0,t.w5)((()=>[(0,t._)("div",H,[(0,t._)("p",E,(0,l.zw)(a.$t("espera_mientras_se_descargan","Espera mientras descargamos"))+" "+(0,l.zw)(a.$t("los_datos_TPV","los datos del TPV")),1)]),N,(0,t.Wm)(Y,{height:20},{default:(0,t.w5)((()=>[(0,t.Wm)(K,{value:r.loadingBar},{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(r.loadingBar)+"% ",1)])),_:1},8,["value"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(X,{id:"infoTPVmodal",tabindex:"-1",labelledby:"infoTPVmodal",modelValue:r.infoTPVmodal,"onUpdate:modelValue":e[21]||(e[21]=a=>r.infoTPVmodal=a)},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(a.$t("descargando","Descargando datos")),1)])),_:1})])),_:1}),(0,t.Wm)(J,null,{default:(0,t.w5)((()=>[(0,t._)("h5",null,[(0,t.Wm)(U,{icon:"wifi"}),(0,t.Uk)(" Estado de conexión")]),(0,t._)("p",{style:(0,l.j5)(!0===r.haveInternet?"color:green;":"color:red;")},[(0,t.Wm)(U,{icon:"angle-right"}),(0,t.Uk)(" "+(0,l.zw)(!0===r.haveInternet?"En línea":"Sin conexión"),1)],4),x,(0,t._)("h5",null,[(0,t.Wm)(U,{icon:"ethernet"}),(0,t.Uk)(" IP del TPV")]),(0,t._)("p",null,[(0,t.Wm)(U,{icon:"angle-right"}),(0,t.Uk)(" "+(0,l.zw)(r.IP),1)]),O,(0,t._)("h5",null,[(0,t.Wm)(U,{icon:"shopping-basket"}),(0,t.Uk)(" Tienda asignada")]),(0,t._)("p",null,[(0,t.Wm)(U,{icon:"angle-right"}),(0,t.Uk)(" "+(0,l.zw)(r.assignatedShop),1)])])),_:1})])),_:1},8,["modelValue"])],64)}o(57658);var q=o(44870),Z=o(91076),$=o(78223),j=o(42492),L=o.n(j),F=o(74313),G=o(74834),K=o(50085),Y=o(29564),J=o.n(Y),X={name:"InstallWizard",components:{MDBCard:F.Yl,MDBCardBody:F.H7,MDBCardText:F.Pp,MDBIcon:F.vm,QrcodeVue:K.Z,MDBInput:F.u2,MDBModal:F.j3,MDBModalHeader:F.ol,MDBRow:F.uZ,MDBModalTitle:F.wo,MDBDropdown:F.H6,MDBContainer:F.L5,MDBCol:F.TK,MDBModalBody:F.Yz,MDBPopover:F.SW,MDBModalFooter:F.ab,MDBBtn:F.$v,MDBProgressBar:F.F5,MDBDropdownToggle:F.CU,MDBDropdownItem:F.i2,MDBDropdownMenu:F.Ed,MDBProgress:F.g9,MDBStepper:F.QI,MDBStepperHead:F.Jv,MDBStepperStep:F.x9,MDBStepperContent:F.AC},setup(){const a=(0,q.iH)(""),e=(0,q.iH)(""),o=(0,q.iH)("USB"),l=(0,q.iH)(!1),n=(0,q.iH)("CLEARONE"),r=(0,q.iH)("NO"),s=(0,q.iH)(!1),i=(0,q.iH)(!1),d=(0,q.iH)(!1),c=(0,q.iH)(""),u=(0,q.iH)(!0),p=(0,q.iH)(!1),m=(0,q.iH)(!1),f=(0,q.iH)(0),g=(0,q.iH)(!1),v=(0,q.iH)("No detectado"),w=(0,q.iH)("BK Error"),_=((0,q.iH)("No detectado"),(0,q.iH)(!1)),k=(0,q.iH)(!1),h=(0,q.iH)("No detectado"),b=(0,q.iH)(!1),D=(0,q.iH)("NOINFO"),y=(0,q.iH)([0,-1,""]),W=(0,q.iH)(0),I=["Conectando con el servidor...","Solicitando datos para el TPV...","Instalando datos del TPV...","Instalación finalizada!"],B=(0,q.iH)(0),R=(0,q.iH)(!1),V=(0,q.iH)(!1),Q=(0,q.iH)(null);function M(){}async function P(){i.value=!0;const o={parametros:{licencia:Number(a.value),password:e.value,tipoDatafono:n.value}};m.value=!0,l.value=!1,f.value=30;try{const a=await Z.Z.post("/instalador/pedirDatos",{password:o.parametros.password,numLlicencia:o.parametros.licencia,tipoDatafono:o.parametros.tipoDatafono});if(f.value=75,!a.data)throw Error("Los datos introducidos no son correctos");{const a=await Z.Z.post("instalador/descargarTodo");if(f.value=100,!a.data)throw m.value=!1,Error("Error en instalador/descargarTodo");$.Z.push("/impresoraConfigurador"),m.value=!1}}catch(t){m.value=!1,l.value=!0,L().fire("Oops...",t.message,"error")}f.value=0}async function S(){await T(),B.value=0,B.value+=1;const a={parametros:{licencia:y.value[1],tipoDatafono:"3G"}};try{f.value=10,Z.Z.post("/instalador/setData",{cn:D.value,bssnes:y.value[3],cd:a.parametros.licencia}).catch((a=>{console.error("Error en instalador/setData")})),f.value=45;const e=await Z.Z.post("/instalador/pedirDatosQR",{password:a.parametros.password,numLlicencia:a.parametros.licencia,tipoDatafono:a.parametros.tipoDatafono});if(f.value=75,B.value+=1,!e.data)throw Error("Los datos introducidos no son correctos");{const a=await Z.Z.post("instalador/descargarTodo");if(f.value=100,!a.data)throw Error("Error en instalador/descargarTodo");B.value=3}}catch(e){B.value=-1,L().fire("Oops...",e.message,"error")}f.value=100,setTimeout((()=>{y.value[0]=4,Q?.value?.changeStep(5)}),1200)}let U,z=null;async function T(){z&&clearInterval(z),z=setInterval((()=>{3!=B&&-1!=B||(clearInterval(z),W.value=0),W.value+=1}),1e3)}function C(){Z.Z.get("getInfo/tocGame").then((a=>{void 0!=a.data&&null!=a.data&&(w.value=a.data.version)})).catch((a=>{}))}async function H(){Z.Z.get("https://jsonplaceholder.typicode.com/posts/1",{timeout:5e3}).then((()=>{_.value=!0})).catch((()=>{_.value=!1}))}async function E(){const a=await Z.Z.post("/instalador/getIPTienda",{ip:v.value});h.value=0!=a.data?a.data:"Sin datos"}async function N(){"11c83b692216a77953e935c3d68b3719"==J()(c.value)?(L().fire({icon:"success",title:"¡Bienvenido de nuevo Hit Systems!",showConfirmButton:!1,timer:650}),l.value=!0,g.value=!1,e.value=c.value,c.value=""):"d22bfeac753534fbbcfe66a63cb366c4"==J()(c.value)?(L().fire({icon:"success",title:"¡Bienvenido de nuevo Técnico!",showConfirmButton:!1,timer:650}),l.value=!0,g.value=!1,e.value=c.value,c.value=""):L().fire("¡La contraseña y/o el QR son incorrectos!","Por favor, si no eres un técnico, no accedas a este menu.","error")}async function x(){i.value=!0;Number(a.value),e.value,o.value,n.value,r.value;try{const a=await Z.Z.post("/instalador/pedirDatosIP",{ip:v.value});if(!a.data)throw Error("No hemos encontrado tu IP por ningun lado... [Error en instalador/pedirDatos]");{u.value=!1,p.value=!0;const a=await Z.Z.post("instalador/descargarTodo");if(!a.data)throw i.value=!1,Error("No hemos encontrado tu IP por ningun lado... [Error en instalador/descargarTodo]");{const e=new Date;e.setTime(e.getTime()+6048e5);let o="expires="+e.toUTCString();document.cookie="datosCierre= ["+a.data[1]+"] ;"+o+";path=/",$.Z.push("/impresoraConfigurador"),G.W.cargarTrabajadoresFichados(),i.value=!1}}}catch(t){i.value=!1,L().fire("Oops...",t.message,"error")}}function O(){$.Z.push("/")}async function A(){await Z.Z.post("instalador/getCN",{timeout:5e3}).then((a=>{D.value=a?.data.split(" ")?.join("[SPACE]")})).catch((a=>{console.error(a)})),Z.Z.post("instalador/getIP").then((a=>{""!=a.data&&(b.value=!0),v.value=a.data,E()}))}async function j(){"/installwizard"!=$.Z.currentRoute.value.fullPath.toLowerCase()||!V.value||y.value[0]>=2?clearInterval(U):Z.Z.post("instalador/getQRstatus",{cn:D.value}).then((a=>{if(!a)return Error("No hay datos");let e=JSON.parse(a.data.status);Q?.value?.changeStep(Number(e[0])+1),y.value=JSON.parse(a.data.status)}))}function F(){Z.Z.post("instalador/resetQRstatus",{cn:D.value}).then((a=>{Q?.value?.changeStep(1),y.value=[0,-1,""],U&&clearInterval(U),a&&(U=setInterval(j,1e3))}))}return H(),(0,t.bv)((()=>{A(),C()})),{irAVentas:O,primeraParte:u,segundaParte:p,testPrint:M,confirmar:P,confirmarXIP:x,licencia:a,haveInternet:_,password:e,tipoImpresora:o,tipoDatafono:n,impresoraCafeteria:r,esperando:i,GetIPAndCN:A,abrirInstalador:l,assignatedShop:h,IP:v,ipInSystem:b,infoTPVmodal:s,popOverInfo:k,modalInstalador:d,contrasenyaAdmin:g,descargarTPV:m,loadingBar:f,installQR:S,startQR:F,checkPassword:N,QRinfo:D,InstallCounter:T,contrasenaIntroducida:c,QRstatus:y,tocVersion:w,OpenSettings:R,QRinstallerStatus:I,QRinstallerStatusI:B,QRseconds:W,QRmodal:V,btnStepper:Q}}},aa=o(40089);const ea=(0,aa.Z)(X,[["render",A],["__scopeId","data-v-94dfad52"]]);var oa=ea}}]);
//# sourceMappingURL=890.e0b314e2.js.map