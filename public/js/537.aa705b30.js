"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[537],{38793:function(t,a,e){e.d(a,{Z:function(){return f}});var n=e(73396),o=e(87139);const l={class:"btn-group"},d={class:"btn-group"},u={class:"btn-group"},s={class:"btn-group"},c={class:"btn-group"};function r(t,a,e,r,i,p){return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["btn-group-vertical mt-1",{disabled:e.disabled}])},[(0,n._)("div",l,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[0]||(a[0]=t=>r.addTecla("1"))}," 1 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[1]||(a[1]=t=>r.addTecla("2"))}," 2 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[2]||(a[2]=t=>r.addTecla("3"))}," 3 ")]),(0,n._)("div",d,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[3]||(a[3]=t=>r.addTecla("4"))}," 4 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[4]||(a[4]=t=>r.addTecla("5"))}," 5 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[5]||(a[5]=t=>r.addTecla("6"))}," 6 ")]),(0,n._)("div",u,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[6]||(a[6]=t=>r.addTecla("7"))}," 7 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[7]||(a[7]=t=>r.addTecla("8"))}," 8 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[8]||(a[8]=t=>r.addTecla("9"))}," 9 ")]),(0,n._)("div",s,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[9]||(a[9]=t=>r.deleteTecla())}," < "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[10]||(a[10]=t=>r.addTecla("0"))}," 0 "),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonNumpad",onClick:a[11]||(a[11]=t=>r.okValue(Number(r.cantidad)))}," OK ")]),(0,n._)("div",c,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary py-3 botonComa",onClick:a[12]||(a[12]=t=>r.addTecla("."))}," , ")])],2)}e(42492);var i=e(32066),p=e(28571),b=e(44870);const m=(0,i.io)("http://"+p.Z.state.TocGameURL+":5051");var v={props:{skipBalanza:{type:Boolean,default:!1},max3EntersDigits:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},name:"NumpadComponent",setup(t,{expose:a,emit:e}){const o=(0,b.iH)("0"),l=(0,n.f3)("okValue"),d=(0,b.iH)("5.5rem"),u=(0,b.iH)("5.5rem");(0,n.Fl)((()=>p.Z.state.Weight.lastWeight));function s(){console.log("Shake"),e("activarShake")}function c(a){if(t.max3EntersDigits){let[t,e]=o.value.split("."),n=o.value.includes(".");if(t.length>=3&&!n&&"."!=a)return s();if(e&&e.length>=2)return s();if("."===a&&o.value.includes("."))return s()}"."===a&&(o.value=o.value.replace(".","")),o.value+=a,"0"==o.value[0]&&(o.value=o.value.slice(1)),e("setValue",o.value)}function r(){o.value=o.value.slice(0,-1),""===o.value&&(o.value="0")}function i(t){o.value=Number(t).toString(),e("setValue",o.value)}return m.on("setBalanzaValue",(a=>{a&&!t.skipBalanza&&i(a)})),a({cantidad:o,setValor:i}),(0,n.bv)((async()=>{t.skipBalanza||i((await(0,n.Fl)((()=>p.Z.state.Weight.lastWeight))).value)})),{okValue:l,cantidad:o,addTecla:c,deleteTecla:r,setValor:i,anchoTecla:d,altoTecla:u}}},_=e(40089);const y=(0,_.Z)(v,[["render",r],["__scopeId","data-v-30e0be06"]]);var f=y},15537:function(t,a,e){e.r(a),e.d(a,{default:function(){return M}});var n=e(73396),o=e(87139),l=e(49242);const d={class:"col-md-4 colJuntitas"},u={class:"input-group input-group-lg"},s={class:"input-group input-group-lg mt-2"},c={class:"col-md-5 colJuntitas"},r={class:"col-12 d-flex justify-content-between"},i={class:"col-5"},p={class:"col-4"},b={class:"col-3"},m={class:"w-100"},v={class:"concepto"},_={class:"col-md-3 m-auto"};function y(t,a,e,y,f,g){const C=(0,n.up)("MDBCardHeader"),w=(0,n.up)("MDBCardBody"),k=(0,n.up)("MDBBtn"),T=(0,n.up)("MDBCardFooter"),h=(0,n.up)("MDBCard"),B=(0,n.up)("MDBTable"),D=(0,n.up)("NumpadComponent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",d,[(0,n.Wm)(h,{text:"center",class:"sizeSalida m-auto mt-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.$t("entrada_de_dinero","Entrada de dinero")),1)])),_:1}),y.numpadRef&&y.numpadRef.cantidad?((0,n.wg)(),(0,n.j4)(w,{key:0},{default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>y.numpadRef.cantidad=t),type:"text",class:"form-control",placeholder:"Introduce la cantidad",disabled:""},null,512),[[l.nr,y.numpadRef.cantidad]])]),(0,n._)("div",s,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>y.concepto=t),type:"text",class:"form-control",placeholder:"Concepto"},null,512),[[l.nr,y.concepto]])])])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(T,{class:"text-muted text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{color:"success",size:"lg",onClick:a[2]||(a[2]=t=>y.confirmarEntrada())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.$t("confirmar_entrada","Confirmar entrada")),1)])),_:1})])),_:1})])),_:1})]),(0,n._)("div",c,[(0,n.Wm)(h,{class:"sizeCardListaEntrada m-auto mt-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{style:{"text-align":"center"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.$t("listado_de_entradas","Listado de entradas")),1)])),_:1}),(0,n.Wm)(w,{class:"sizeCardBody"},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{class:"sizeCardBodyListaEntrada"},{default:(0,n.w5)((()=>[(0,n._)("thead",null,[(0,n._)("tr",r,[(0,n._)("th",i,(0,o.zw)(t.$t("hora","Hora")),1),(0,n._)("th",p,(0,o.zw)(t.$t("concepto","Concepto")),1),(0,n._)("th",b,(0,o.zw)(t.$t("total","Total")),1)])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.listaEntradas,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",m,[(0,n._)("td",null,(0,o.zw)(y.getTiempo(t._id)),1),(0,n._)("td",v,(0,o.zw)(t.concepto),1),(0,n._)("td",null,(0,o.zw)(t.valor?.toFixed(2))+" â‚¬",1)])))),256))])])),_:1})])),_:1})])),_:1})]),(0,n._)("div",_,[(0,n.Wm)(D,{ref:"numpadRef"},null,512)])],64)}var f=e(91076),g=e(74313),C=e(42492),w=e.n(C),k=e(44870),T=e(20065),h=e(38793),B=e(36797),D=e.n(B),N={name:"EntradaComponent",components:{MDBCard:g.Yl,MDBCardHeader:g.uX,MDBCardBody:g.H7,NumpadComponent:h.Z,MDBBtn:g.$v,MDBCardFooter:g.Rw,MDBTable:g.re},setup(){const t=(0,T.oR)(),a=(0,n.Fl)((()=>t.state.Trabajadores.arrayTrabajadores)),e=(0,n.Fl)((()=>t.state.Trabajadores.indexActivo)),o=(0,n.Fl)((()=>a.value&&null!=e.value&&void 0!=e.value&&a.value[e.value]?a.value[e.value]:null)),l=(0,k.iH)(null),d=(0,k.iH)(""),u=(0,k.iH)([]);function s(t){const a=new Date(t);return D()(a).format("HH:mm:ss DD/MM/YYYY")}function c(){""==d.value&&(d.value="Entrada"),f.Z.post("movimientos/nuevoMovimiento",{cantidad:Number(l.value.cantidad),concepto:d.value,idTrabajador:o.value._id,tipo:"ENTRADA_DINERO"}).then((t=>{if(!t.data)throw Error("No se ha podido realizar la entrada de dinero");l.value.setValor("0"),w().fire("Perfecto","Entrada de dinero realizada correctamente","success"),r()})).catch((t=>{w().fire("Oops...",t.message,"error")}))}function r(){f.Z.get("movimientos/getEntradasIntervalo").then((t=>{void 0!=t.data&&null!=t.data&&(u.value=t.data.reverse())})).catch((t=>{w().fire("Oops...","Error al mostrar lista","error")}))}return(0,n.bv)((()=>{r()})),(0,n.JJ)("okValue",c),{confirmarEntrada:c,numpadRef:l,concepto:d,listaEntradas:u,getEntradas:r,getTiempo:s}}},z=e(40089);const E=(0,z.Z)(N,[["render",y],["__scopeId","data-v-4184d2db"]]);var M=E}}]);
//# sourceMappingURL=537.aa705b30.js.map