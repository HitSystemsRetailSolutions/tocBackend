"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[942],{50206:function(e,a,n){var t=n(1702);e.exports=t([].slice)},89363:function(e){e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},6833:function(e,a,n){var t=n(88113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(t)},35268:function(e,a,n){var t=n(17854),o=n(84326);e.exports="process"===o(t.process)},22104:function(e,a,n){var t=n(34374),o=Function.prototype,l=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(t?i.bind(l):function(){return i.apply(l,arguments)})},49974:function(e,a,n){var t=n(21470),o=n(19662),l=n(34374),i=t(t.bind);e.exports=function(e,a){return o(e),void 0===a?e:l?i(e,a):function(){return e.apply(a,arguments)}}},21470:function(e,a,n){var t=n(84326),o=n(1702);e.exports=function(e){if("Function"===t(e))return o(e)}},60490:function(e,a,n){var t=n(35005);e.exports=t("document","documentElement")},17152:function(e,a,n){var t=n(17854),o=n(22104),l=n(60614),i=n(89363),r=n(88113),s=n(50206),c=n(48053),u=t.Function,d=/MSIE .\./.test(r)||i&&function(){var e=t.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,a){var n=a?2:1;return d?function(t,i){var r=c(arguments.length,1)>n,d=l(t)?t:u(t),v=r?s(arguments,n):[],f=r?function(){o(d,this,v)}:d;return a?e(f,i):e(f)}:e}},20261:function(e,a,n){var t,o,l,i,r=n(17854),s=n(22104),c=n(49974),u=n(60614),d=n(92597),v=n(47293),f=n(60490),_=n(50206),p=n(80317),g=n(48053),m=n(6833),y=n(35268),b=r.setImmediate,w=r.clearImmediate,h=r.process,C=r.Dispatch,k=r.Function,E=r.MessageChannel,A=r.String,I=0,N={},R="onreadystatechange";v((function(){t=r.location}));var T=function(e){if(d(N,e)){var a=N[e];delete N[e],a()}},U=function(e){return function(){T(e)}},S=function(e){T(e.data)},D=function(e){r.postMessage(A(e),t.protocol+"//"+t.host)};b&&w||(b=function(e){g(arguments.length,1);var a=u(e)?e:k(e),n=_(arguments,1);return N[++I]=function(){s(a,void 0,n)},o(I),I},w=function(e){delete N[e]},y?o=function(e){h.nextTick(U(e))}:C&&C.now?o=function(e){C.now(U(e))}:E&&!m?(l=new E,i=l.port2,l.port1.onmessage=S,o=c(i.postMessage,i)):r.addEventListener&&u(r.postMessage)&&!r.importScripts&&t&&"file:"!==t.protocol&&!v(D)?(o=D,r.addEventListener("message",S,!1)):o=R in p("script")?function(e){f.appendChild(p("script"))[R]=function(){f.removeChild(this),T(e)}}:function(e){setTimeout(U(e),0)}),e.exports={set:b,clear:w}},48053:function(e){var a=TypeError;e.exports=function(e,n){if(e<n)throw a("Not enough arguments");return e}},11091:function(e,a,n){var t=n(82109),o=n(17854),l=n(20261).clear;t({global:!0,bind:!0,enumerable:!0,forced:o.clearImmediate!==l},{clearImmediate:l})},84633:function(e,a,n){n(11091),n(12986)},12986:function(e,a,n){var t=n(82109),o=n(17854),l=n(20261).set,i=n(17152),r=o.setImmediate?i(l,!1):l;t({global:!0,bind:!0,enumerable:!0,forced:o.setImmediate!==r},{setImmediate:r})},34730:function(e,a,n){n.d(a,{HB:function(){return d},i_:function(){return c},re:function(){return u}});var t=n(91076),o=n(13150),l=n(16683),i=n(2001);n(12281);let r=i.Z;function s(){return r.state.Trabajadores.arrayTrabajadores&&null!=r.state.Trabajadores.indexActivo?r.state.Trabajadores.arrayTrabajadores[r.state.Trabajadores.indexActivo]??null:null}async function c(e,a,n){null!=e&&e>0&&t.Z.post("movimientos/nuevoMovimiento",{cantidad:e,concepto:a,idTrabajador:s()._id,tipo:n})}async function u(){return o.Z.activado()}async function d(){if(!await o.Z.activado())return null;let e=await o.Z.get_estado();if(e.err)return{err:e.err};let a=(0,l.li)();const n=e=>{(0,l.eh)(e).forEach((({mob:e,den:n,value:t})=>{a[e][n]=(a[e][n]??0)+t}))};n(e.cantidad_recicladores_pd),n(e.cantidad_stacker_pd),n(e.cantidad_caja_fuerte_pd);let t=[];const i={monedas:[1,2,5,10,20,50,100,200],billetes:[500,1e3,2e3,5e3,1e4,2e4,5e4]};for(let o=0;o<i.monedas.length+i.billetes.length;o++)o<i.monedas.length?t[o]=a.monedas[i.monedas[o]]??0:t[o]=a.billetes[i.billetes[o-i.monedas.length]]??0;return{infoDinero:t}}},13150:function(e,a,n){var t=n(91076);function o(e,a){return arguments.length<2?t.Z.get(e).then((e=>e.data)):t.Z.post(e,a,{headers:{"Content-Type":"application/json"}}).then((e=>e.data))}function l(e,a){return arguments[0]="cashlogy/"+arguments[0],o(...arguments)}function i(){return l("activado")}function r(e,a){return l("saveGrupoProcesos",{grupo:e,info:a})}function s(){return l("get_procesoPrevioInterrumpido")}function c(e){return l("aceptar_procesoPrevioInterrumpido",e)}function u(e){return l("importe_entrado_manualmente_en_cobrar",e)}function d(e,a=!0){return l("cobrar",{importe_a_cobrar:e,auto_aceptar:a})}function v(e){return l("anadir_cambios_y_devolver",e)}function f(){return l("anadir_cambios")}function _(e){return l("solo_dispensar",e)}function p(){return l("dar_cambio_entrada")}function g(e,a){return l("dispensar_por_denominacion",{cantidad_retirar_pd:e,destino_billetes:a})}function m(e,a,n){return l("vaciado_completo",{solo_monedas:e,denominaciones_vaciar:a,destino_billetes:n})}function y(e=!1){return l("consulta_todas_denominaciones",e)}function b(){return l("recaudar")}function w(e){return l("mantenimiento",e)}function h(){return l("poner_a_cero")}function C(){return l("resolver_incidencias")}function k(){return l("get_niveles")}function E(e){return l("get_errores",e)}function A(){return l("get_estado")}function I(e){return l("boton_pulsar",e)}function N(){return l("loadFondoCaja")}function R(e){return l("saveFondoCaja",e)}a["Z"]={activado:i,saveGrupoProcesos:r,get_procesoPrevioInterrumpido:s,aceptar_procesoPrevioInterrumpido:c,importe_entrado_manualmente_en_cobrar:u,cobrar:d,anadir_cambios_y_devolver:v,anadir_cambios:f,solo_dispensar:_,dar_cambio_entrada:p,dispensar_por_denominacion:g,vaciado_completo:m,consulta_todas_denominaciones:y,recaudar:b,mantenimiento:w,poner_a_cero:h,resolver_incidencias:C,get_niveles:k,get_errores:E,get_estado:A,boton_pulsar:I,loadFondoCaja:N,saveFondoCaja:R}},16683:function(e,a,n){n.d(a,{Cq:function(){return m},JQ:function(){return p},R_:function(){return r},XX:function(){return y},bW:function(){return g},c:function(){return u},eh:function(){return v},iX:function(){return s},j9:function(){return _},kJ:function(){return f},li:function(){return d},ul:function(){return b},uz:function(){return i},vg:function(){return l}});n(57658);var t=n(73396),o=n(44870);function l(e,a=!1){return e.toFixed(2)+(a?" €":"")}function i(e){return new Promise((a=>{setTimeout(a,e)}))}async function r(...e){function a(){return e.every((e=>e.value))}if(a())return;let n,o=(0,t.YP)(e,(()=>{n?.()}));do{let e=new Promise((e=>{n=e}));await e}while(!a());o?.()}const s=["billetes","monedas"],c=["monedas","billetes"];function u(e){let a,n=e.denominaciones_dispensables,t={header:{cols:["Cantidad reciclador","Cantidad introducida"]},body:[]};for(let o of s)for(let l=n[o].length-1;l>=0;l--){let i=n[o][l];a={mob:o,den_cents:i,cols:[{value:e.cantidad_recicladores_pd[o][i]},{value:e.cantidad_entrado_pd[o][i]}]},t.body.push(a)}return t}function d(){return{monedas:{},billetes:{}}}function v(e){let a=[];if(!e)return a;for(let n of c)e[n]&&Object.keys(e[n]).map((e=>parseInt(e))).sort(((e,a)=>e-a)).forEach((t=>{a.push({mob:n,den:t,value:e[n][t]})}));return a}function f(e){return 0==v(e).length}function _(e){let a=d();return v(e).forEach((({mob:e,den:n,value:t})=>{a[e][n]=t})),a}function p(e,a,n){let t;this.start=function(l){(0,o.dq)(a)?a.value=!1:arguments.length<=2&&(n=a);let i=e?.(l);return new Promise((e=>{t=e})).then((e=>(i&&i(e),n?.(e),(0,o.dq)(a)&&(a.value=!0),e)))},this.R=function(e){t(e)}}function g(e){return"CAJA_FUERTE"==e?"CAJA FUERTE":e}function m(e,a){let n="";return n=a<100?`${a}cts`:100==a?"uneuro":200==a?"doseuros":a/100+"euros",n=`/img/${n}.png`,n}function y(e){return Math.round(100*e)}function b(e){return e/100}},37532:function(e,a,n){n.d(a,{Z:function(){return D}});var t=n(73396),o=n(87139),l=n(44870),i=n(74313),r=n(91076),s=n(13150),c=(n(16683),n(2001));const u={key:0,class:"frame-Cashlogy flex-column"},d={key:1,class:"frame-Cashlogy flex-column",style:{"overflow-y":"auto"}},v=(0,t._)("br",null,null,-1),f=(0,t._)("br",null,null,-1),_=(0,t._)("br",null,null,-1),p=(0,t._)("br",null,null,-1),g=(0,t._)("br",null,null,-1),m=(0,t._)("br",null,null,-1),y=(0,t._)("br",null,null,-1),b=["src"],w=(0,t._)("br",null,null,-1),h={key:2,controls:""},C=["src"],k=(0,t._)("br",null,null,-1),E={key:2,class:"frame-Cashlogy flex-column",style:{"justify-content":"start","align-items":"start","overflow-y":"auto",gap:"2px"}},A={key:0},I=["onClick"],N={key:1},R={style:{"border-top":"1px solid grey","border-bottom":"1px solid grey"}},T=(0,t._)("br",null,null,-1);var U={__name:"CashlogyConsultaErroresChild",setup(e,{expose:a}){let n=c.Z;const U=(0,l.iH)(!0);function S(e){let a=new Date(e);const n=e=>("00"+e.toString()).slice(-2);return`${n(a.getHours())}:${n(a.getMinutes())}:${n(a.getSeconds())}`}function D(e){switch(e){case"0":return"AVISO";case"1":return"ERROR NIVEL 1";case"2":return"ERROR NIVEL 2";case"3":default:return"ERROR FATAL"}}const x=(0,l.iH)(null),O=(0,l.iH)(null);async function P(e){try{let a=await s.Z.get_errores(e),n=r.Z.defaults.baseURL.replace(/\/?\/$/,"");if([].concat(a.detalle_errores_actuales,a.lista_errores_pasados).forEach((e=>{e.imagen&&(e.imagen=n+e.imagen),e.video&&(e.video=n+e.video)})),x.value=a.detalle_errores_actuales,O.value=a.lista_errores_pasados.reverse(),$.value){$.value.solucionado=!0;for(let e of x.value)if(e.codigo==$.value.codigo){$.value.solucionado=!1;break}}U.value=!1}catch(a){}}let L;async function M(e,a){U.value=!0,$.value=null;let o=(0,t.YP)((()=>n.state.Cashlogy.id_notificaciones),(()=>{P(e)}));P(e);let l=new Promise((e=>{L=e})).then((()=>{o()}));a&&a.then((()=>{L()})),await l}const $=(0,l.iH)(null);function H(e){$.value=e,$.value.solucionado=!0;for(let a of x.value)if(a.codigo==$.value.codigo){$.value.solucionado=!1;break}}function Z(){$.value=null}return(0,t.Ah)((()=>{L&&L()})),a({run:M}),(e,a)=>U.value?((0,t.wg)(),(0,t.iD)("div",u," Espere ")):$.value?((0,t.wg)(),(0,t.iD)("div",d,[$.value.solucionado?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)(" Solucionado "),v],64)):(0,t.kq)("",!0),(0,t.Uk)(" Código: "+(0,o.zw)($.value.codigo)+" ",1),f,(0,t.Uk)(" "+(0,o.zw)($.value.titulo)+" ",1),_,(0,t.Uk)(" "+(0,o.zw)($.value.mensaje_principal)+" ",1),p,(0,t.Uk)(" "+(0,o.zw)($.value.mensaje_adicional)+" ",1),g,(0,t.Uk)(" "+(0,o.zw)(D($.value.tipo))+" ",1),m,(0,t.Uk)(" "+(0,o.zw)(S($.value.date_start)),1),y,$.value.imagen?((0,t.wg)(),(0,t.iD)("img",{key:1,src:$.value.imagen},null,8,b)):(0,t.kq)("",!0),(0,t.Uk)(),w,$.value.video?((0,t.wg)(),(0,t.iD)("video",h,[(0,t._)("source",{src:$.value.video},null,8,C)])):(0,t.kq)("",!0),(0,t.Uk)(),k,(0,t.Wm)((0,l.SU)(i.$v),{onClick:Z,color:"info",style:{overflow:"visible"},class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Cerrar ")])),_:1})])):((0,t.wg)(),(0,t.iD)("div",E,[0==x.value.length&&0==O.value.length?((0,t.wg)(),(0,t.iD)("div",A," No hay errores ")):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(x.value,(e=>((0,t.wg)(),(0,t.iD)("div",{onClick:a=>H(e),style:{"border-top":"1px solid grey","border-bottom":"1px solid grey"}},(0,o.zw)(S(e.date_start))+" - "+(0,o.zw)(D(e.tipo))+" - "+(0,o.zw)(e.titulo)+" - "+(0,o.zw)(e.mensaje_principal)+" - "+(0,o.zw)(e.mensaje_adicional),9,I)))),256)),O.value.length?((0,t.wg)(),(0,t.iD)("div",N,"Errores Pasados:")):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(O.value,(e=>((0,t.wg)(),(0,t.iD)("div",R,(0,o.zw)(S(e.date_start))+" - "+(0,o.zw)(S(e.date_end))+" - "+(0,o.zw)(D(e.tipo))+" - "+(0,o.zw)(e.titulo)+" - "+(0,o.zw)(e.mensaje_principal)+" - "+(0,o.zw)(e.mensaje_adicional),1)))),256)),T,(0,t.Wm)((0,l.SU)(i.$v),{onClick:(0,l.SU)(L),color:"info",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Cerrar ")])),_:1},8,["onClick"])]))}};const S=U;var D=S},16136:function(e,a,n){n.d(a,{Z:function(){return v}});n(57658),n(30541);var t=n(73396),o=n(44870),l=n(87139),i=n(74313);n(13150),n(16683);const r={class:"frame-Cashlogy flex-column"},s={class:"d-flex flex-column",style:{gap:"2px"}};var c={__name:"CashlogyErrorDevolucion",setup(e,{expose:a}){let n,c=(0,o.iH)([]),u=(0,o.iH)(!1);function d(){n?.(!0)}async function v(e=null){if(c.value=[],e?.error_en_la_devolucion&&c.value.push("Compruebe si hay atasco en el billetero"),e?.no_hay_caja_fuerte&&c.value.push("No hay caja fuerte"),0==c.value.length)return Promise.resolve(!1);c.value.unshift("Error en la devolución"),u.value=!1;let a=new Promise((e=>{n=e})).then((e=>(u.value=!0,e)));return a}return a({run:v}),(e,a)=>((0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",s,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(c),(e=>((0,t.wg)(),(0,t.iD)("span",null,(0,l.zw)(e),1)))),256)),(0,t.Wm)((0,o.SU)(i.$v),{onClick:d,disabled:(0,o.SU)(u),color:"warning",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Aceptar ")])),_:1},8,["disabled"])])]))}},u=n(40089);const d=(0,u.Z)(c,[["__scopeId","data-v-48442481"]]);var v=d},75629:function(e,a,n){n.d(a,{Z:function(){return R}});var t=n(73396),o=n(44870),l=n(87139),i=n(74313),r=n(66631),s=n(13150),c=n(16683);const u={key:0,class:"frame-Cashlogy flex-column"},d={key:1,class:"frame-Cashlogy"},v={style:{"text-align":"start"}},f=(0,t._)("br",null,null,-1),_=(0,t._)("br",null,null,-1),p=(0,t._)("br",null,null,-1),g=(0,t._)("br",null,null,-1),m=(0,t._)("br",null,null,-1),y={style:{"text-align":"end"}},b={key:2,class:"frame-Cashlogy"},w={style:{"text-align":"start"}},h=(0,t._)("br",null,null,-1),C=(0,t._)("br",null,null,-1),k={key:3,class:"frame-Cashlogy"},E={style:{"text-align":"start"}},A=(0,t._)("br",null,null,-1);var I={__name:"CashlogyMantenimiento",setup(e,{expose:a}){const n=(0,o.iH)("");let I=(0,o.iH)(!1);const N=new c.JQ((()=>{D.value="PANTALLA_MENU"})),R=new c.JQ((()=>{I.value=!1,D.value="PANTALLA_PREVENTIVO"}),(()=>{I.value=!0})),T=new c.JQ((()=>{I.value=!1,D.value="PANTALLA_CORREAS"}),(()=>{I.value=!0})),U=new c.JQ((()=>{D.value="PANTALLA_CORRECTO"})),S=(0,o.iH)(null),D=(0,o.iH)();let x=!1;async function O(){let e,a;x=!0,await(0,c.R_)(S),S.value.start();try{let t=await s.Z.mantenimiento("CONSULTA");a=await S.value.informacionAbort_y_cancel(t),a||(e=t.num_billetes_faltan);while(!a){n.value=e.toString();let o=await N.start();if("SALIR"==o&&(a={num_billetes_faltan:e}),"PREVENTIVO"==o){let n=await R.start();"MANTENIMIENTO_PREVENTIVO"==n&&(t=await s.Z.mantenimiento("RESET"),a=await S.value.informacionAbort_y_cancel(t),a||(e=t.num_billetes_faltan,await U.start()))}if("CORREAS"==o){let e=await T.start();"MANTENIMIENTO_CORREAS"==e&&(t=await s.Z.mantenimiento("LIMPIEZA"),a=await S.value.informacionAbort_y_cancel(t),a||await U.start())}}}catch(t){console.log(t),a={cancelado:!0}}return S.value?.end(),x=!1,a}return(0,t.Ah)((()=>{x&&s.Z.boton_pulsar("BOT_ABORTAR_Y_CANCELAR")})),a({run:O}),(e,a)=>((0,t.wg)(),(0,t.j4)(r.Z,{enProceso:null!=D.value,ref_key:"CashlogyPantalla_ref",ref:S},{default:(0,t.w5)((()=>["PANTALLA_MENU"==D.value?((0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)((0,o.SU)(i.$v),{onClick:a[0]||(a[0]=e=>(0,o.SU)(N).R("PREVENTIVO")),color:"primary",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" MANTENIMIENTO PREVENTIVO MAQUINA ")])),_:1}),(0,t.Wm)((0,o.SU)(i.$v),{onClick:a[1]||(a[1]=e=>(0,o.SU)(N).R("CORREAS")),color:"primary",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" MANTENIMIENTO CORREAS LECTOR BILLETES ")])),_:1}),(0,t.Wm)((0,o.SU)(i.$v),{onClick:a[2]||(a[2]=e=>(0,o.SU)(N).R("SALIR")),color:"primary",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" SALIR ")])),_:1})])):(0,t.kq)("",!0),"PANTALLA_PREVENTIVO"==D.value?((0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("div",v,[(0,t.Uk)(" Si ha realizado el Mantenimiento Preventivo pulse"),f,(0,t.Uk)(" para inicializar el contado de usos:"),_,p,(0,t.Uk)(" Billetes que faltan para el mantenimiento: "+(0,l.zw)(n.value),1),g,(0,t.Wm)((0,o.SU)(i.$v),{disabled:(0,o.SU)(I),onClick:a[3]||(a[3]=e=>(0,o.SU)(R).R("MANTENIMIENTO_PREVENTIVO")),color:"success",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" INIZIALIZAR CONTADOR MANTENIMENTO PREVENTIVO ")])),_:1},8,["disabled"]),m,(0,t._)("div",y,[(0,t.Wm)((0,o.SU)(i.$v),{disabled:(0,o.SU)(I),onClick:a[4]||(a[4]=e=>(0,o.SU)(R).R("SALIR")),color:"danger",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" SALIR ")])),_:1},8,["disabled"])])])])):(0,t.kq)("",!0),"PANTALLA_CORREAS"==D.value?((0,t.wg)(),(0,t.iD)("div",b,[(0,t._)("div",w,[(0,t.Uk)(" Si ha realizado el Mantenimiento de las Correas,"),h,(0,t.Uk)(" pulse inicializarlo y borrar el aviso:"),C,(0,t.Wm)((0,o.SU)(i.$v),{disabled:(0,o.SU)(I),onClick:a[5]||(a[5]=e=>(0,o.SU)(T).R("MANTENIMIENTO_CORREAS")),color:"success",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" INICIALIZAR MANTENIMIENTO CORREAS ")])),_:1},8,["disabled"]),(0,t.Wm)((0,o.SU)(i.$v),{disabled:(0,o.SU)(I),onClick:a[6]||(a[6]=e=>(0,o.SU)(T).R("SALIR")),color:"danger",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" SALIR ")])),_:1},8,["disabled"])])])):(0,t.kq)("",!0),"PANTALLA_CORRECTO"==D.value?((0,t.wg)(),(0,t.iD)("div",k,[(0,t._)("div",E,[(0,t.Uk)(" Mantenimiento correcto"),A,(0,t.Wm)((0,o.SU)(i.$v),{onClick:a[7]||(a[7]=e=>(0,o.SU)(U).R()),color:"info",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" ACEPTAR ")])),_:1})])])):(0,t.kq)("",!0)])),_:1},8,["enProceso"]))}};const N=I;var R=N},45824:function(e,a,n){n.d(a,{Z:function(){return Z}});n(57658),n(84633);var t=n(73396),o=n(87139),l=n(44870),i=n(74313),r=n(12195),s=n(75629),c=n(10812),u=n(37532),d=n(13150),v=n(16683),f=n(2001);const _=e=>((0,t.dD)("data-v-28774423"),e=e(),(0,t.Cn)(),e),p=["src"],g={key:1,class:"d-flex flex-column",style:{width:"4rem","padding-top":"1rem"}},m=["src"],y={key:2,class:"modal-Cashlogy"},b={class:"frame-Cashlogy"},w={class:"col-2 h-100"},h={class:"w-100",style:{"text-emphasis":"start"}},C={class:"d-flex flex-column",style:{"align-items":"center",gap:"2px",padding:"2rem"}},k=["src"],E={key:0,class:"col h-100"},A=_((()=>(0,t._)("div",{class:"frame-Cashlogy flex-column"}," Espere ",-1))),I=[A],N={key:1,class:"col h-100"},R={key:0,class:"frame-Cashlogy flex-column"},T={key:1,class:"w-100 h-100"},U={key:1,class:"frame-Cashlogy flex-column"},S=_((()=>(0,t._)("br",null,null,-1))),D=_((()=>(0,t._)("br",null,null,-1))),x={key:2,class:"w-100 h-100",style:{padding:"4rem"}},O={key:3,class:"w-100 h-100"},P={key:4,class:"frame-Cashlogy flex-column"},L={key:5,class:"frame-Cashlogy flex-column"};var M={__name:"CashlogyMenuNotificaciones",props:{miniMenu:Boolean},setup(e,{expose:a}){const n=e;let _=f.Z;const A=["NIVEL","MANTENIMIENTO","AVISO","ERROR","PENDIENTE","INICIALIZANDO","CONECTANDO"],M=(0,t.Fl)((()=>{let e=[];for(let a of A){let n=_.state.Cashlogy.id_notificaciones[a],t=_.state.Cashlogy.id_notificaciones_vistas[a];if(n){let o;o=B.value==a?"ico-selected":n!=t?"ico-no-visto":"ico-visto";let l={tipo:a,class:o,img:`/img/cashlogy/${a.toLowerCase()}.jpg`};e.push(l)}}return _.state.Cashlogy.id_notificaciones["CONECTANDO"]||le["CONECTANDO"]?.(),_.state.Cashlogy.id_notificaciones["INICIALIZANDO"]||le["INICIALIZANDO"]?.(),e})),$=["NIVEL","MANTENIMIENTO","AVISO","ERROR","PENDIENTE","INICIALIZANDO","CONECTANDO"],H=(0,l.iH)(!1),Z=(0,t.Fl)((()=>{let e=null,a=!0;for(let t=$.length-1;t>=0;t--){let n=$[t],o=_.state.Cashlogy.id_notificaciones[n],l=_.state.Cashlogy.id_notificaciones_vistas[n];o&&(e||(e=n),o!=l&&(a=!1))}let n=e?`/img/cashlogy/${e.toLowerCase()}.jpg`:"";return H.value=!!e,{tipo:e,class:a?"ico-visto":"ico-no-visto",img:n}}));async function j(){W.value=!1,z&&(await z(),await new Promise((e=>setImmediate(e))),await new Promise((e=>setImmediate(e))),z&&await z())}let z,q=0;async function V(e){switch(q++,z&&(await z(),await new Promise((e=>setImmediate(e)))),W.value=!0,B.value=e,_.dispatch("Cashlogy/notificacion_vista",{[e]:_.state.Cashlogy.id_notificaciones[e]}),e){case"NIVEL":await J();break;case"MANTENIMIENTO":await Q();break;case"AVISO":case"ERROR":await ne(e);break;case"PENDIENTE":await oe();break;case"INICIALIZANDO":case"CONECTANDO":await ie(e)}q--,0==q&&(W.value=!1)}const W=(0,l.iH)(!1);(0,t.YP)(W,(e=>{e||(Y.value=!0,B.value=null)})),(0,t.Ah)((()=>{j()}));const B=(0,l.iH)(null),Y=(0,l.iH)(!1),F=(0,l.iH)({});let K;async function J(){Y.value=!0;let e=!1,a=new Promise((e=>{K=e})).then((()=>{e=!0,z=null}));z=async()=>{K(),await a};while(1){try{let a=await d.Z.get_niveles();if(e)break;if(a.err)Y.value=!0;else{let e,n=new Map([[0,["",""]],[11,["Vacío","class-vacio"]],[12,["Casi Vacío","class-vacio"]],[21,["Lleno","class-lleno"]],[22,["Casi Lleno","class-lleno"]]]),t=a.denominaciones_dispensables,o={header:{cols:["Estado","Porcentaje"]},body:[]};for(let i of v.iX)for(let l=t[i].length-1;l>=0;l--){let r=t[i][l],s=n.get(a.estado_pd[i][r]);e={mob:i,den_cents:r,cols:[{value:s?.[0]??"",class:s?.[1]??""},{value:`${a.porcentaje_pd[i][r]}%`}]},o.body.push(e)}let l=n.get(a.estado_pd.STACKER);if(e={text:"STACKER",cols:[{value:l?.[0]??"",class:l?.[1]??""},{value:`${a.porcentaje_pd.STACKER}%`}]},o.body.push(e),"SAFEBOX"in a.estado_pd||"SAFEBOX"in a.estado_pd){let t=n.get(a.estado_pd.SAFEBOX);e={text:"CAJA FUERTE",cols:[{value:t?.[0]??"",class:t?.[1]??""},{value:`${a.porcentaje_pd.SAFEBOX}%`}]},o.body.push(e)}F.value=o,Y.value=!1}}catch(n){}if(await Promise.race([(0,v.uz)(5e3),a]),e)break}}const X=(0,l.iH)(null);let G;async function Q(){if(n.miniMenu)await(0,v.R_)(X),await X.value.run();else{W.value=!0,B.value="MANTENIMIENTO",Y.value=!1,z=async()=>{G(),await e};let e=new Promise((e=>{G=e})).then((()=>{z=null}));await e}}const ee=(0,l.iH)(null);let ae;async function ne(e){Y.value=!1,await(0,v.R_)(ee);let a=new Promise((e=>{ae=e})).then((()=>{z=null}));z=async()=>{ae(),await a},await ee.value.run(e,a),ae(),await a}const te=(0,l.iH)(null);async function oe(){let e;Y.value=!0;let a=new Promise((a=>{e=a})).then((()=>{z=null}));z=async()=>{e(),await a};let n=await d.Z.get_procesoPrevioInterrumpido();Y.value=!1,await(0,v.R_)(te);let t=await te.value.run(n,a);"BOT_ACEPTAR"==t&&await d.Z.aceptar_procesoPrevioInterrumpido(n),e(),await a}let le={};async function ie(e){Y.value=!1,z=async()=>{le[e](),await a};let a=new Promise((a=>{le[e]=a})).then((()=>{z=null}));await a}function re(){W.value=!1}return a({restart:re,mini_menu_activo:H}),(a,n)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[e.miniMenu&&Z.value.tipo?((0,t.wg)(),(0,t.iD)("img",{key:0,style:{"object-fit":"contain"},src:Z.value.img,onClick:n[0]||(n[0]=e=>V(Z.value.tipo)),class:(0,o.C_)(["miniMenu border-ico",Z.value.class])},null,10,p)):(0,t.kq)("",!0),e.miniMenu?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",g,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(M.value,(e=>((0,t.wg)(),(0,t.iD)("div",{class:(0,o.C_)(["border-ico",e.class]),style:{height:"4rem","margin-bottom":"0.3rem"}},[(0,t.Wm)((0,l.SU)(i.$v),{onClick:a=>V(e.tipo),class:"w-100 h-100 p-0"},{default:(0,t.w5)((()=>[(0,t._)("img",{src:e.img,style:{"object-fit":"contain"}},null,8,m)])),_:2},1032,["onClick"])],2)))),256))])),W.value?((0,t.wg)(),(0,t.iD)("div",y,[(0,t._)("div",b,[(0,t._)("div",w,[(0,t._)("div",h,[(0,t.Wm)((0,l.SU)(i.$v),{onClick:j,color:"info",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Volver ")])),_:1})]),(0,t._)("div",C,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(M.value,(e=>((0,t.wg)(),(0,t.j4)((0,l.SU)(i.$v),{onClick:a=>V(e.tipo),class:(0,o.C_)([e.class,"border-ico"])},{default:(0,t.w5)((()=>[(0,t._)("img",{src:e.img},null,8,k)])),_:2},1032,["onClick","class"])))),256))])]),Y.value?((0,t.wg)(),(0,t.iD)("div",E,I)):((0,t.wg)(),(0,t.iD)("div",N,["NIVEL"==B.value?((0,t.wg)(),(0,t.iD)("div",R,[(0,t.Wm)(r.Z,{tabla:F.value,style:{flex:"0 0 80%"}},null,8,["tabla"])])):(0,t.kq)("",!0),"MANTENIMIENTO"==B.value?((0,t.wg)(),(0,t.iD)("div",T,[e.miniMenu?((0,t.wg)(),(0,t.j4)(s.Z,{key:0,ref:"cashlogyMantenimiento_ref"},null,512)):((0,t.wg)(),(0,t.iD)("div",U,[(0,t.Uk)(" Realice el mantenimiento de Cashlogy"),S,(0,t.Uk)(" Vaya a Mantenimiento en el menu Cashlogy BackOffice"),D,(0,t.Wm)((0,l.SU)(i.$v),{onClick:(0,l.SU)(G),color:"info",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Aceptar ")])),_:1},8,["onClick"])]))])):(0,t.kq)("",!0),"AVISO"==B.value||"ERROR"==B.value?((0,t.wg)(),(0,t.iD)("div",x,[(0,t.Wm)(u.Z,{ref_key:"CashlogyConsultaErrorChild_ref",ref:ee},null,512)])):(0,t.kq)("",!0),"PENDIENTE"==B.value?((0,t.wg)(),(0,t.iD)("div",O,[(0,t.Wm)(c.Z,{ref_key:"CashlogyProcesoPrevioInterrumpido_ref",ref:te},null,512)])):(0,t.kq)("",!0),"INICIALIZANDO"==B.value?((0,t.wg)(),(0,t.iD)("div",P,[(0,t.Uk)(" Inicializando "),(0,t.Wm)((0,l.SU)(i.$v),{onClick:(0,l.SU)(le)["INICIALIZANDO"],color:"info",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Aceptar ")])),_:1},8,["onClick"])])):(0,t.kq)("",!0),"CONECTANDO"==B.value?((0,t.wg)(),(0,t.iD)("div",L,[(0,t.Uk)(" Conectando "),(0,t.Wm)((0,l.SU)(i.$v),{onClick:(0,l.SU)(le)["CONECTANDO"],color:"info",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Aceptar ")])),_:1},8,["onClick"])])):(0,t.kq)("",!0)]))])])):(0,t.kq)("",!0)],64))}},$=n(40089);const H=(0,$.Z)(M,[["__scopeId","data-v-28774423"]]);var Z=H},66631:function(e,a,n){n.d(a,{Z:function(){return x}});var t=n(73396),o=n(87139),l=n(44870),i=n(74313),r=n(92136),s=n(45824),c=n(10812),u=n(13150),d=n(16683);const v=e=>((0,t.dD)("data-v-7dae9afa"),e=e(),(0,t.Cn)(),e),f={key:0,class:"modal-Cashlogy",style:{"font-size":"1.25rem"}},_={style:{display:"flex",height:"100%",padding:"0.5rem"}},p={style:{flex:"0 0 80%",position:"relative",height:"100%",border:"2px solid black","border-radius":"10px",padding:"0.7rem"}},g=v((()=>(0,t._)("legend",{style:{float:"none",width:"auto",margin:"0 0.3rem","font-size":"1.5rem",color:"black"}},"Cashlogy",-1))),m={class:"w-100 h-100",style:{position:"relative"}},y={key:0,class:"frame-Cashlogy flex-column"},b=v((()=>(0,t._)("div",{style:{border:"1px solid black","border-radius":"6px",padding:"2rem"}}," Conectando con Cashlogy ",-1))),w={key:0},h={key:0,style:{position:"absolute",bottom:"0px",width:"100%",height:"100%","background-color":"rgb(0 0 0 /20%)"}},C=["innerHTML"],k=v((()=>(0,t._)("br",null,null,-1))),E={class:"d-flex flex-column",style:{gap:"2px"}},A={style:{flex:"1 0 0","margin-left":"1rem"}},I={key:0,class:"modal-Cashlogy"},N={key:1,class:"modal-Cashlogy"},R={class:"frame-Cashlogy flex-column"},T=["innerHTML"];var U={__name:"CashlogyPantalla",props:{enProceso:Boolean},setup(e,{expose:a}){const n=e,v=(0,l.iH)(!1);(0,t.YP)((()=>n.enProceso),(()=>{M()}));const U=(0,l.iH)(!1),S=(0,l.iH)(""),D=(0,l.iH)([]),x=(0,l.iH)(!1),O=(0,l.iH)(""),P=(0,l.iH)(!1);let L;function M(){L&&clearTimeout(L),P.value=!1,L=setTimeout((()=>{P.value=!0}),1e4)}function $(){u.Z.boton_pulsar("BOT_ABORTAR_Y_CANCELAR"),u.Z.boton_pulsar("BOT_CANCELAR")}function H(e){x.value=!0,u.Z.boton_pulsar(e)}async function Z(e){"OK"!=e.state&&("TIMEOUT"!=e.state||"RETIRAR_STACKER"!=e.tipo_cmd_suspendible)?("TIMEOUT"==e.state&&"DISPENSAR"==e.tipo_cmd_suspendible?(S.value="Problema con la devolución<br>\n                 Retire el billete para continuar\n                ",O.value="height:60%;"):(S.value=`Proceso suspendido<br>\n                 Espere<br>\n                 Estado:${e.state}\n                `,O.value="height:50%;"),U.value=!0,D.value=e.botones,x.value=!1,M()):U.value=!1}function j(e){r.socket[e]("Cashlogy.suspendido",Z)}const z=(0,l.iH)(!1),q=(0,l.iH)(null);async function V(e){z.value=!0,await(0,d.R_)(q);let a=await q.value.run(e);z.value=!1,u.Z.boton_pulsar(a),M()}function W(e){r.socket[e]("Cashlogy.procesoPrevioInterrumpido",V)}const B=(0,l.iH)(),Y=(0,l.iH)("");let F;async function K(e){if(e.abort_info){let a=e.abort_info.grupo_procesos;Y.value=`El proceso se ha interrumpido<br>\n                 Grupo:${a?.grupo??a?.enCurso?.proceso??""}<br>\n                `+(a?.grupo?`Subproceso:${a?.enCurso?.proceso??""}<br>`:"");let n="";return n=e.abort_info.stopped?"stopped":e.abort_info.last_suspendido_state?e.abort_info.last_suspendido_state:e.abort_info.reason,Y.value+=`Razon:${n}`,B.value=!0,await new Promise((e=>{F=e})),B.value=!1,{cancelado:e.cancelado,abort_id:e.abort_info.grupo_procesos?.preEstado?.date??-1}}return e.cancelado?{cancelado:!0}:null}function J(e){j(e),W(e)}async function X(){v.value=!0,U.value=!1,J("on"),M()}async function G(){v.value=!1,J("off")}return(0,t.Ah)((()=>{G()})),a({start:X,end:G,informacionAbort_y_cancel:K}),(e,a)=>v.value?((0,t.wg)(),(0,t.iD)("div",f,[(0,t._)("div",_,[(0,t._)("fieldset",p,[g,(0,t._)("div",m,[(0,t._)("div",{style:{height:"100%"},class:(0,o.C_)({disabled:U.value})},[n.enProceso?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",y,[b,P.value?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)((0,l.SU)(i.$v),{onClick:$,color:"danger",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Salir ")])),_:1})])):(0,t.kq)("",!0)])),(0,t.WI)(e.$slots,"default")],2),U.value?((0,t.wg)(),(0,t.iD)("div",h,[(0,t._)("div",{class:"div_suspendido",style:(0,o.j5)(O.value)},[(0,t._)("div",{innerHTML:S.value},null,8,C),k,(0,t._)("div",E,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(D.value,(({msg:e,bot:a})=>((0,t.wg)(),(0,t.j4)((0,l.SU)(i.$v),{disabled:x.value,onClick:e=>H(a),color:"danger",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e),1)])),_:2},1032,["disabled","onClick"])))),256))])],4)])):(0,t.kq)("",!0)])]),(0,t._)("div",A,[(0,t.Wm)(s.Z,{ref:"CashlogyMenuNotificacionesRef"},null,512)])]),z.value?((0,t.wg)(),(0,t.iD)("div",I,[(0,t.Wm)(c.Z,{ref_key:"CashlogyProcesoPrevioInterrumpido_ref",ref:q},null,512)])):(0,t.kq)("",!0),B.value?((0,t.wg)(),(0,t.iD)("div",N,[(0,t._)("div",R,[(0,t._)("div",{innerHTML:Y.value},null,8,T),(0,t.Wm)((0,l.SU)(i.$v),{onClick:a[0]||(a[0]=()=>(0,l.SU)(F)()),color:"info",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Aceptar ")])),_:1})])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0)}},S=n(40089);const D=(0,S.Z)(U,[["__scopeId","data-v-7dae9afa"]]);var x=D},10812:function(e,a,n){n.d(a,{Z:function(){return _}});n(57658);var t=n(73396),o=n(44870),l=n(74313),i=n(12195),r=n(16683);const s={class:"frame-Cashlogy"},c={style:{flex:"0 0 30%"}},u=["innerHTML"];var d={__name:"CashlogyProcesoPrevioInterrumpido",setup(e,{expose:a}){(0,o.iH)("");const n=(0,o.iH)(!1),d=(0,o.iH)(""),v=(0,o.iH)({});let f=()=>{},_=!1;async function p(e,a=null){if(_=!0,d.value=`Resumen proceso interrumpido previo<br>\n             Grupo:${e?.grupo??e?.enCurso?.proceso??""}<br>\n            `+(e?.grupo?`Subproceso:${e?.enCurso?.proceso??""}<br>`:"")+(e?.info?.importe_entrado?`Importe entrado por el cliente:${(0,r.vg)(e?.info?.importe_entrado,!0)}<br>`:""),e?.preEstado?.date){let a=new Date(e.preEstado?.date);const n=e=>("0"+e.toString()).slice(-2);let t=`${n(a.getDate())}/${n(a.getMonth()+1)}/${a.getFullYear()} - ${n(a.getHours())}:${n(a.getMinutes())}:${n(a.getSeconds())}`;d.value+=`Fecha: ${t}<br>`}if(e?.postEstado&&e?.preEstado){let a,n=!(0,r.kJ)(e.postEstado.cantidad_caja_fuerte_pd),t={header:{cols:["Cantidad reciclador","Cantidad stacker",n?"Cantidad caja fuerte":null].filter((e=>null!=e))},body:[],footer:{head:"Valoración",cols:[]}};for(let i of r.iX)for(let o=e.postEstado.denominaciones[i].length-1;o>=0;o--){let l=e.postEstado.denominaciones[i][o],r=e.postEstado.cantidad_recicladores_pd[i][l],s=e.postEstado.cantidad_stacker_pd[i][l],c=e.postEstado.cantidad_caja_fuerte_pd[i][l]??0,u=e.preEstado.cantidad_recicladores_pd[i][l],d=e.preEstado.cantidad_stacker_pd[i][l],v=e.preEstado.cantidad_caja_fuerte_pd[i][l]??c;const f=(e,a)=>e==a?{value:e.toString(),class:""}:e<a?{value:`${e}(-${a-e})`,class:"class-menos"}:{value:`${e}(+${e-a})`,class:"class-mas"};a={mob:i,den_cents:l,cols:[f(r,u),f(s,d),n?f(c,v):null].filter((e=>null!=e))},t.body.push(a)}const o=e=>{let a=0;for(let{mob:n,den:t,value:o}of(0,r.eh)(e))a+=t*o;return a/100},l=(e,a)=>{let n=o(e),t=o(a);return n==t?{value:(0,r.vg)(n,!0),class:""}:n<t?{value:`${(0,r.vg)(n,!0)} (-${(0,r.vg)(t-n,!0)})`,class:"class-menos"}:{value:`${(0,r.vg)(n,!0)} (+${(0,r.vg)(n-t,!0)})`,class:"class-mas"}};t.footer.cols=[l(e.postEstado.cantidad_recicladores_pd,e.preEstado.cantidad_recicladores_pd),l(e.postEstado.cantidad_stacker_pd,e.preEstado.cantidad_stacker_pd),n?l(e.postEstado.cantidad_caja_fuerte_pd,e.preEstado.cantidad_caja_fuerte_pd):null].filter((e=>null!=e)),v.value=t}else v.value={};let t=new Promise((e=>{f=e})).then((e=>(n.value=!0,e)));n.value=!1,a&&a.then((()=>{f?.("BOT_CANCELAR")}));let o=await t;return _=!1,o}return(0,t.Ah)((()=>{_&&f?.("BOT_CANCELAR")})),a({run:p}),(e,a)=>((0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",c,[(0,t._)("div",{innerHTML:d.value},null,8,u),(0,t._)("div",null,[(0,t.Wm)((0,o.SU)(l.$v),{disabled:n.value,onClick:a[0]||(a[0]=e=>(0,o.SU)(f)("BOT_ACEPTAR")),color:"success",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" ACEPTAR ")])),_:1},8,["disabled"]),(0,t.Wm)((0,o.SU)(l.$v),{disabled:n.value,onClick:a[1]||(a[1]=e=>(0,o.SU)(f)("BOT_CANCELAR")),color:"danger",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)(" CANCELAR ")])),_:1},8,["disabled"])])]),(0,t.Wm)(i.Z,{tabla:v.value},null,8,["tabla"])]))}},v=n(40089);const f=(0,v.Z)(d,[["__scopeId","data-v-09be6485"]]);var _=f},12195:function(e,a,n){n.d(a,{Z:function(){return A}});var t=n(73396),o=n(87139),l=n(44870),i=n(49242),r=n(74313),s=n(16683);const c={class:"tabla-denominaciones",style:{"font-size":"1rem"}},u={key:0},d={colspan:"2"},v={style:{"min-width":"8.8rem"}},f={style:{"text-align":"center"}},_=["src"],p=["value"],g=["value"],m={key:3,style:{"text-align":"end"}},y={key:1},b={colspan:"2"},w={key:0},h={style:{"text-align":"end"}};var C={__name:"CashlogyTablaDenominaciones",props:["tabla","checkboxs"],emits:["click-body","click-footer","update:checkboxs"],setup(e,{emit:a}){const n=e,C=(0,t.Fl)((()=>n.tabla)),k=(0,l.iH)([]);function E(e,n,t){a("click-body",e,n,t,this)}function A(e,n){a("click-footer",e,n,this)}return n.checkboxs&&(k.value=n.checkboxs),(0,t.YP)((()=>n.checkboxs),(()=>{k.value=n.checkboxs})),(0,t.YP)(k,(()=>{a("update:checkboxs",k.value)})),(e,a)=>((0,t.wg)(),(0,t.iD)("table",c,[C.value.header?((0,t.wg)(),(0,t.iD)("thead",u,[(0,t._)("tr",null,[(0,t._)("th",d,(0,o.zw)(C.value.header.head??""),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(C.value.header.cols,(e=>((0,t.wg)(),(0,t.iD)("th",null,(0,o.zw)(e),1)))),256))])])):(0,t.kq)("",!0),(0,t._)("tbody",null,[C.value.body?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(C.value.body,(e=>((0,t.wg)(),(0,t.iD)("tr",null,[(0,t._)("td",v,(0,o.zw)(e.text?e.text:("billetes"==e.mob?"Billetes de ":"Monedas de ")+(e.den_cents>=100?e.den_cents/100+"€":e.den_cents+"c")),1),(0,t._)("td",f,[null==e.text?((0,t.wg)(),(0,t.iD)("img",{key:0,src:(0,l.SU)(s.Cq)(e.mob,e.den_cents),style:{height:"2ch"}},null,8,_)):(0,t.kq)("",!0)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cols,((n,s)=>((0,t.wg)(),(0,t.iD)("td",(0,t.dG)({class:n.class||"",style:null!=n.checkbox?"text-align:center;":"text-align:end"},(0,t.mx)(n.clickable?{click:function(){E(e,n,s)}}:{},!0)),[n.button?((0,t.wg)(),(0,t.j4)((0,l.SU)(r.$v),{key:0,color:"secondary"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(n.value),1)])),_:2},1024)):n.input?((0,t.wg)(),(0,t.iD)("input",{key:1,type:"text",style:{"text-align":"end",border:"2px solid red","border-radius":"4px",height:"100%"},readonly:"",value:n.value,size:"6",onFocus:a[0]||(a[0]=e=>{e.currentTarget?.blur?.()})},null,40,p)):null!=n.checkbox?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:2,type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=e=>k.value=e),value:`${e.mob},${e.den_cents},${s}`},null,8,g)),[[i.e8,k.value]]):((0,t.wg)(),(0,t.iD)("div",m,(0,o.zw)(n.value),1))],16)))),256))])))),256)):(0,t.kq)("",!0)]),C.value.footer?((0,t.wg)(),(0,t.iD)("tfoot",y,[(0,t._)("tr",null,[(0,t._)("th",b,(0,o.zw)(C.value.footer.head??""),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(C.value.footer.cols,((e,a)=>((0,t.wg)(),(0,t.iD)(t.HY,null,["string"==typeof e?((0,t.wg)(),(0,t.iD)("td",w,(0,o.zw)(e),1)):((0,t.wg)(),(0,t.iD)("td",(0,t.dG)({key:1,class:e.class||""},(0,t.mx)(e.clickable?{click:function(){A(e,a)}}:{},!0),{style:{"text-align":"end"}}),[(0,t._)("div",h,(0,o.zw)(e.value),1)],16))],64)))),256))])])):(0,t.kq)("",!0)]))}},k=n(40089);const E=(0,k.Z)(C,[["__scopeId","data-v-d00f1f0e"]]);var A=E},66720:function(e,a,n){n.d(a,{Z:function(){return v}});var t=n(73396),o=n(44870),l=n(87139),i=n(74313),r=n(16683);const s={style:{display:"grid","grid-template-columns":"repeat(4,1fr)","grid-template-rows":"repeat(4,1fr)"}};var c={__name:"CashlogyTecladoNumerico",props:{tipo_importe:Boolean},emits:["click-key"],setup(e,{emit:a}){const n=e;let c=(0,r.vg)(1.23).charAt(1);const u=[[7,8,9,{value:"C",style:"grid-row:1/5;grid-column:4"}],[4,5,6],[1,2,3],[{value:0,style:"grid-row:4;grid-column:1/4"}]],d=[[7,8,9,{value:"C",style:"grid-row:1/5;grid-column:4"}],[4,5,6],[1,2,3],[{value:0,style:"grid-row:4;grid-column:1/3"},c]];function v(e){a("click-key",e)}return(e,a)=>((0,t.wg)(),(0,t.iD)("div",s,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.tipo_importe?d:u,(e=>((0,t.wg)(),(0,t.iD)(t.HY,null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e,(e=>((0,t.wg)(),(0,t.j4)((0,o.SU)(i.$v),{onClick:()=>v("object"==typeof e?e.value:e),style:(0,l.j5)(["object"==typeof e?e.style:"",{margin:"1px"}]),color:"info",class:"boton-Cashlogy"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)("object"==typeof e?e.value:e),1)])),_:2},1032,["onClick","style"])))),256))],64)))),256))]))}},u=n(40089);const d=(0,u.Z)(c,[["__scopeId","data-v-1845037f"]]);var v=d}}]);
//# sourceMappingURL=942.d5ecab00.js.map