(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[639],{26050:function(a,e,t){t(57658);var o={utf8:{stringToBytes:function(a){return o.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(o.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var e=[],t=0;t<a.length;t++)e.push(255&a.charCodeAt(t));return e},bytesToString:function(a){for(var e=[],t=0;t<a.length;t++)e.push(String.fromCharCode(a[t]));return e.join("")}}};a.exports=o},58258:function(a,e,t){t(57658),function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(a,e){return a<<e|a>>>32-e},rotr:function(a,e){return a<<32-e|a>>>e},endian:function(a){if(a.constructor==Number)return 16711935&t.rotl(a,8)|4278255360&t.rotl(a,24);for(var e=0;e<a.length;e++)a[e]=t.endian(a[e]);return a},randomBytes:function(a){for(var e=[];a>0;a--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(a){for(var e=[],t=0,o=0;t<a.length;t++,o+=8)e[o>>>5]|=a[t]<<24-o%32;return e},wordsToBytes:function(a){for(var e=[],t=0;t<32*a.length;t+=8)e.push(a[t>>>5]>>>24-t%32&255);return e},bytesToHex:function(a){for(var e=[],t=0;t<a.length;t++)e.push((a[t]>>>4).toString(16)),e.push((15&a[t]).toString(16));return e.join("")},hexToBytes:function(a){for(var e=[],t=0;t<a.length;t+=2)e.push(parseInt(a.substr(t,2),16));return e},bytesToBase64:function(a){for(var t=[],o=0;o<a.length;o+=3)for(var n=a[o]<<16|a[o+1]<<8|a[o+2],r=0;r<4;r++)8*o+6*r<=8*a.length?t.push(e.charAt(n>>>6*(3-r)&63)):t.push("=");return t.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],o=0,n=0;o<a.length;n=++o%4)0!=n&&t.push((e.indexOf(a.charAt(o-1))&Math.pow(2,-2*n+8)-1)<<2*n|e.indexOf(a.charAt(o))>>>6-2*n);return t}};a.exports=t}()},88566:function(a){function e(a){return!!a.constructor&&"function"===typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function t(a){return"function"===typeof a.readFloatLE&&"function"===typeof a.slice&&e(a.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
a.exports=function(a){return null!=a&&(e(a)||t(a)||!!a._isBuffer)}},29564:function(a,e,t){t(23767),t(8585),t(68696),function(){var e=t(58258),o=t(26050).utf8,n=t(88566),r=t(26050).bin,l=function(a,t){a.constructor==String?a=t&&"binary"===t.encoding?r.stringToBytes(a):o.stringToBytes(a):n(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||a.constructor===Uint8Array||(a=a.toString());for(var s=e.bytesToWords(a),i=8*a.length,d=1732584193,u=-271733879,c=-1732584194,p=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[i>>>5]|=128<<i%32,s[14+(i+64>>>9<<4)]=i;var m=l._ff,g=l._gg,v=l._hh,w=l._ii;for(f=0;f<s.length;f+=16){var _=d,h=u,y=c,b=p;d=m(d,u,c,p,s[f+0],7,-680876936),p=m(p,d,u,c,s[f+1],12,-389564586),c=m(c,p,d,u,s[f+2],17,606105819),u=m(u,c,p,d,s[f+3],22,-1044525330),d=m(d,u,c,p,s[f+4],7,-176418897),p=m(p,d,u,c,s[f+5],12,1200080426),c=m(c,p,d,u,s[f+6],17,-1473231341),u=m(u,c,p,d,s[f+7],22,-45705983),d=m(d,u,c,p,s[f+8],7,1770035416),p=m(p,d,u,c,s[f+9],12,-1958414417),c=m(c,p,d,u,s[f+10],17,-42063),u=m(u,c,p,d,s[f+11],22,-1990404162),d=m(d,u,c,p,s[f+12],7,1804603682),p=m(p,d,u,c,s[f+13],12,-40341101),c=m(c,p,d,u,s[f+14],17,-1502002290),u=m(u,c,p,d,s[f+15],22,1236535329),d=g(d,u,c,p,s[f+1],5,-165796510),p=g(p,d,u,c,s[f+6],9,-1069501632),c=g(c,p,d,u,s[f+11],14,643717713),u=g(u,c,p,d,s[f+0],20,-373897302),d=g(d,u,c,p,s[f+5],5,-701558691),p=g(p,d,u,c,s[f+10],9,38016083),c=g(c,p,d,u,s[f+15],14,-660478335),u=g(u,c,p,d,s[f+4],20,-405537848),d=g(d,u,c,p,s[f+9],5,568446438),p=g(p,d,u,c,s[f+14],9,-1019803690),c=g(c,p,d,u,s[f+3],14,-187363961),u=g(u,c,p,d,s[f+8],20,1163531501),d=g(d,u,c,p,s[f+13],5,-1444681467),p=g(p,d,u,c,s[f+2],9,-51403784),c=g(c,p,d,u,s[f+7],14,1735328473),u=g(u,c,p,d,s[f+12],20,-1926607734),d=v(d,u,c,p,s[f+5],4,-378558),p=v(p,d,u,c,s[f+8],11,-2022574463),c=v(c,p,d,u,s[f+11],16,1839030562),u=v(u,c,p,d,s[f+14],23,-35309556),d=v(d,u,c,p,s[f+1],4,-1530992060),p=v(p,d,u,c,s[f+4],11,1272893353),c=v(c,p,d,u,s[f+7],16,-155497632),u=v(u,c,p,d,s[f+10],23,-1094730640),d=v(d,u,c,p,s[f+13],4,681279174),p=v(p,d,u,c,s[f+0],11,-358537222),c=v(c,p,d,u,s[f+3],16,-722521979),u=v(u,c,p,d,s[f+6],23,76029189),d=v(d,u,c,p,s[f+9],4,-640364487),p=v(p,d,u,c,s[f+12],11,-421815835),c=v(c,p,d,u,s[f+15],16,530742520),u=v(u,c,p,d,s[f+2],23,-995338651),d=w(d,u,c,p,s[f+0],6,-198630844),p=w(p,d,u,c,s[f+7],10,1126891415),c=w(c,p,d,u,s[f+14],15,-1416354905),u=w(u,c,p,d,s[f+5],21,-57434055),d=w(d,u,c,p,s[f+12],6,1700485571),p=w(p,d,u,c,s[f+3],10,-1894986606),c=w(c,p,d,u,s[f+10],15,-1051523),u=w(u,c,p,d,s[f+1],21,-2054922799),d=w(d,u,c,p,s[f+8],6,1873313359),p=w(p,d,u,c,s[f+15],10,-30611744),c=w(c,p,d,u,s[f+6],15,-1560198380),u=w(u,c,p,d,s[f+13],21,1309151649),d=w(d,u,c,p,s[f+4],6,-145523070),p=w(p,d,u,c,s[f+11],10,-1120210379),c=w(c,p,d,u,s[f+2],15,718787259),u=w(u,c,p,d,s[f+9],21,-343485551),d=d+_>>>0,u=u+h>>>0,c=c+y>>>0,p=p+b>>>0}return e.endian([d,u,c,p])};l._ff=function(a,e,t,o,n,r,l){var s=a+(e&t|~e&o)+(n>>>0)+l;return(s<<r|s>>>32-r)+e},l._gg=function(a,e,t,o,n,r,l){var s=a+(e&o|t&~o)+(n>>>0)+l;return(s<<r|s>>>32-r)+e},l._hh=function(a,e,t,o,n,r,l){var s=a+(e^t^o)+(n>>>0)+l;return(s<<r|s>>>32-r)+e},l._ii=function(a,e,t,o,n,r,l){var s=a+(t^(e|~o))+(n>>>0)+l;return(s<<r|s>>>32-r)+e},l._blocksize=16,l._digestsize=16,a.exports=function(a,t){if(void 0===a||null===a)throw new Error("Illegal argument "+a);var o=e.wordsToBytes(l(a,t));return t&&t.asBytes?o:t&&t.asString?r.bytesToString(o):e.bytesToHex(o)}}()},99639:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return J}});var o=t(73396),n=t(87139),r=t(49242);const l=a=>((0,o.dD)("data-v-36d80830"),a=a(),(0,o.Cn)(),a),s=l((()=>(0,o._)("div",{class:"row mt-1"},[(0,o._)("h1",{class:"titulo text-center",style:{"font-weight":"bold"}}," ¡No se han encontrado datos en este TPV! ")],-1))),i=l((()=>(0,o._)("label",{class:"subtitulo"},[(0,o.Uk)(" Hemos intentado cargar los datos de este TPV, pero no ha sido posible. "),(0,o._)("p",{style:{"font-size":"1.7rem"}}," Si cree que ha sido un error, puede reintentarlo pulsando el botón: ")],-1))),d={class:"botonesDiv"},u={style:{"text-align":"center","margin-top":"5%"}},c={key:0,class:"QRloadingDiv"},p=l((()=>(0,o._)("img",{src:"img/loadingNew.gif",style:{display:"block",margin:"auto",width:"350px"},alt:"Esperando respuesta del servidor"},null,-1))),f=l((()=>(0,o._)("span",{class:"telegramTxt"},"Configure el TPV mediante telegram.",-1))),m=[p,f],g={key:1,class:"QRloadingDiv"},v=l((()=>(0,o._)("h1",{class:"titulo text-center",style:{"font-weight":"bold"}}," ¿Esta seguro que desea instalar la siguiente licencia? ",-1))),w={class:"passLicTitle"},_=l((()=>(0,o._)("div",{class:"passLic"},[(0,o._)("span",null,"Este cambio es irreversible y todos los datos serán eliminados.")],-1))),h={key:2,class:"QRloadingDiv"},y=l((()=>(0,o._)("div",{class:"row"},[(0,o._)("img",{src:"img/loadingNew.gif",style:{display:"block",margin:"auto",width:"300px"},alt:"Esperando respuesta del servidor"}),(0,o._)("div",{class:"passLic"},[(0,o._)("span",null,"Estamos instalando este equipo, por favor, mantengase a la espera.")])],-1))),b={class:"animate-flicker"},k={key:3,class:"QRloadingDiv"},B={class:"passLic"},D={key:0},T={key:1},W={class:""},I={class:"form-label"},S={class:"form-label"},R=l((()=>(0,o._)("option",{value:"3G"},"3G",-1))),M=l((()=>(0,o._)("option",{value:"PAYTEF"},"PAYTEF",-1))),P=[R,M],Q={style:{"font-size":"20px","font-weight":"bold"}},V={class:"row"},z={style:{"font-size":"20px","font-weight":"bold",color:"green"}},C=l((()=>(0,o._)("div",{class:"row"},[(0,o._)("img",{src:"img/loadingNew.gif",style:{display:"block",margin:"auto",width:"300px"},alt:"Esperando respuesta del servidor"})],-1))),U=l((()=>(0,o._)("hr",null,null,-1))),H=l((()=>(0,o._)("hr",null,null,-1)));function x(a,e,t,l,p,f){const R=(0,o.up)("MDBBtn"),M=(0,o.up)("MDBIcon"),x=(0,o.up)("MDBModalTitle"),A=(0,o.up)("MDBModalHeader"),E=(0,o.up)("MDBStepperHead"),N=(0,o.up)("MDBStepperStep"),Z=(0,o.up)("MDBStepper"),$=(0,o.up)("qrcode-vue"),q=(0,o.up)("MDBModalFooter"),j=(0,o.up)("MDBProgressBar"),L=(0,o.up)("MDBProgress"),O=(0,o.up)("MDBModalBody"),F=(0,o.up)("MDBModal"),Y=(0,o.up)("MDBInput");return(0,o.wg)(),(0,o.iD)(o.HY,null,[s,i,(0,o._)("div",d,[(0,o.Wm)(R,{onClick:e[0]||(e[0]=a=>l.irAVentas()),class:"botones",color:"warning"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.$t("reintentar","Reintentar")),1)])),_:1})]),(0,o.Wm)(M,{class:"QRbtn",onClick:e[1]||(e[1]=a=>{l.QRmodal=!0,l.startQR()}),icon:"qrcode"}),(0,o.Wm)(M,{class:"ajustesBtn",onClick:e[2]||(e[2]=a=>l.contrasenyaAdmin=!0),icon:"tools"}),(0,o.Wm)(F,{id:"QRmodal",tabindex:"-1",labelledby:"QRmodal",modelValue:l.QRmodal,"onUpdate:modelValue":e[7]||(e[7]=a=>l.QRmodal=a),staticBackdrop:!0,size:"xl"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.$t("insalador_qr","Instalador por QR")),1)])),_:1})])),_:1}),(0,o.Wm)(O,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{ref:"btnStepper",disableStepperHeadClick:"true"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{active:""},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{icon:"1"},{default:(0,o.w5)((()=>[(0,o.Uk)("Leer QR    "),(0,o.Wm)(M,{icon:"qrcode"})])),_:1})])),_:1}),(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o.Wm)(E,{icon:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)("Seleccionar tienda   "),(0,o.Wm)(M,{icon:"hand-pointer"})])),_:1})])),_:1}),(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o.Wm)(E,{icon:"3"},{default:(0,o.w5)((()=>[(0,o.Uk)("Confirmar   "),(0,o.Wm)(M,{icon:"check-double"})])),_:1})])),_:1}),(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o.Wm)(E,{icon:"4"},{default:(0,o.w5)((()=>[(0,o.Uk)("Instalar   "),(0,o.Wm)(M,{icon:"download"})])),_:1})])),_:1}),(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o.Wm)(E,{icon:"5"},{default:(0,o.w5)((()=>[(0,o.Uk)("Finalizar   "),(0,o.Wm)(M,{icon:"flag"})])),_:1})])),_:1})])),_:1},512),(0,o._)("div",u,[0===l.QRstatus[0]?((0,o.wg)(),(0,o.j4)($,{key:0,background:"rgb(0 0 0 / 0%)",value:l.QRinfo,size:"300",level:"H"},null,8,["value"])):(0,o.kq)("",!0)]),1===l.QRstatus[0]?((0,o.wg)(),(0,o.iD)("div",c,m)):(0,o.kq)("",!0),2===l.QRstatus[0]?((0,o.wg)(),(0,o.iD)("div",g,[v,(0,o._)("span",w,(0,n.zw)(l.QRstatus[2]),1),_,(0,o.Wm)(q,{style:{"justify-content":"space-between"}},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{color:"danger",size:"lg",onClick:e[3]||(e[3]=a=>{l.btnStepper?.changeStep(0),l.startQR()})},{default:(0,o.w5)((()=>[(0,o.Uk)("Rechazar")])),_:1}),(0,o.Wm)(R,{color:"success",size:"lg",onClick:e[4]||(e[4]=a=>{l.loadingBar=10,l.btnStepper?.changeStep(4),l.QRstatus[0]=3,l.installQR()})},{default:(0,o.w5)((()=>[(0,o.Uk)("Aceptar")])),_:1})])),_:1})])):(0,o.kq)("",!0),3===l.QRstatus[0]?((0,o.wg)(),(0,o.iD)("div",h,[y,(0,o._)("div",null,[(0,o._)("span",b,(0,n.zw)(`${l.QRinstallerStatus[l.QRinstallerStatusI]} [${l.QRinstallerStatusI+1}/${l.QRinstallerStatus.length}]    |    ${l.QRseconds} segundos transcurridos...`),1),(0,o.Wm)(L,{height:20},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{value:l.loadingBar},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(l.loadingBar)+"% ",1)])),_:1},8,["value"])])),_:1})])])):(0,o.kq)("",!0),4===l.QRstatus[0]?((0,o.wg)(),(0,o.iD)("div",k,[-1==l.QRinstallerStatusI?((0,o.wg)(),(0,o.j4)(M,{key:0,style:{zoom:"6",color:"red"},fas:"",icon:"times"})):(0,o.kq)("",!0),3==l.QRinstallerStatusI?((0,o.wg)(),(0,o.j4)(M,{key:1,style:{zoom:"6",color:"green"},fas:"",icon:"flag-checkered"})):(0,o.kq)("",!0),(0,o._)("div",B,[-1==l.QRinstallerStatusI?((0,o.wg)(),(0,o.iD)("span",D,"La descarga ha fallado, reintentalo mas tarde...")):(0,o.kq)("",!0),3==l.QRinstallerStatusI?((0,o.wg)(),(0,o.iD)("span",T,"¡Descarga completada!")):(0,o.kq)("",!0)]),(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[-1==l.QRinstallerStatusI?((0,o.wg)(),(0,o.j4)(R,{key:0,color:"danger",size:"lg",onClick:e[5]||(e[5]=a=>{l.btnStepper?.changeStep(0),l.startQR()})},{default:(0,o.w5)((()=>[(0,o.Uk)("Reintentar")])),_:1})):(0,o.kq)("",!0),3==l.QRinstallerStatusI?((0,o.wg)(),(0,o.j4)(R,{key:1,color:"success",size:"lg",onClick:e[6]||(e[6]=a=>l.irAVentas())},{default:(0,o.w5)((()=>[(0,o.Uk)("Abrir Terminal")])),_:1})):(0,o.kq)("",!0)])),_:1})])):(0,o.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(F,{id:"contrasenyaAdmin",tabindex:"-1",labelledby:"contrasenyaAdmin",modelValue:l.contrasenyaAdmin,"onUpdate:modelValue":e[11]||(e[11]=a=>l.contrasenyaAdmin=a),size:"lg"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Acceso al instalador manual ")])),_:1})])),_:1}),(0,o.Wm)(O,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(Y,{modelValue:l.contrasenaIntroducida,"onUpdate:modelValue":e[8]||(e[8]=a=>l.contrasenaIntroducida=a),type:"password",placeholder:"Contraseña de administrador"},null,8,["modelValue"])])])),_:1}),(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(R,{color:"danger",size:"lg",onClick:e[9]||(e[9]=a=>{l.contrasenyaAdmin=!1,l.contrasenaIntroducida=""})},{default:(0,o.w5)((()=>[(0,o.Uk)("Salir")])),_:1}),(0,o.Wm)(R,{color:"success",size:"lg",onClick:e[10]||(e[10]=a=>l.checkPassword())},{default:(0,o.w5)((()=>[(0,o.Uk)("Acceder")])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(F,{id:"abrirInstalador",tabindex:"-1",labelledby:"abrirInstalador",modelValue:l.abrirInstalador,"onUpdate:modelValue":e[17]||(e[17]=a=>l.abrirInstalador=a),staticBackdrop:!0,size:"xl"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.$t("instalador_de_licencia","Instalador de licencia")),1)])),_:1})])),_:1}),(0,o.Wm)(O,null,{default:(0,o.w5)((()=>[(0,o._)("div",W,[(0,o.Wm)(M,{class:"infoBtn",color:"secondary",fas:"",icon:"info-circle",onClick:e[12]||(e[12]=a=>l.infoTPVmodal=!0)}),(0,o._)("label",I,"Nº "+(0,n.zw)(a.$t("licencia","licencia")),1),(0,o.Wm)(Y,{modelValue:l.licencia,"onUpdate:modelValue":e[13]||(e[13]=a=>l.licencia=a),type:"number"},null,8,["modelValue"]),(0,o._)("label",S,(0,n.zw)(a.$t("tipo_datafono","Tipo datáfono")),1),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[14]||(e[14]=a=>l.tipoDatafono=a),class:"form-select"},P,512),[[r.bM,l.tipoDatafono]])]),(0,o._)("p",Q,(0,n.zw)(a.$t("atencion","¡Atención!"))+" "+(0,n.zw)(a.$t("si_ya_habian_datos","si ya habían datos"))+" "+(0,n.zw)(a.$t("en_este_TPV","en este TPV"))+", "+(0,n.zw)(a.$t("instalar_la_licencia","instalar la licencia"))+" "+(0,n.zw)(a.$t("eliminara_los_datos_antiguos","eliminará los datos antiguos")),1)])),_:1}),(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(R,{color:"secondary",class:"botonesInstalador",onClick:e[15]||(e[15]=a=>l.confirmarXIP())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.$t("descargar_xip","Descargar por IP")),1)])),_:1}),(0,o.Wm)(R,{color:"success",class:"botonesInstalador",onClick:e[16]||(e[16]=a=>l.confirmar())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.$t("confirmar","Confirmar")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(F,{id:"descargarTPV",tabindex:"-1",labelledby:"descargarTPV",modelValue:l.descargarTPV,"onUpdate:modelValue":e[18]||(e[18]=a=>l.descargarTPV=a),staticBackdrop:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(O,null,{default:(0,o.w5)((()=>[(0,o._)("div",V,[(0,o._)("p",z,(0,n.zw)(a.$t("espera_mientras_se_descargan","Espera mientras descargamos"))+" "+(0,n.zw)(a.$t("los_datos_TPV","los datos del TPV")),1)]),C,(0,o.Wm)(L,{height:20},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{value:l.loadingBar},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(l.loadingBar)+"% ",1)])),_:1},8,["value"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(F,{id:"infoTPVmodal",tabindex:"-1",labelledby:"infoTPVmodal",modelValue:l.infoTPVmodal,"onUpdate:modelValue":e[19]||(e[19]=a=>l.infoTPVmodal=a)},{default:(0,o.w5)((()=>[(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.$t("descargando","Descargando datos")),1)])),_:1})])),_:1}),(0,o.Wm)(O,null,{default:(0,o.w5)((()=>[(0,o._)("h5",null,[(0,o.Wm)(M,{icon:"wifi"}),(0,o.Uk)(" Estado de conexión")]),(0,o._)("p",{style:(0,n.j5)(!0===l.haveInternet?"color:green;":"color:red;")},[(0,o.Wm)(M,{icon:"angle-right"}),(0,o.Uk)(" "+(0,n.zw)(!0===l.haveInternet?"En línea":"Sin conexión"),1)],4),U,(0,o._)("h5",null,[(0,o.Wm)(M,{icon:"ethernet"}),(0,o.Uk)(" IP del TPV")]),(0,o._)("p",null,[(0,o.Wm)(M,{icon:"angle-right"}),(0,o.Uk)(" "+(0,n.zw)(l.IP),1)]),H,(0,o._)("h5",null,[(0,o.Wm)(M,{icon:"shopping-basket"}),(0,o.Uk)(" Tienda asignada")]),(0,o._)("p",null,[(0,o.Wm)(M,{icon:"angle-right"}),(0,o.Uk)(" "+(0,n.zw)(l.assignatedShop),1)])])),_:1})])),_:1},8,["modelValue"])],64)}t(57658);var A=t(44870),E=t(44161),N=t(54455),Z=t(42492),$=t.n(Z),q=t(74313),j=t(74834),L=t(29564),O=t.n(L),F={name:"InstallWizard",components:{MDBCard:q.Yl,MDBCardBody:q.H7,MDBCardText:q.Pp,MDBIcon:q.vm,MDBInput:q.u2,MDBModal:q.j3,MDBModalHeader:q.ol,MDBRow:q.uZ,MDBModalTitle:q.wo,MDBDropdown:q.H6,MDBContainer:q.L5,MDBCol:q.TK,MDBModalBody:q.Yz,MDBModalFooter:q.ab,MDBBtn:q.$v,MDBProgressBar:q.F5,MDBDropdownToggle:q.CU,MDBDropdownItem:q.i2,MDBDropdownMenu:q.Ed,MDBProgress:q.g9,MDBStepper:q.QI,MDBStepperHead:q.Jv,MDBStepperStep:q.x9,MDBStepperContent:q.AC},setup(){const a=(0,A.iH)(""),e=(0,A.iH)(""),t=(0,A.iH)("USB"),o=(0,A.iH)(!1),n=(0,A.iH)("CLEARONE"),r=(0,A.iH)("NO"),l=(0,A.iH)(!1),s=(0,A.iH)(!1),i=(0,A.iH)(!1),d=(0,A.iH)(""),u=(0,A.iH)(!0),c=(0,A.iH)(!1),p=(0,A.iH)(!1),f=(0,A.iH)(0),m=(0,A.iH)(!1),g=(0,A.iH)("No detectado"),v=(0,A.iH)(!1),w=(0,A.iH)("No detectado"),_=(0,A.iH)(!1),h=(0,A.iH)(""),y=(0,A.iH)([0,-1,""]),b=(0,A.iH)(0),k=["Conectando con el servidor...","Solicitando datos para el TPV...","Instalando datos del TPV...","Instalación finalizada!"],B=(0,A.iH)(0),D=(0,A.iH)(!1),T=(0,A.iH)(!1),W=(0,A.iH)(null);function I(){}async function S(){s.value=!0;const t={parametros:{licencia:Number(a.value),password:e.value,tipoDatafono:n.value}};p.value=!0,o.value=!1,f.value=30;try{const a=await E.Z.post("/instalador/pedirDatos",{password:t.parametros.password,numLlicencia:t.parametros.licencia,tipoDatafono:t.parametros.tipoDatafono});if(f.value=75,!a.data)throw Error("Los datos introducidos no son correctos");{const a=await E.Z.post("instalador/descargarTodo");if(f.value=100,!a.data)throw p.value=!1,Error("Error en instalador/descargarTodo");N.Z.push("/"),p.value=!1}}catch(r){p.value=!1,o.value=!0,$().fire("Oops...",r.message,"error")}f.value=0}async function R(){await Q(),B.value=0,B.value+=1;const a={parametros:{licencia:y.value[1],tipoDatafono:"3G"}};try{f.value=10,E.Z.post("/instalador/setData",{cn:h.value,bssnes:y.value[3],cd:a.parametros.licencia}).catch((a=>{console.error("Error en instalador/setData")})),f.value=45;const e=await E.Z.post("/instalador/pedirDatosQR",{password:a.parametros.password,numLlicencia:a.parametros.licencia,tipoDatafono:a.parametros.tipoDatafono});if(f.value=75,B.value+=1,!e.data)throw Error("Los datos introducidos no son correctos");{const a=await E.Z.post("instalador/descargarTodo");if(f.value=100,!a.data)throw Error("Error en instalador/descargarTodo");B.value=3}}catch(e){B.value=-1,$().fire("Oops...",e.message,"error")}f.value=100,setTimeout((()=>{y.value[0]=4,W?.value?.changeStep(5)}),1200)}let M,P=null;async function Q(){P&&clearInterval(P),P=setInterval((()=>{3!=B&&-1!=B||(clearInterval(P),b.value=0),b.value+=1}),1e3)}async function V(){E.Z.get("https://jsonplaceholder.typicode.com/posts/1",{timeout:5e3}).then((()=>{v.value=!0})).catch((()=>{v.value=!1}))}async function z(){const a=await E.Z.post("/instalador/getIPTienda",{ip:g.value});w.value=0!=a.data?a.data:"Sin datos"}async function C(){"11c83b692216a77953e935c3d68b3719"==O()(d.value)?($().fire({icon:"success",title:"¡Bienvenido de nuevo Hit Systems!",showConfirmButton:!1,timer:650}),o.value=!0,m.value=!1,e.value=d.value,d.value=""):"d22bfeac753534fbbcfe66a63cb366c4"==O()(d.value)?($().fire({icon:"success",title:"¡Bienvenido de nuevo Técnico!",showConfirmButton:!1,timer:650}),o.value=!0,m.value=!1,e.value=d.value,d.value=""):$().fire("¡La contraseña y/o el QR son incorrectos!","Por favor, si no eres un técnico, no accedas a este menu.","error")}async function U(){s.value=!0;Number(a.value),e.value,t.value,n.value,r.value;try{const a=await E.Z.post("/instalador/pedirDatosIP",{ip:g.value});if(!a.data)throw Error("No hemos encontrado tu IP por ningun lado... [Error en instalador/pedirDatos]");{u.value=!1,c.value=!0;const a=await E.Z.post("instalador/descargarTodo");if(!a.data)throw s.value=!1,Error("No hemos encontrado tu IP por ningun lado... [Error en instalador/descargarTodo]");{const e=new Date;e.setTime(e.getTime()+6048e5);let t="expires="+e.toUTCString();document.cookie="datosCierre= ["+a.data[1]+"] ;"+t+";path=/",N.Z.push("/"),j.W.cargarTrabajadoresFichados(),s.value=!1}}}catch(o){s.value=!1,$().fire("Oops...",o.message,"error")}}function H(){N.Z.push("/")}async function x(){await E.Z.post("instalador/getCN").then((a=>{h.value=a.data.split(" ").join("[SPACE]")})),E.Z.post("instalador/getIP").then((a=>{""!=a.data&&(_.value=!0),g.value=a.data,z()}))}async function Z(){"/installwizard"!=N.Z.currentRoute.value.fullPath.toLowerCase()||!T.value||y.value[0]>=2?clearInterval(M):E.Z.post("instalador/getQRstatus",{cn:h.value}).then((a=>{if(!a)return Error("No hay datos");let e=JSON.parse(a.data.status);W?.value?.changeStep(Number(e[0])+1),y.value=JSON.parse(a.data.status)}))}function q(){E.Z.post("instalador/resetQRstatus",{cn:h.value}).then((a=>{W?.value?.changeStep(1),y.value=[0,-1,""],M&&clearInterval(M),a&&(M=setInterval(Z,1e3))}))}return V(),x(),{irAVentas:H,primeraParte:u,segundaParte:c,testPrint:I,confirmar:S,confirmarXIP:U,licencia:a,haveInternet:v,password:e,tipoImpresora:t,tipoDatafono:n,impresoraCafeteria:r,esperando:s,GetIPAndCN:x,abrirInstalador:o,assignatedShop:w,IP:g,ipInSystem:_,infoTPVmodal:l,modalInstalador:i,contrasenyaAdmin:m,descargarTPV:p,loadingBar:f,installQR:R,startQR:q,checkPassword:C,QRinfo:h,InstallCounter:Q,contrasenaIntroducida:d,QRstatus:y,OpenSettings:D,QRinstallerStatus:k,QRinstallerStatusI:B,QRseconds:b,QRmodal:T,btnStepper:W}}},Y=t(40089);const G=(0,Y.Z)(F,[["render",x],["__scopeId","data-v-36d80830"]]);var J=G}}]);
//# sourceMappingURL=639.709ca6d2.js.map