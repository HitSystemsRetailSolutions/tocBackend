"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[440],{3440:function(a,e,o){o.r(e),o.d(e,{default:function(){return J}});var t=o(3396),s=o(7139),r=o(9242);const n=a=>((0,t.dD)("data-v-23df0de8"),a=a(),(0,t.Cn)(),a),i={class:"row mt-1"},l={class:"text-center",style:{"font-weight":"bold"}},c={class:"row mt-2"},d={class:"col"},p={class:"mb-3"},m={class:"form-label"},u={class:"mb-3"},_={class:"form-label"},f={class:"mb-3"},w={class:"form-label"},b=n((()=>(0,t._)("option",{selected:"",value:"CLEARONE"},"CLEARONE",-1))),v=n((()=>(0,t._)("option",{value:"3G"},"3G",-1))),g=n((()=>(0,t._)("option",{value:"PAYTEF"},"PAYTEF",-1))),y=[b,v,g],h={class:"col"},I={class:"mb-3"},z={class:"form-label"},k=n((()=>(0,t._)("option",{selected:"",value:"USB"},"USB",-1))),E=n((()=>(0,t._)("option",{value:"SERIE"},"SERIE",-1))),P=[k,E],C={class:"mb-3"},D={class:"form-label"},$={selected:"",value:"SI"},T={value:"NO"},N={key:0,class:"row"},H={style:{"font-size":"20px","font-weight":"bold"}},V={key:0,src:"img/loadingNew.gif",style:{display:"block",margin:"auto",width:"300px"},alt:"Esperando respuesta del servidor"},S={key:1,class:"row"},U={style:{"font-size":"20px","font-weight":"bold",color:"green"}},x={key:0,src:"img/loadingNew.gif",style:{display:"block",margin:"auto",width:"300px"},alt:"Esperando respuesta del servidor"},Z={class:"position-absolute bottom-0 end-0 me-2"},A={key:0,style:{"box-shadow":"none"},class:"btn botones me-4"},O={style:{"font-size":"20px"}},R={style:{color:"green"}};function q(a,e,o,n,b,v){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",i,[(0,t._)("h1",l,(0,s.zw)(a.$t("instalador_de_licencia","Instalador de licencia")),1)]),(0,t._)("div",c,[(0,t._)("div",d,[(0,t._)("div",p,[(0,t._)("label",m,"Nº "+(0,s.zw)(a.$t("licencia","licencia")),1),(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.licencia=a),type:"number",class:"form-control form-control-lg"},null,512),[[r.nr,n.licencia]])]),(0,t._)("div",u,[(0,t._)("label",_,(0,s.zw)(a.$t("contraseña","Contraseña")),1),(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>n.password=a),type:"password",class:"form-control form-control-lg",autocomplete:"on"},null,512),[[r.nr,n.password]])]),(0,t._)("div",f,[(0,t._)("label",w,(0,s.zw)(a.$t("tipo_datafono","Tipo datáfono")),1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>n.tipoDatafono=a),class:"form-select form-select-lg mb-3"},y,512),[[r.bM,n.tipoDatafono]])])]),(0,t._)("div",h,[(0,t._)("div",I,[(0,t._)("label",z,(0,s.zw)(a.$t("tipo_impresora","Tipo impresora")),1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>n.tipoImpresora=a),class:"form-select form-select-lg mb-3"},P,512),[[r.bM,n.tipoImpresora]])]),(0,t._)("div",C,[(0,t._)("label",D,(0,s.zw)(a.$t("impresora_cafeteria","Impresora cafetería")),1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>n.impresoraCafeteria=a),class:"form-select form-select-lg mb-3"},[(0,t._)("option",$,(0,s.zw)(a.$t("si","SI")),1),(0,t._)("option",T,(0,s.zw)(a.$t("no","NO")),1)],512),[[r.bM,n.impresoraCafeteria]])])])]),n.primeraParte?((0,t.wg)(),(0,t.iD)("div",N,[(0,t._)("p",H,(0,s.zw)(a.$t("atencion","¡Atención!"))+" "+(0,s.zw)(a.$t("si_ya_habian_datos","si ya habían datos"))+" "+(0,s.zw)(a.$t("en_este_TPV","en este TPV"))+", "+(0,s.zw)(a.$t("instalar_la_licencia","instalar la licencia"))+" "+(0,s.zw)(a.$t("eliminara_los_datos_antiguos","eliminará los datos antiguos")),1),n.esperando?((0,t.wg)(),(0,t.iD)("img",V)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),n.segundaParte?((0,t.wg)(),(0,t.iD)("div",S,[(0,t._)("p",U,(0,s.zw)(a.$t("datos_correctos","¡Datos correctos!"))+" "+(0,s.zw)(a.$t("espera_mientras_se_descargan","espera mientras se descargan"))+" "+(0,s.zw)(a.$t("los_datos_TPV","los datos TPV")),1),n.esperando?((0,t.wg)(),(0,t.iD)("img",x)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,t._)("div",Z,[n.ipInSystem?((0,t.wg)(),(0,t.iD)("div",A,[(0,t._)("p",O,[(0,t.Uk)((0,s.zw)(a.$t("tu_ip_es","Tu ip es: "))+" ",1),(0,t._)("a",R,[(0,t._)("i",null,(0,s.zw)(n.IP),1)])]),(0,t._)("button",{type:"button",class:"btn btn-secondary botones me-2",onClick:e[5]||(e[5]=a=>n.confirmarXIP())},(0,s.zw)(a.$t("descargar_xip","Descargar por IP")),1)])):(0,t.kq)("",!0),(0,t._)("button",{type:"button",class:"btn btn-success botones me-4",onClick:e[6]||(e[6]=a=>n.irAVentas())},(0,s.zw)(a.$t("menu_ventas","Menú ventas")),1),(0,t._)("button",{type:"button",class:"btn btn-primary botones me-2",onClick:e[7]||(e[7]=a=>n.confirmar())},(0,s.zw)(a.$t("confirmar","Confirmar")),1),(0,t._)("button",{type:"button",class:"btn btn-danger botones",onClick:e[8]||(e[8]=e=>a.reset())}," Reset ")])],64)}o(7658);var L=o(4870),M=o(4161),B=o(8686),F=o(2492),G=o.n(F),Y=o(4834),W={name:"InstallWizard",setup(){const a=(0,L.iH)(""),e=(0,L.iH)(""),o=(0,L.iH)("USB"),t=(0,L.iH)("CLEARONE"),s=(0,L.iH)("NO"),r=(0,L.iH)(!1),n=(0,L.iH)(!0),i=(0,L.iH)(!1),l=(0,L.iH)("cargando..."),c=(0,L.iH)(!1);function d(){}async function p(){r.value=!0;const l={parametros:{licencia:Number(a.value),password:e.value,tipoImpresora:o.value,tipoDatafono:t.value,impresoraCafeteria:s.value}};try{const a=await M.Z.post("/instalador/pedirDatos",{password:l.parametros.password,numLlicencia:l.parametros.licencia,tipoImpresora:l.parametros.tipoImpresora,tipoDatafono:l.parametros.tipoDatafono,impresoraCafeteria:l.parametros.impresoraCafeteria});if(!a.data)throw Error("Error en instalador/pedirDatos");{n.value=!1,i.value=!0;const a=await M.Z.post("instalador/descargarTodo");if(!a.data)throw r.value=!1,Error("Error en instalador/descargarTodo");B.Z.push("/"),r.value=!1}}catch(c){r.value=!1,G().fire("Oops...",c.message,"error")}}async function m(){r.value=!0;Number(a.value),e.value,o.value,t.value,s.value;try{const a=await M.Z.post("/instalador/pedirDatosIP",{ip:l.value});if(!a.data)throw Error("No hemos encontrado tu IP por ningun lado... [Error en instalador/pedirDatos]");{n.value=!1,i.value=!0;const a=await M.Z.post("instalador/descargarTodo");if(!a.data)throw r.value=!1,Error("No hemos encontrado tu IP por ningun lado... [Error en instalador/descargarTodo]");{console.log(a.data);const e=new Date;e.setTime(e.getTime()+6048e5);let o="expires="+e.toUTCString();document.cookie="datosCierre= ["+a.data[1]+"] ;"+o+";path=/",B.Z.push("/"),Y.W.cargarTrabajadoresFichados(),r.value=!1}}}catch(c){r.value=!1,G().fire("Oops...",c.message,"error")}}function u(){B.Z.push("/")}function _(){M.Z.post("instalador/getIP").then((a=>{""!=a.data&&(c.value=!0),l.value=a.data,console.log(l.value,a.data)}))}return _(),{irAVentas:u,primeraParte:n,segundaParte:i,testPrint:d,confirmar:p,confirmarXIP:m,licencia:a,password:e,tipoImpresora:o,tipoDatafono:t,impresoraCafeteria:s,esperando:r,GetIP:_,IP:l,ipInSystem:c}}},X=o(89);const j=(0,X.Z)(W,[["render",q],["__scopeId","data-v-23df0de8"]]);var J=j}}]);
//# sourceMappingURL=440.2c2e6517.js.map