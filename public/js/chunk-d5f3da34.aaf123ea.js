(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5f3da34"],{"308b":function(a,t,e){"use strict";e.r(t);var n=e("7a23"),c=function(a){return Object(n["A"])("data-v-20a51a22"),a=a(),Object(n["y"])(),a},o={class:"row"},s={class:"col-md-6 ms-3 mt-3"},r={class:"row ms-3"},i={class:"card cardWidth"},d={class:"card-body",style:{"text-align":"center"}},l=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-fingerprint"})],-1)})),b={class:"card cardWidth"},u={class:"card-body",style:{"text-align":"center"}},h=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-cup-straw"})],-1)})),j={class:"card cardWidth"},f={class:"card-body",style:{"text-align":"center"}},O=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-file-earmark-lock"})],-1)})),p={class:"card cardWidth"},m={class:"card-body",style:{"text-align":"center"}},v=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-power"})],-1)})),g={class:"row ms-3"},y={class:"card cardWidth"},w={class:"card-body",style:{"text-align":"center"}},C=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-door-open"})],-1)})),x={class:"modal fade",id:"modalFichajes","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},k={class:"modal-dialog",style:{"max-width":"700px"}},T={class:"modal-content"},A=c((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Fichaje"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),I={class:"modal-body"},P={class:"row"},D=c((function(){return Object(n["h"])("div",{class:"row mt-2"},null,-1)})),N={class:"row mt-2"},M={class:"table",style:{height:"400px"}},R={class:"table table-striped"},_=c((function(){return Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"Nombre"),Object(n["h"])("th",{scope:"col"},"Fichar/Desfichar"),Object(n["h"])("th",{scope:"col"},"Descanso")])],-1)})),E={key:0},S=["onClick"],F={key:1},q=c((function(){return Object(n["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-success"},"Fichada/o",-1)})),B=[q],U={key:2},z=["onClick"],L={key:3},W=["onClick"],J={class:"modal-footer"},V={class:"modal fade",id:"modalPassword",tabindex:"-1"},H={class:"modal-dialog",style:{"max-width":"700px"}},G={class:"modal-content"},K=c((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Ingresa la contraseña"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),Q={class:"modal-body"},X={class:"row"},Y={class:"col"},Z={class:"mb-3"},$=c((function(){return Object(n["h"])("label",{class:"form-label"},"Contraseña",-1)})),aa=c((function(){return Object(n["h"])("div",{class:"modal-footer"},[Object(n["h"])("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Cerrar"),Object(n["h"])("button",{type:"submit",class:"btn btn-success","data-bs-dismiss":"modal"},"Confirmar")],-1)}));function ta(a,t,e,c,q,ta){return Object(n["x"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",o,[Object(n["h"])("div",s,[Object(n["h"])("div",r,[Object(n["h"])("div",i,[Object(n["h"])("div",d,[l,Object(n["h"])("a",{href:"#",class:"btn btn-primary",onClick:t[0]||(t[0]=function(a){return c.abrirModal()})},"Fichaje")])]),Object(n["h"])("div",b,[Object(n["h"])("div",u,[h,Object(n["h"])("button",{onClick:t[1]||(t[1]=function(a){return c.consumoPersonal()}),class:"btn btn-primary"},"Consumo personal")])]),Object(n["h"])("div",j,[Object(n["h"])("div",f,[O,Object(n["h"])("button",{onClick:t[2]||(t[2]=function(a){return c.abrirModalPassword()}),class:"btn btn-primary"},"Menú responsable")])]),Object(n["h"])("div",p,[Object(n["h"])("div",m,[v,Object(n["h"])("button",{onClick:t[3]||(t[3]=function(a){return c.apagarEquipo()}),class:"btn btn-danger"},"Apagar")])])]),Object(n["h"])("div",g,[Object(n["h"])("div",y,[Object(n["h"])("div",w,[C,Object(n["h"])("button",{onClick:t[4]||(t[4]=function(a){return c.desfichar()}),class:"btn btn-primary"},"DesFichar")])])])])]),Object(n["h"])("div",x,[Object(n["h"])("div",k,[Object(n["h"])("div",T,[A,Object(n["h"])("div",I,[Object(n["h"])("div",P,[Object(n["R"])(Object(n["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(a){return c.inputBusqueda=a}),class:"form-control",style:{width:"350px",height:"50px","font-size":"20px"},type:"text",placeholder:"Introduce tu nombre"},null,512),[[n["N"],c.inputBusqueda]]),Object(n["h"])("button",{type:"button",style:{width:"100px"},class:"btn btn-primary ms-2",onClick:t[6]||(t[6]=function(a){return c.buscar()})},"Buscar"),Object(n["h"])("button",{type:"button",style:{width:"200px"},class:"btn btn-warning ms-2",onClick:t[7]||(t[7]=function(a){return c.actualizarLista()})},"Actualizar lista"),D,Object(n["h"])("div",N,[Object(n["h"])("div",M,[Object(n["h"])("table",R,[_,Object(n["h"])("tbody",null,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(c.arrayTrabajadores,(function(a,t){return Object(n["x"])(),Object(n["g"])("tr",{key:t},[Object(n["h"])("td",null,Object(n["I"])(a.nombre),1),!1===a.fichado||void 0==a.fichado?(Object(n["x"])(),Object(n["g"])("td",E,[Object(n["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-primary btn_fc",onClick:function(e){return c.fichar(a,t)}},"FICHAR",8,S)])):(Object(n["x"])(),Object(n["g"])("td",F,B)),!1===a.descanso||void 0==a.descanso?(Object(n["x"])(),Object(n["g"])("td",U,[Object(n["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-primary btn_fc",onClick:function(e){return c.inicioDescanso(a,t)}},"DESCANSO",8,z)])):(Object(n["x"])(),Object(n["g"])("td",L,[Object(n["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-warning ms-2",onClick:function(e){return c.finDescanso(a,t)}},"Fin Descanso",8,W)]))])})),128))])])])])])]),Object(n["h"])("div",J,[Object(n["h"])("button",{type:"button",class:"btn btn-danger btn-lg","data-bs-dismiss":"modal",onClick:t[8]||(t[8]=function(a){return c.goTo("/")})},"Confirmar")])])])]),Object(n["h"])("div",V,[Object(n["h"])("div",H,[Object(n["h"])("div",G,[Object(n["h"])("form",{onSubmit:t[10]||(t[10]=Object(n["S"])((function(a){return c.goToMenuResponsable()}),["prevent"]))},[K,Object(n["h"])("div",Q,[Object(n["h"])("div",X,[Object(n["h"])("div",Y,[Object(n["h"])("div",Z,[$,Object(n["R"])(Object(n["h"])("input",{type:"password",minlength:"3",maxlength:"20",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=function(a){return c.password=a})},null,512),[[n["N"],c.password]])])])])]),aa],32)])])])],64)}var ea=e("1da1"),na=(e("96cf"),e("7b17")),ca=e("bc3a"),oa=e.n(ca),sa=e("5502"),ra=e("a18c"),ia=e("0180"),da=e("f06f"),la=e("10c4"),ba={name:"Dependientas",setup:function(){var a=Object(sa["b"])(),t=Object(n["C"])("SIN_TURNO"),e="Santy",c=156,o=Object(n["C"])(!1),s=null,r=null,i=Object(n["C"])([]),d=Object(n["C"])(""),l=Object(ia["b"])(),b=Object(n["C"])([]),u=Object(n["C"])("");function h(){console.log("El selected es: ",t.value)}function j(){return f.apply(this,arguments)}function f(){return f=Object(ea["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,la(u.value);case 2:t=a.sent,"4cd914fef37199909adb4c0ba5e31439429995c4"==t?ra["a"].push("/menuResponsable"):l.error("Contraseña incorrecta");case 4:case"end":return a.stop()}}),a)}))),f.apply(this,arguments)}function O(){s.show(),o.value}function p(){r.show()}function m(){s.hide()}function v(){oa.a.post("trabajadores/buscar",{busqueda:d.value}).then((function(a){i.value=a.data}))["catch"]((function(a){console.log(a)}))}function g(e,n){oa.a.post("trabajadores/fichar",{idTrabajador:e.idTrabajador,idPlan:t.value}).then((function(c){c.data.error?(console.log(c.data.mensaje),i.value[n].fichado=!1):(a.dispatch("Cesta/setIdAction",e.idTrabajador),i.value[n].fichado=!0,t.value="SIN_TURNO")}))["catch"]((function(a){console.log(a)}))}function y(e,n){oa.a.post("trabajadores/inicioDescanso",{idTrabajador:e.idTrabajador,idPlan:t.value}).then((function(c){c.data.error?(console.log(c.data.mensaje),i.value[n].descanso=!1):(a.dispatch("Cesta/setIdAction",e.idTrabajador),i.value[n].descanso=!0,t.value="SIN_TURNO")}))["catch"]((function(a){console.log(a)}))}function w(e,n){oa.a.post("trabajadores/finDescanso",{idTrabajador:e.idTrabajador,idPlan:t.value}).then((function(c){c.data.error?(console.log(c.data.mensaje),i.value[n].descanso=!1):(a.dispatch("Cesta/setIdAction",e.idTrabajador),i.value[n].descanso=!1,t.value="SIN_TURNO")}))["catch"]((function(a){console.log(a)}))}function C(a,t){console.log(a),g(a,t)}function x(){oa.a.post("trabajadores/actualizarTrabajadores").then((function(a){0==a.data.error?l.success("Trabajadores actualizados"):l.error(a.data.mensaje)}))}function k(){oa.a.post("trabajadores/desfichar",{idTrabajador:a.state.Trabajadores.trabajadorActivo}).then((function(t){if(t.data.error)console.log("Error al desfichar");else{a.getters["Cesta/getCestaId"];oa.a.post("cestas/borrarCestaTrabajador",{id:a.state.Trabajadores.trabajadorActivo}).then((function(a){a.data.okey||l.error(a.data.error)})),a.dispatch("CestasActivas/deleteCestaActivaAction",a.state.Trabajadores.trabajadorActivo),oa.a.post("cestas/getCestaDiferente",{id_cesta:a.state.Trabajadores.trabajadorActivo}).then((function(t){a.dispatch("Cesta/setIdAction",t.data._id),oa.a.post("trabajadores/setActivo",{id:t.data._id}).then((function(a){a.data.error&&l.error(a.data.mensaje)})),ra["a"].push("/")}))["catch"]((function(a){console.log(a)}))}}))["catch"]((function(a){console.log(a)}))}function T(){a.dispatch("setModoActual","CONSUMO PERSONAL"),a.dispatch("Footer/setMenuActivo",1),ra["a"].push("/")}function A(a){ra["a"].push(a)}function I(){oa.a.get("apagarEquipo").then((function(a){console.log(a.data),0==a.data.error&&console.log(a.data.mensaje)}))["catch"]((function(a){console.log(a),l.error("Error frontend catch: axios apagar/apagar")}))}return Object(n["v"])((function(){s=new na["a"](document.getElementById("modalFichajes"),{keyboard:!1}),r=new na["a"](document.getElementById("modalPassword"),{keyboard:!1}),"fac_tena"==da["a"].getParametros().database.toLowerCase()&&(o.value=!0),oa.a.get("turnos/getPlanes").then((function(a){0==a.data.error?b.value=a.data.info:l.error(a.data.mensaje)}))["catch"]((function(a){console.log(a),l.error("Error frontend catch: axios turnos/getPlanes")}))})),{mostrarTurnos:o,goTo:A,goToMenuResponsable:j,abrirModalPassword:p,password:u,test:h,arrayPlanes:b,idPlanificacion:t,actualizarLista:x,consumoPersonal:T,fichar:C,desfichar:k,inputBusqueda:d,arrayTrabajadores:i,buscar:v,cerrarModal:m,abrirModal:O,apagarEquipo:I,nombre:e,id:c,inicioDescanso:y,finDescanso:w}},watch:{inputBusqueda:function(){this.inputBusqueda.length>=3&&this.buscar()}}},ua=(e("762c"),e("d959")),ha=e.n(ua);const ja=ha()(ba,[["render",ta],["__scopeId","data-v-20a51a22"]]);t["default"]=ja},"762c":function(a,t,e){"use strict";e("eb63")},eb63:function(a,t,e){}}]);
//# sourceMappingURL=chunk-d5f3da34.aaf123ea.js.map