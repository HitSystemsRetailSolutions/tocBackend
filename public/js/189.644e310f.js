"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[189],{4189:function(l,a,o){o.r(a),o.d(a,{default:function(){return Q}});var e=o(3396),i=o(7139);const r=l=>((0,e.dD)("data-v-d71f751c"),l=l(),(0,e.Cn)(),l),s={class:"container-fluid"},n=r((()=>(0,e._)("div",{class:"row"},[(0,e._)("h2",null,"ABRIR CAJA")],-1))),t={class:"row p-2",style:{"text-align":"center"}},d=r((()=>(0,e._)("img",{src:"/img/1cts.png",width:"84",height:"84"},null,-1))),v=r((()=>(0,e._)("img",{src:"/img/2cts.png",width:"84",height:"84"},null,-1))),c=r((()=>(0,e._)("img",{src:"/img/5cts.png",width:"84",height:"84"},null,-1))),u=r((()=>(0,e._)("img",{src:"/img/10cts.png",width:"84",height:"84"},null,-1))),_=r((()=>(0,e._)("img",{src:"/img/20cts.png",width:"84",height:"84"},null,-1))),m=r((()=>(0,e._)("img",{src:"/img/50cts.png",width:"84",height:"84"},null,-1))),g=r((()=>(0,e._)("img",{src:"/img/uneuro.png",width:"84",height:"84"},null,-1))),f=r((()=>(0,e._)("img",{src:"/img/doseuros.png",width:"84",height:"84"},null,-1))),C={class:"row mx-auto mt-4"},w=["width"],b=r((()=>(0,e._)("br",null,null,-1))),h=["width"],p=r((()=>(0,e._)("br",null,null,-1))),y=["width"],z=r((()=>(0,e._)("br",null,null,-1))),k=["width"],D=r((()=>(0,e._)("br",null,null,-1))),A=["width"],B=r((()=>(0,e._)("br",null,null,-1))),N=["width"],S=r((()=>(0,e._)("br",null,null,-1))),x=["width"],M=r((()=>(0,e._)("br",null,null,-1))),j={class:"row mx-auto mt-5"},T={class:"text-center"},U={class:"position-absolute bottom-0 start-0 mb-4 ms-2"},V={class:"row"},H={class:"col"},R={class:"col"};function W(l,a,o,r,W,Z){const O=(0,e.up)("MDBBtn"),E=(0,e.up)("MDBModalBody"),F=(0,e.up)("MDBModal");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",s,[n,(0,e._)("div",t,[(0,e._)("div",{class:"col",onClick:a[0]||(a[0]=l=>r.setActivo(0))},[d,(0,e._)("label",{class:(0,i.C_)({infoDineros:0==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[0].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[1]||(a[1]=l=>r.setActivo(1))},[v,(0,e._)("label",{class:(0,i.C_)({infoDineros:1==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[1].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[2]||(a[2]=l=>r.setActivo(2))},[c,(0,e._)("label",{class:(0,i.C_)({infoDineros:2==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[2].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[3]||(a[3]=l=>r.setActivo(3))},[u,(0,e._)("label",{class:(0,i.C_)({infoDineros:3==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[3].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[4]||(a[4]=l=>r.setActivo(4))},[_,(0,e._)("label",{class:(0,i.C_)({infoDineros:4==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[4].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[5]||(a[5]=l=>r.setActivo(5))},[m,(0,e._)("label",{class:(0,i.C_)({infoDineros:5==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[5].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[6]||(a[6]=l=>r.setActivo(6))},[g,(0,e._)("label",{class:(0,i.C_)({infoDineros:6==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[6].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[7]||(a[7]=l=>r.setActivo(7))},[f,(0,e._)("label",{class:(0,i.C_)({infoDineros:7==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[7].valor)+" unidades ",3)])]),(0,e._)("div",C,[(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[8]||(a[8]=l=>r.setActivo(8))},[(0,e._)("img",{src:"/img/5euros.png",width:r.sizeBilletes},null,8,w),(0,e.Uk)(),b,(0,e._)("label",{class:(0,i.C_)({infoDineros:8==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[8].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[9]||(a[9]=l=>r.setActivo(9))},[(0,e._)("img",{src:"/img/10euros.png",width:r.sizeBilletes},null,8,h),p,(0,e._)("label",{class:(0,i.C_)({infoDineros:9==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[9].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[10]||(a[10]=l=>r.setActivo(10))},[(0,e._)("img",{src:"/img/20euros.png",width:r.sizeBilletes},null,8,y),z,(0,e._)("label",{class:(0,i.C_)({infoDineros:10==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[10].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[11]||(a[11]=l=>r.setActivo(11))},[(0,e._)("img",{src:"/img/50euros.png",width:r.sizeBilletes},null,8,k),D,(0,e._)("label",{class:(0,i.C_)({infoDineros:11==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[11].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[12]||(a[12]=l=>r.setActivo(12))},[(0,e._)("img",{src:"/img/100euros.png",width:r.sizeBilletes},null,8,A),B,(0,e._)("label",{class:(0,i.C_)({infoDineros:12==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[12].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[13]||(a[13]=l=>r.setActivo(13))},[(0,e._)("img",{src:"/img/200euros.png",width:r.sizeBilletes},null,8,N),S,(0,e._)("label",{class:(0,i.C_)({infoDineros:13==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[13].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[14]||(a[14]=l=>r.setActivo(14))},[(0,e._)("img",{src:"/img/500euros.png",width:r.sizeBilletes},null,8,x),M,(0,e._)("label",{class:(0,i.C_)({infoDineros:14==r.activo,unidadesSize:!0})},(0,i.zw)(r.infoDinero[14].valor)+" unidades ",3)])]),(0,e._)("div",j,[(0,e._)("div",T,[(0,e._)("a",{class:"boton",onClick:a[15]||(a[15]=l=>r.addNumero(0))},"0"),(0,e._)("a",{class:"boton",onClick:a[16]||(a[16]=l=>r.addNumero(1))},"1"),(0,e._)("a",{class:"boton",onClick:a[17]||(a[17]=l=>r.addNumero(2))},"2"),(0,e._)("a",{class:"boton",onClick:a[18]||(a[18]=l=>r.addNumero(3))},"3"),(0,e._)("a",{class:"boton",onClick:a[19]||(a[19]=l=>r.addNumero(4))},"4"),(0,e._)("a",{class:"boton",onClick:a[20]||(a[20]=l=>r.addNumero(5))},"5"),(0,e._)("a",{class:"boton",onClick:a[21]||(a[21]=l=>r.addNumero(6))},"6"),(0,e._)("a",{class:"boton",onClick:a[22]||(a[22]=l=>r.addNumero(7))},"7"),(0,e._)("a",{class:"boton",onClick:a[23]||(a[23]=l=>r.addNumero(8))},"8"),(0,e._)("a",{class:"boton",onClick:a[24]||(a[24]=l=>r.addNumero(9))},"9"),(0,e._)("a",{class:"boton",onClick:a[25]||(a[25]=l=>r.borrarNumero())},"<")])]),(0,e._)("div",U,[(0,e.Wm)(O,{color:"primary",style:{"font-size":"27px"},size:"lg",onClick:a[26]||(a[26]=l=>r.abrirModalConfirmacion())},{default:(0,e.w5)((()=>[(0,e.Uk)("ABRIR CON "+(0,i.zw)(r.getTotal.toFixed(2))+" € ",1)])),_:1}),(0,e.Wm)(O,{color:"warning",style:{"font-size":"27px"},size:"lg",onClick:a[27]||(a[27]=l=>r.volver())},{default:(0,e.w5)((()=>[(0,e.Uk)("VOLVER ")])),_:1})])]),(0,e.Wm)(F,{id:"modalConfirmacionApertura",tabindex:"-1",labelledby:"tituloModalConfirmacionApertura",modelValue:r.modalConfirmacionApertura,"onUpdate:modelValue":a[30]||(a[30]=l=>r.modalConfirmacionApertura=l),centered:"",staticBackdrop:""},{default:(0,e.w5)((()=>[(0,e.Wm)(E,null,{default:(0,e.w5)((()=>[(0,e._)("div",V,[(0,e._)("div",H,[(0,e.Wm)(O,{color:"danger",class:"w-100",size:"lg",onClick:a[28]||(a[28]=l=>r.modalConfirmacionApertura=!1)},{default:(0,e.w5)((()=>[(0,e.Uk)("Cancelar")])),_:1})]),(0,e._)("div",R,[(0,e.Wm)(O,{color:"success",size:"lg",class:"w-100",onClick:a[29]||(a[29]=l=>r.abrirCaja())},{default:(0,e.w5)((()=>[(0,e.Uk)("Confirmar")])),_:1})])])])),_:1})])),_:1},8,["modelValue"])],64)}o(7658);var Z=o(4870),O=o(4161),E=o(8686),F=o(2492),I=o.n(F),Y=o(4313),G=o(65),J={name:"AbrirCajaView",components:{MDBModal:Y.j3,MDBModalBody:Y.Yz,MDBBtn:Y.$v},setup(){const l=(0,G.oR)(),a=(0,Z.iH)(!1),o=(0,Z.iH)(null),i=(0,e.Fl)((()=>69)),r=(0,Z.iH)([{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""}]),s=(0,Z.iH)(0),n=0,t="160",d=(0,Z.iH)(0),v=(0,e.Fl)((()=>{let l=0;return l+=.01*r.value[0].valor,l+=.02*r.value[1].valor,l+=.05*r.value[2].valor,l+=.1*r.value[3].valor,l+=.2*r.value[4].valor,l+=.5*r.value[5].valor,l+=1*r.value[6].valor,l+=2*r.value[7].valor,l+=5*r.value[8].valor,l+=10*r.value[9].valor,l+=20*r.value[10].valor,l+=50*r.value[11].valor,l+=100*r.value[12].valor,l+=200*r.value[13].valor,l+=500*r.value[14].valor,l})),c=(0,e.Fl)((()=>{const l=[{_id:"0.01",valor:.01*r.value[0].valor,unidades:r.value[0].valor},{_id:"0.02",valor:.02*r.value[1].valor,unidades:r.value[1].valor},{_id:"0.05",valor:.05*r.value[2].valor,unidades:r.value[2].valor},{_id:"0.10",valor:.1*r.value[3].valor,unidades:r.value[3].valor},{_id:"0.20",valor:.2*r.value[4].valor,unidades:r.value[4].valor},{_id:"0.50",valor:.5*r.value[5].valor,unidades:r.value[5].valor},{_id:"1",valor:1*r.value[6].valor,unidades:r.value[6].valor},{_id:"2",valor:2*r.value[7].valor,unidades:r.value[7].valor},{_id:"5",valor:5*r.value[8].valor,unidades:r.value[8].valor},{_id:"10",valor:10*r.value[9].valor,unidades:r.value[9].valor},{_id:"20",valor:20*r.value[10].valor,unidades:r.value[10].valor},{_id:"50",valor:50*r.value[11].valor,unidades:r.value[11].valor},{_id:"100",valor:100*r.value[12].valor,unidades:r.value[12].valor},{_id:"200",valor:200*r.value[13].valor,unidades:r.value[13].valor},{_id:"500",valor:500*r.value[14].valor,unidades:r.value[14].valor}];return l}));function u(l){s.value=l}function _(){E.Z.push("/menu/caja")}function m(l){r.value[s.value].valor=Number(r.value[s.value].valor.toString()+l)}function g(){r.value=[{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""}],d.value=0}function f(l,a,o){const e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3);let i="expires="+e.toUTCString();document.cookie=l+"="+a+";"+i+";path=/"}async function C(){try{O.Z.post("parametros/setTipoVisor",{tipo:"MQTT"});const a=(await O.Z.post("/caja/abrirCaja",{total:v.value,detalle:c.value,idDependienta:l.getters["Trabajadores/getTrabajadorActivo"]._id})).data;if(!a)throw Error("No se ha podido abrir la caja");h(),I().fire("¡Todo OK!","Caja abierta correctamente","success"),f("datosCierre","",7),E.Z.push("/main")}catch(a){I().fire("Error",a.messaeg,"error")}}function w(){r.value[s.value].valor=Number(r.value[s.value].valor.toString().slice(0,-1))}function b(){a.value=!0}function h(){a.value=!1}return(0,e.bv)((()=>{O.Z.get("caja/getMonedasUltimoCierre").then((l=>{if(l.data&&l.data)for(let a=0;a<l.data.array.length;a++)r.value[a].valor=l.data.array[a];else I().fire("Oops...","No se ha podido cargar la información (backend)","warning")})).catch((l=>{I().fire("Error","No se ha podido cargar la información del último cierre (petición)","error")}))})),{lolaso:i,ejemplo:o,volver:_,infoDinero:r,activo:s,totalClearOne:n,sizeBilletes:t,setActivo:u,addNumero:m,resetTodo:g,borrarNumero:w,getTotal:v,cantidad3G:d,abrirCaja:C,abrirModalConfirmacion:b,cerrarModalConfirmacion:h,modalConfirmacionApertura:a}}},K=o(89);const L=(0,K.Z)(J,[["render",W],["__scopeId","data-v-d71f751c"]]);var Q=L}}]);
//# sourceMappingURL=189.644e310f.js.map