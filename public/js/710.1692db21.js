"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[710],{7710:function(a,t,e){e.r(t),e.d(t,{default:function(){return ta}});var i=e(3396),c=e(7139);const s={class:"row justify-content-center mt-4"},l={class:"col-7"},o={class:"card"},r=(0,i._)("div",{class:"card-header"},[(0,i._)("h4",null,"Último cierre de caja")],-1),d={class:"card-body"},n={class:"row row-2"},v={class:"col-6"},m=(0,i._)("h6",{class:"text-center"},"Detalle",-1),u={class:"card"},_={class:"card-body"},w={class:"text-muted"},g={class:"row row-2"},p=(0,i._)("div",{class:"col-4"},"Resp:",-1),f={class:"col-8 text-start"},x=(0,i._)("div",{class:"col-4"},"Inici:",-1),C={class:"col-8 text-start"},h=(0,i._)("div",{class:"col-4"},"Final:",-1),D={class:"col-8 text-start"},H=(0,i._)("div",{class:"col-6 mb-2 mt-4"},"Calaix fet:",-1),b={class:"col-4 mb-2 mt-4 text-start"},z=(0,i._)("div",{class:"col-6 mt-2"},"Descuadre:",-1),F={class:"col-4 mt-2 text-start"},M=(0,i._)("div",{class:"col-6 mt-2"},"Clients atessos:",-1),T={class:"col-4 mt-2 text-start"},k=(0,i._)("div",{class:"col-6 mt-2"},"Rescaudat:",-1),y={class:"col-4 mt-2 text-start"},Z=(0,i._)("div",{class:"col-6 mt-2"},"Total 3G:",-1),j={class:"col-4 mt-2 text-start"},U=(0,i._)("div",{class:"col-6 mt-2"},"Canvi inicial:",-1),B={class:"col-4 mt-2 text-start"},I=(0,i._)("div",{class:"col-6 mt-2"},"Canvi final:",-1),G={class:"col-4 mt-2 text-start"},Y={class:"col-6 overflow-scroll"},E=(0,i._)("h6",{class:"text-center"},"Moviments de Caixa",-1),R={key:0,class:"card-body"},V={class:"row row-2 text-muted"},q=(0,i._)("div",{class:"col-4"},"Cantidad:",-1),A={class:"col-6 text-start"},K=(0,i._)("div",{class:"col-4"},"Fecha:",-1),S={class:"col-6 text-start"},W=(0,i._)("div",{class:"col-4"},"Concepto:",-1),$={class:"col-6 text-start"},J={class:"card-footer text-center"};function L(a,t,e,L,N,O){const P=(0,i.up)("MDBBtn");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",l,[(0,i._)("div",o,[r,(0,i._)("div",d,[(0,i._)("div",n,[(0,i._)("div",v,[m,(0,i._)("div",u,[(0,i._)("div",_,[(0,i._)("div",w,[(0,i._)("div",g,[p,(0,i._)("div",f,(0,c.zw)(L.name),1),x,(0,i._)("div",C,(0,c.zw)(L.inicioTime),1),h,(0,i._)("div",D,(0,c.zw)(L.finalTime),1),H,(0,i._)("div",b,(0,c.zw)(L.calaixFetZ),1),z,(0,i._)("div",F,(0,c.zw)(L.descuadre),1),M,(0,i._)("div",T,(0,c.zw)(L.nClientes),1),k,(0,i._)("div",y,(0,c.zw)(L.recaudado),1),Z,(0,i._)("div",j,(0,c.zw)(L.totalDatafono3G),1),U,(0,i._)("div",B,(0,c.zw)(L.cambioInicial),1),I,(0,i._)("div",G,(0,c.zw)(L.cambioFinal),1)])])])])]),(0,i._)("div",Y,[E,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(L.moviments,((a,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"card mb-2",key:t},["Salida"==a.concepto||"Entrega Diària"==a.concepto||"Entrada"==a.concepto?((0,i.wg)(),(0,i.iD)("div",R,[(0,i._)("div",V,[q,(0,i._)("div",A,(0,c.zw)(a.valor),1),K,(0,i._)("div",S,(0,c.zw)(a.fecha),1),W,(0,i._)("div",$,(0,c.zw)(a.concepto),1)])])):(0,i.kq)("",!0)])))),128))])])]),(0,i._)("div",J,[(0,i.Wm)(P,{color:"primary",class:"w-50",size:"lg",onClick:t[0]||(t[0]=a=>L.imprimirUltimoCierre())},{default:(0,i.w5)((()=>[(0,i.Uk)("Volver a imprimir cierre")])),_:1})])])])])}e(7658);var N=e(4313),O=e(4161),P=e(4870),Q={name:"VerUltimoCierreComponent",components:{MDBBtn:N.$v},setup(){const a=(0,P.iH)(""),t=(0,P.iH)(0),e=(0,P.iH)(0),c=(0,P.iH)(0),s=(0,P.iH)(0),l=(0,P.iH)(0),o=(0,P.iH)(0),r=(0,P.iH)([]),d=(0,P.iH)(0),n=(0,P.iH)(0),v=(0,P.iH)(0),m=(0,P.iH)(0),u=(0,P.iH)(0),_=(0,P.iH)("");function w(){O.Z.post("caja/imprimirUltimoCierre")}return(0,i.bv)((()=>{O.Z.get("caja/getUltimoCierre").then((i=>{O.Z.post("trabajadores/getTrabajadorById",{id:i.data.idDependientaCierre}).then((t=>{a.value=t.data.nombre}));const m=new Date(i.data.inicioTime),u=new Date(i.data.finalTime);t.value=m.getDate()+"-"+m.getMonth()+"-"+m.getFullYear()+"  "+m.getHours()+":"+m.getMinutes(),e.value=u.getDate()+"-"+u.getMonth()+"-"+u.getFullYear()+"  "+u.getHours()+":"+u.getMinutes(),c.value=i.data.calaixFetZ,l.value=i.data.totalDatafono3G,s.value=i.data.descuadre,o.value=i.data.nClientes,v.value=i.data.recaudado,d.value=i.data.totalApertura,n.value=i.data.totalCierre,O.Z.post("movimientos/getMovimientosIntervalo",{inicio:i.data.inicioTime,final:i.data.finalTime}).then((a=>{a.data&&a.data.forEach((a=>{const t=new Date(a._id),e=t.getDate()+"-"+t.getMonth()+"-"+t.getFullYear()+"  "+t.getHours()+":"+t.getMinutes();r.value.push({fecha:e,concepto:a.concepto,valor:a.valor})}))}))}))})),{name:a,inicioTime:t,finalTime:e,calaixFetZ:c,totalDatafono3G:l,descuadre:s,recaudado:v,nClientes:o,cambioInicial:d,cambioFinal:n,moviments:r,concepto:_,valor:u,fecha:m,imprimirUltimoCierre:w}}},X=e(89);const aa=(0,X.Z)(Q,[["render",L]]);var ta=aa}}]);
//# sourceMappingURL=710.1692db21.js.map