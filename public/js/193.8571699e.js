"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[193],{92913:function(e,a,l){l.d(a,{Z:function(){return R}});var o=l(73396),t=l(87139),n=l(49242);const i={class:"row"},r={class:"d-inline-block text-center"},c={class:"row mt-1 p-4"},d={class:"col-md-8"},s={class:"col-md-4"},u={key:0,class:"row"},m={class:"col"},v={class:"table-responsive w-100",style:{height:"400px"}},p={class:"table table-striped mt-1"},g={class:"textoNombre d-inline-block text-truncate"},_={key:1,class:"row"},C={class:"sinResultados position-relative"},b={class:"textoSinResultados position-absolute top-50 start-50 translate-middle"};function f(e,a,l,f,k,h){const w=(0,o.up)("MDBBtn"),y=(0,o.up)("MDBModalBody"),D=(0,o.up)("MDBModal"),M=(0,o.up)("ModalNuevoCliente");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(D,{id:"modalClientes",tabindex:"-1",labelledby:"tituloModalClientes",modelValue:f.modalClientes,"onUpdate:modelValue":a[7]||(a[7]=e=>f.modalClientes=e),staticBackdrop:"",size:"xl"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o._)("div",r,[(0,o.Wm)(w,{color:"warning",class:"sizeBotones",onClick:a[0]||(a[0]=e=>f.clickDelivery("Glovo")),disabled:!f.activoGlovo},{default:(0,o.w5)((()=>[(0,o.Uk)("Glovo")])),_:1},8,["disabled"]),(0,o.Wm)(w,{color:"dark",class:"ms-2 sizeBotones",disabled:!f.activoUber,onClick:a[1]||(a[1]=e=>f.clickDelivery("Uber"))},{default:(0,o.w5)((()=>[(0,o.Uk)("Uber")])),_:1},8,["disabled"]),(0,o.Wm)(w,{color:"primary",class:"ms-2 sizeBotones",disabled:!f.activoToGo,onClick:a[2]||(a[2]=e=>f.clickDelivery("TooGoodToGo"))},{default:(0,o.w5)((()=>[(0,o.Uk)("To Go")])),_:1},8,["disabled"]),(0,o.Wm)(w,{color:"success",class:"ms-2 sizeBotones",onClick:a[3]||(a[3]=e=>f.modalNuevoClienteRef.abrirModal())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("nuevo","Nuevo")),1)])),_:1}),(0,o.Wm)(w,{color:"danger",class:"ms-2 sizeBotones",onClick:a[4]||(a[4]=e=>f.modalClientes=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("salir","Salir")),1)])),_:1})])]),(0,o._)("div",c,[(0,o._)("div",d,[(0,o.wy)((0,o._)("input",{class:"form-control inputBusqueda w-100",type:"text",placeholder:"Buscar por nombre","aria-label":".form-control-lg example","onUpdate:modelValue":a[5]||(a[5]=e=>f.inputBusqueda=e)},null,512),[[n.nr,f.inputBusqueda]])]),(0,o._)("div",s,[(0,o.Wm)(w,{color:"secondary",class:"botonBusqueda w-100",onClick:a[6]||(a[6]=e=>f.buscar())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("buscar","Buscar")),1)])),_:1})])]),f.arrayClientes?.length>0?((0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("div",m,[(0,o._)("div",v,[(0,o._)("table",p,[(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.arrayClientes,((a,l)=>((0,o.wg)(),(0,o.iD)("tr",{key:l},[(0,o._)("td",null,[(0,o._)("span",g,(0,t.zw)(a.nombre),1)]),(0,o._)("td",null,[(0,o.Wm)(w,{color:"primary",size:"lg",onClick:e=>f.selectCliente(a.id,a.nombre),class:"w-100",style:{height:"3.85rem","font-size":"1.5rem"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("elegir","Elegir")),1)])),_:2},1032,["onClick"])])])))),128))])])])])])):((0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("div",C,[(0,o._)("span",b,(0,t.zw)(e.$t("sin_resultados","Sin resultados")),1)])]))])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(M,{ref:"modalNuevoClienteRef"},null,512)],64)}var k=l(44161),h=l(74313),w=l(42492),y=l.n(w),D=l(44870),M=l(20065);const B={class:"row"},H={class:"col w-50"},V={class:"col w-50 datos"};function x(e,a,l,n,i,r){const c=(0,o.up)("MDBModalHeader"),d=(0,o.up)("MDBInput"),s=(0,o.up)("MDBModalBody"),u=(0,o.up)("MDBBtn"),m=(0,o.up)("MDBModalFooter"),v=(0,o.up)("MDBModal");return(0,o.wg)(),(0,o.j4)(v,{id:"modalFichaCliente",tabindex:"-1",labelledby:"tituloModalFichaCliente",modelValue:n.modalFichaCliente,"onUpdate:modelValue":a[9]||(a[9]=e=>n.modalFichaCliente=e),staticBackdrop:"",size:"xl"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("h2",null,"Ficha de "+(0,t.zw)(n.nombre),1)])),_:1}),(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o._)("div",B,[(0,o._)("div",H,[(0,o.Wm)(d,{label:"Nombre",modelValue:n.nombre,"onUpdate:modelValue":a[0]||(a[0]=e=>n.nombre=e),style:{"margin-top":"10px"}},null,8,["modelValue"]),(0,o.Wm)(d,{label:"Telefono",modelValue:n.telefono,"onUpdate:modelValue":a[1]||(a[1]=e=>n.telefono=e),class:"datos",style:{"margin-top":"10px"}},null,8,["modelValue"]),(0,o.Wm)(d,{label:"email",modelValue:n.email,"onUpdate:modelValue":a[2]||(a[2]=e=>n.email=e),class:"datos",style:{"margin-top":"10px"}},null,8,["modelValue"]),(0,o.Wm)(d,{label:"direccion",modelValue:n.direccion,"onUpdate:modelValue":a[3]||(a[3]=e=>n.direccion=e),class:"datos",style:{"margin-top":"10px"}},null,8,["modelValue"])]),(0,o._)("div",V,[(0,o.Wm)(d,{label:"Tarjeta Cliente",modelValue:n.tarjeta,"onUpdate:modelValue":a[4]||(a[4]=e=>n.tarjeta=e),class:"datos",style:{"margin-top":"10px"},"aria-required":"true"},null,8,["modelValue"]),(0,o.Wm)(d,{label:"Nif",modelValue:n.nif,"onUpdate:modelValue":a[5]||(a[5]=e=>n.nif=e),class:"datos",style:{"margin-top":"10px"}},null,8,["modelValue"]),(0,o.Wm)(d,{label:"descuento",modelValue:n.descuento,"onUpdate:modelValue":a[6]||(a[6]=e=>n.descuento=e),class:"datos",style:{"margin-top":"10px"}},null,8,["modelValue"])])])])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{color:"primary",onClick:a[7]||(a[7]=e=>n.guardarCliente())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Guardar ")])),_:1}),(0,o.Wm)(u,{color:"danger",onClick:a[8]||(a[8]=e=>n.modalFichaCliente=!1),ref:"salirBoton"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Salir ")])),_:1},512)])),_:1})])),_:1},8,["modelValue"])}var T={name:"ModalFichaClienteComponent",props:["callback"],components:{MDBBtn:h.$v,MDBInput:h.u2,MDBModal:h.j3,MDBModalBody:h.Yz,MDBModalFooter:h.ab,MDBModalHeader:h.ol},setup(e,a){const l=(0,D.iH)(!1),t=e=>{n.value="",i.value="",r.value="",c.value="",d.value="",s.value="",u.value="",l.value=!0};a.expose({abrirModal:t});const n=(0,D.iH)(""),i=(0,D.iH)(""),r=(0,D.iH)(""),c=(0,D.iH)(""),d=(0,D.iH)(""),s=(0,D.iH)(""),u=(0,D.iH)("0"),m=((0,D.iH)(null),(0,D.iH)(null)),v=(0,o.f3)("cambiosCliente"),p=()=>{""!=n.value?isNaN(Number(u.value))?y().fire({title:"Vaya...",text:"El descuento tiene que ser un número",icon:"error",confirmButtonText:"Aceptar"}):k.Z.post("clientes/crearNuevoCliente",{nombre:n.value,telefono:i.value,email:r.value,direccion:c.value,tarjetaCliente:d.value,nif:s.value,descuento:u.value}).then((()=>{y().fire({title:"Cliente creado",icon:"success",confirmButtonText:"Aceptar"}),l.value=!1})):y().fire({title:"Vaya...",text:"El campo de nombre y de tarjeta son obligatorios",icon:"error",confirmButtonText:"Aceptar"})};return{modalFichaCliente:l,guardarCliente:p,nombre:n,telefono:i,email:r,direccion:c,tarjeta:d,nif:s,descuento:u,salirBoton:m,cambiosCliente:v}}},E=l(40089);const U=(0,E.Z)(T,[["render",x]]);var z=U,j={name:"ModalClientesComponent",components:{MDBModal:h.j3,MDBModalBody:h.Yz,MDBBtn:h.$v,ModalNuevoCliente:z},setup(e,a){const l=(0,M.oR)(),t=(0,D.iH)(!1),n=(0,D.iH)(0),i=(0,D.iH)(""),r=(0,D.iH)(),c=(0,D.iH)(null),d=(0,D.iH)(!0),s=(0,D.iH)(!0),u=(0,D.iH)(!0),m=(0,o.f3)("actualizarPuntos"),v=(0,o.Fl)((()=>l.state.Trabajadores.arrayTrabajadores)),p=(0,o.Fl)((()=>l.state.Trabajadores.indexActivo)),g=(0,o.Fl)((()=>v.value&&void 0!=p.value&&null!=p.value&&v.value[p.value]?v.value[p.value]:null)),_=(0,o.Fl)((()=>l.state.Cestas.arrayCestas));function C(){t.value=!0,h()}function b(){n.value++}function f(e){k.Z.post("clientes/getClienteById",{idCliente:e}).then((a=>{if(!a.data)throw Error("No se ha podido obtener la información del cliente. backend");B(e,a.data.nombre)})).catch((e=>{y().fire("Oops...",e.message,"error")}))}const h=async()=>{const e=await k.Z.post("clientes/getServiciosTienda");e.data?(d.value=!!e.data.includes("Glovo"),s.value=!!e.data.includes("TooGoodToGo"),u.value=!!e.data.includes("Uber")):(d.value=!1,s.value=!1,u.value=!1)},w=async e=>{const a=await k.Z.post("clientes/getClienteByServicio",{servicio:e});if(!a.data)throw Error("No se ha podido obtener la información del cliente. backend");f(a.data)};function B(e,a){if(_.value)for(let o=0;o<_.value.length;o++)if(g.value.idCesta===_.value[o]._id){l.dispatch("Cestas/setClienteCesta",{index:o,idCliente:e,nombreCliente:a}),l.dispatch("EstadoDinamico/setVistaCliente",!0),m(),t.value=!1;break}}function H(){k.Z.post("clientes/buscar",{busqueda:i.value}).then((e=>{r.value=e.data})).catch((e=>{y().fire("Oops...",e.message,"error")}))}return(0,o.YP)(i,(()=>{H()})),a.expose({abrirModal:C,datoBorrar:n,selectCliente:B}),{test:b,datoBorrar:n,modalClientes:t,inputBusqueda:i,arrayClientes:r,selectCliente:B,buscar:H,modalNuevoClienteRef:c,clickClienteAtajo:f,activoGlovo:d,activoToGo:s,activoUber:u,clickDelivery:w}}};const A=(0,E.Z)(j,[["render",f],["__scopeId","data-v-82c07e46"]]);var R=A},59193:function(e,a,l){l.r(a),l.d(a,{default:function(){return J}});var o=l(73396),t=l(87139),n=l(49242);const i=e=>((0,o.dD)("data-v-47b99f22"),e=e(),(0,o.Cn)(),e),r={id:"main"},c={id:"vueMenuEncargo"},d={class:"encargos"},s={class:""},u={class:"row"},m=i((()=>(0,o._)("div",{class:"col"},null,-1))),v={class:"col"},p={key:0},g={class:"btnEncargo lgEncargo float-right"},_=i((()=>(0,o._)("i",{class:"fas fa-search"},null,-1))),C=i((()=>(0,o._)("hr",null,null,-1))),b={class:"productos"},f={key:0},k={class:"d-flex flex-column juatify-content-center"},h=["onUpdate:modelValue"],w={key:1},y=i((()=>(0,o._)("hr",{class:"hrEncargo"},null,-1))),D={class:"recogida"},M={class:"opciones-recogida"},B={class:"fechas-recogida"},H={key:0},V={key:1},x={key:2},T=["id","onUpdate:modelValue","onClick"],E=i((()=>(0,o._)("hr",{class:"hrEncargo"},null,-1))),U={class:"encargos-footer"},z=i((()=>(0,o._)("small",{id:"emailHelp",class:"form-text text-muted"},"Precio total:",-1))),j={class:"mb-0 mt-2"},A={class:"input-deja-a-cuenta"},R=i((()=>(0,o._)("small",{id:"emailHelp",class:"form-text text-muted"},"Deja a cuenta:",-1))),W={class:""},N=["disabled"];function F(e,a,l,i,F,I){const $=(0,o.up)("ModalClientesComponent");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",r,[(0,o._)("div",c,[(0,o._)("div",null,[(0,o._)("div",d,[(0,o._)("div",s,[(0,o._)("div",u,[m,(0,o._)("div",v,[i.clienteData.idCliente?((0,o.wg)(),(0,o.iD)("h1",p,[(0,o._)("button",g,(0,t.zw)(i.clienteData.nombreCliente),1)])):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"btnEncargo float-right",onClick:a[0]||(a[0]=e=>i.refModalClientes.abrirModal())},[_,(0,o.Uk)(" Abrir modal cliente ")]))])]),C,(0,o._)("div",b,[i.productos.length?((0,o.wg)(),(0,o.iD)("div",f,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.productos,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"producto",key:a},[(0,o._)("div",k,[(0,o._)("span",null,(0,t.zw)(e.nombre),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.arraySuplementos,((e,a)=>((0,o.wg)(),(0,o.iD)("span",{key:a},(0,t.zw)(e.nombre),1)))),128))]),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",placeholder:"Comentario del producto...","onUpdate:modelValue":a=>e.comentario=a},null,8,h),[[n.nr,e.comentario]])])))),128))])):((0,o.wg)(),(0,o.iD)("div",w,(0,t.zw)(e.$t("toc_game_no_hay_productos","No hay ningún producto seleccionado")),1))]),y,(0,o._)("div",D,[(0,o._)("div",M,[(0,o._)("button",{onClick:a[1]||(a[1]=(...e)=>i.onClickRecogida&&i.onClickRecogida(...e)),value:"1",class:(0,t.C_)({active:1===i.refEncargoRecogida})},(0,t.zw)(e.$t("toc_game_encargos_hoy","Hoy")),3),(0,o._)("button",{onClick:a[2]||(a[2]=(...e)=>i.onClickRecogida&&i.onClickRecogida(...e)),value:"2",class:(0,t.C_)({active:2===i.refEncargoRecogida})},(0,t.zw)(e.$t("toc_game_encargos_otro_dia","Otro día")),3),(0,o._)("button",{onClick:a[3]||(a[3]=(...e)=>i.onClickRecogida&&i.onClickRecogida(...e)),value:"3",class:(0,t.C_)({active:3===i.refEncargoRecogida})},(0,t.zw)(e.$t("toc_game_encargos_cada","Cada...")),3)]),(0,o._)("div",B,[1===i.refEncargoRecogida?((0,o.wg)(),(0,o.iD)("div",H,[(0,o._)("button",{onClick:a[4]||(a[4]=(...e)=>i.onClickAmPm&&i.onClickAmPm(...e)),value:"am",class:(0,t.C_)({active:"am"===i.refAmPm})},(0,t.zw)(e.$t("toc_game_encargos_por_la_manana","Turno de la mañana")),3),(0,o._)("button",{onClick:a[5]||(a[5]=(...e)=>i.onClickAmPm&&i.onClickAmPm(...e)),value:"pm",class:(0,t.C_)({active:"pm"===i.refAmPm})},(0,t.zw)(e.$t("toc_game_encargos_por_la_tarde","Turno de la tarde")),3)])):(0,o.kq)("",!0),2===i.refEncargoRecogida?((0,o.wg)(),(0,o.iD)("div",V,[(0,o.wy)((0,o._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>i.fechaInput=e)},null,512),[[n.nr,i.fechaInput]]),(0,o.wy)((0,o._)("input",{type:"time",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=e=>i.horaInput=e)},null,512),[[n.nr,i.horaInput]])])):(0,o.kq)("",!0),3===i.refEncargoRecogida?((0,o.wg)(),(0,o.iD)("div",x,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.dias,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{key:a},[(0,o.wy)((0,o._)("input",{type:"button",id:e.dia,"onUpdate:modelValue":a=>e.dia=a,onClick:a=>i.clickDia(e),class:(0,t.C_)({active:i.refDia===e.nDia})},null,10,T),[[n.nr,e.dia]])])))),128))])):(0,o.kq)("",!0)])]),E,(0,o._)("div",U,[(0,o._)("div",null,[z,(0,o._)("p",j,(0,t.zw)(i.precioTotal)+"€",1)]),(0,o._)("div",A,[R,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"cuenta",name:"dejaACuenta",placeholder:"0",min:"0","onUpdate:modelValue":a[8]||(a[8]=e=>i.dejaACuenta=e)},null,512),[[n.nr,i.dejaACuenta]])]),(0,o._)("div",W,[(0,o._)("input",{type:"button",value:"Crear encargo",class:"btn btn-primary btn-lg",onClick:a[9]||(a[9]=(...e)=>i.crearEncargo&&i.crearEncargo(...e)),disabled:i.botonBloqueado},null,8,N)])])])])])])]),(0,o.Wm)($,{ref:"refModalClientes"},null,512)],64)}l(57658);var I=l(44870),$=l(20065),q=l(92913),S=l(42492),G=l.n(S),P=l(5658),Z=l(44161),Y=l(54455),O={name:"EncargosComponent",components:{ModalClientesComponent:q.Z},setup(){const e=(0,I.iH)(!1),a=(0,I.iH)(null),l=(0,$.oR)(),{t:t}=(0,P.QT)(),n=l.getters["Cestas/getCestaActiva"],i=l.getters["Cestas/getCestaActivaIndex"],r=(0,o.Fl)((()=>l.state.Trabajadores.arrayTrabajadores)),c=(0,o.Fl)((()=>l.state.Trabajadores.indexActivo)),d=(0,o.Fl)((()=>r.value&&null!=c.value&&void 0!=c.value&&r.value[c.value]?r.value[c.value]:null)),s=(0,I.iH)(null),u=(0,I.iH)(null),m=(0,I.iH)(null),v=(0,I.iH)(null),p=(0,I.iH)([{dia:"Lunes",nDia:0,checked:!1},{dia:"Martes",nDia:1,checked:!1},{dia:"Miércoles",nDia:2,checked:!1},{dia:"Jueves",nDia:3,checked:!1},{dia:"Viernes",nDia:4,checked:!1},{dia:"Sábado",nDia:5,checked:!1},{dia:"Domingo",nDia:6,checked:!1}]),g=(0,I.iH)(null),_=(0,I.iH)(0),C={idCliente:n.idCliente,nombreCliente:n.nombreCliente},b=(0,I.iH)(n.lista.map((e=>({id:e.idArticulo,nombre:e.nombre,total:e.subtotal,unidades:e.unidades,comentario:"",arraySuplementos:e.arraySuplementos,promocion:e.promocion})))),f=(0,I.iH)(null),k=e=>{s.value=parseInt(e.target.value)},h=e=>{u.value=e.target.value},w=e=>{g.value=e.nDia;for(let a=0;a<p.value.length;a++)p.value[a].nDia==g.value?p.value[a].checked=!0:p.value[a].checked=!1},y=()=>p.value.filter((e=>e.checked)),D=()=>{let e=n.detalleIva.importe1+n.detalleIva.importe2+n.detalleIva.importe3+n.detalleIva.importe4+n.detalleIva.importe5;return Number(e.toFixed(2))},M=()=>{if(e.value=!0,!b.value.length)return B(t("toc_game_encargos_error_no_productos","Tienes que haber al menos un producto para crear el encargo."),"error"),void(e.value=!1);if(!s.value)return B(t("toc_game_encargos_error_no_recogida","Tienes que elegir una opción de recogida (hoy, otro día o cada...)"),"error"),void(e.value=!1);if(1===s.value&&!u.value)return B(t("toc_game_encargos_error_no_am_pm","Tienes que elegir por la mañana o por la tarde"),"error"),void(e.value=!1);if(2===s.value&&(!m.value||!v.value))return B(t("toc_game_encargos_error_fecha_hora","Tienes que elegir la fecha y la hora del encargo"),"error"),void(e.value=!1);if(3===s.value&&!y().length)return B(t("toc_game_encargos_error_dias_seleccionados","Tienes que elegir al menos un día"),"error"),void(e.value=!1);if(1===s.value){const e=new Date,a=e.getFullYear(),l=e.getMonth()+1,o=e.getDate();m.value=`${a}-${l.toString().padStart(2,"0")}-${o.toString().padStart(2,"0")}`}if(3===s.value){let e=new Date,a=e.getDay(),l=y()[0].nDia+1,o=(l-a+7)%7,t=new Date(e.getTime()+24*o*60*60*1e3);const n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate();m.value=`${n}-${i.toString().padStart(2,"0")}-${r.toString().padStart(2,"0")}`}const a={idCliente:C.idCliente,nombreCliente:C.nombreCliente,opcionRecogida:s.value,amPm:u.value,fecha:m.value,hora:v.value,dias:y(),dejaCuenta:_.value,total:D(),productos:b.value,cesta:n,idTrabajador:d.value._id,nombreDependienta:d.value.nombre};Z.Z.post("encargos/setEncargo",a).then((({data:a})=>a&&a.msg?a.error?(B(a.msg,"error"),void(e.value=!1)):(_.value>0&&Z.Z.post("movimientos/nuevoMovimiento",{cantidad:_.value,concepto:"dejaACuenta",idTrabajador:d.value._id,tipo:"ENTRADA_DINERO"}).then((a=>{if(!a.data)throw e.value=!1,Error("No se ha podido realizar la entrada de dinero")})).catch((a=>{e.value=!1,G().fire("Oops...",a.message,"error")})),e.value=!1,void B(t("toc_game_encargos_ok","Encargo creado!"),"success",H)):(B(t("toc_game_encargos_error_general","Error general"),"error"),void(e.value=!1)))).catch((a=>{e.value=!1,B(t("toc_game_encargos_error_general","Error general"),"error")}))},B=(e,a,l=(()=>{}))=>{G().fire("error"===a?"Oops...":"Ok!!",e,a).then((()=>l()))},H=async()=>(await l.dispatch("Cestas/setModoCesta",{index:i,modo:"VENTA"}),l.dispatch("Cestas/setClienteCesta",{index:i,idCliente:null,nombreCliente:null}),l.dispatch("EstadoDinamico/reset"),l.dispatch("Cestas/deleteLista",n._id),V("/main"),Promise.resolve()),V=e=>Y.Z.push(e);return(0,o.bv)((()=>{f.value=D()})),{refModalClientes:a,cestaActiva:n,clienteData:C,productos:b,refEncargoRecogida:s,refAmPm:u,dias:p,fechaInput:m,horaInput:v,dejaACuenta:_,onClickRecogida:k,onClickAmPm:h,clickDia:w,crearEncargo:M,precioTotal:f,refDia:g,botonBloqueado:e}}},K=l(40089);const L=(0,K.Z)(O,[["render",F],["__scopeId","data-v-47b99f22"]]);var J=L}}]);
//# sourceMappingURL=193.8571699e.js.map